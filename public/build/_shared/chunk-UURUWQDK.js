import{e as vg}from"/build/_shared/chunk-THAA5J2T.js";import{a as Lt}from"/build/_shared/chunk-DUH7O3SV.js";import{b as mw}from"/build/_shared/chunk-4BW2JWK3.js";import{a as ze,r as gf}from"/build/_shared/chunk-RVP37ENA.js";import{b as Rr,c as Ee,d as De}from"/build/_shared/chunk-DTKMK5PW.js";var Kw=Rr(jw=>{"use strict";(function(){"use strict";var r;function e(m){var y=0;return function(){return y<m.length?{done:!1,value:m[y++]}:{done:!0}}}var t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,y,S){return m==Array.prototype||m==Object.prototype||(m[y]=S.value),m};function o(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof globalThis=="object"&&globalThis];for(var y=0;y<m.length;++y){var S=m[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var n=o(this);function s(m,y){if(y)e:{var S=n;m=m.split(".");for(var N=0;N<m.length-1;N++){var R=m[N];if(!(R in S))break e;S=S[R]}m=m[m.length-1],N=S[m],y=y(N),y!=N&&y!=null&&t(S,m,{configurable:!0,writable:!0,value:y})}}s("Symbol",function(m){function y(F){if(this instanceof y)throw new TypeError("Symbol is not a constructor");return new S(N+(F||"")+"_"+R++,F)}function S(F,_){this.h=F,t(this,"description",{configurable:!0,writable:!0,value:_})}if(m)return m;S.prototype.toString=function(){return this.h};var N="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",R=0;return y}),s("Symbol.iterator",function(m){if(m)return m;m=Symbol("Symbol.iterator");for(var y="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),S=0;S<y.length;S++){var N=n[y[S]];typeof N=="function"&&typeof N.prototype[m]!="function"&&t(N.prototype,m,{configurable:!0,writable:!0,value:function(){return i(e(this))}})}return m});function i(m){return m={next:m},m[Symbol.iterator]=function(){return this},m}function a(m){var y=typeof Symbol<"u"&&Symbol.iterator&&m[Symbol.iterator];return y?y.call(m):{next:e(m)}}function u(m){if(!(m instanceof Array)){m=a(m);for(var y,S=[];!(y=m.next()).done;)S.push(y.value);m=S}return m}var c=typeof Object.assign=="function"?Object.assign:function(m,y){for(var S=1;S<arguments.length;S++){var N=arguments[S];if(N)for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(m[R]=N[R])}return m};s("Object.assign",function(m){return m||c});var l=typeof Object.create=="function"?Object.create:function(m){function y(){}return y.prototype=m,new y},p;if(typeof Object.setPrototypeOf=="function")p=Object.setPrototypeOf;else{var f;e:{var d={a:!0},h={};try{h.__proto__=d,f=h.a;break e}catch{}f=!1}p=f?function(m,y){if(m.__proto__=y,m.__proto__!==y)throw new TypeError(m+" is not extensible");return m}:null}var x=p;function g(m,y){if(m.prototype=l(y.prototype),m.prototype.constructor=m,x)x(m,y);else for(var S in y)if(S!="prototype")if(Object.defineProperties){var N=Object.getOwnPropertyDescriptor(y,S);N&&Object.defineProperty(m,S,N)}else m[S]=y[S];m.za=y.prototype}function b(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function C(m){if(m.m)throw new TypeError("Generator is already running");m.m=!0}b.prototype.u=function(m){this.i=m};function k(m,y){m.l={ma:y,na:!0},m.h=m.s||m.v}b.prototype.return=function(m){this.l={return:m},this.h=this.v};function A(m,y,S){return m.h=S,{value:y}}function D(m){this.h=new b,this.i=m}function L(m,y){C(m.h);var S=m.h.j;return S?M(m,"return"in S?S.return:function(N){return{value:N,done:!0}},y,m.h.return):(m.h.return(y),V(m))}function M(m,y,S,N){try{var R=y.call(m.h.j,S);if(!(R instanceof Object))throw new TypeError("Iterator result "+R+" is not an object");if(!R.done)return m.h.m=!1,R;var F=R.value}catch(_){return m.h.j=null,k(m.h,_),V(m)}return m.h.j=null,N.call(m.h,F),V(m)}function V(m){for(;m.h.h;)try{var y=m.i(m.h);if(y)return m.h.m=!1,{value:y.value,done:!1}}catch(S){m.h.i=void 0,k(m.h,S)}if(m.h.m=!1,m.h.l){if(y=m.h.l,m.h.l=null,y.na)throw y.ma;return{value:y.return,done:!0}}return{value:void 0,done:!0}}function z(m){this.next=function(y){return C(m.h),m.h.j?y=M(m,m.h.j.next,y,m.h.u):(m.h.u(y),y=V(m)),y},this.throw=function(y){return C(m.h),m.h.j?y=M(m,m.h.j.throw,y,m.h.u):(k(m.h,y),y=V(m)),y},this.return=function(y){return L(m,y)},this[Symbol.iterator]=function(){return this}}function W(m){function y(N){return m.next(N)}function S(N){return m.throw(N)}return new Promise(function(N,R){function F(_){_.done?N(_.value):Promise.resolve(_.value).then(y,S).then(F,R)}F(m.next())})}function H(m){return W(new z(new D(m)))}s("Promise",function(m){function y(_){this.i=0,this.j=void 0,this.h=[],this.u=!1;var B=this.l();try{_(B.resolve,B.reject)}catch(G){B.reject(G)}}function S(){this.h=null}function N(_){return _ instanceof y?_:new y(function(B){B(_)})}if(m)return m;S.prototype.i=function(_){if(this.h==null){this.h=[];var B=this;this.j(function(){B.m()})}this.h.push(_)};var R=n.setTimeout;S.prototype.j=function(_){R(_,0)},S.prototype.m=function(){for(;this.h&&this.h.length;){var _=this.h;this.h=[];for(var B=0;B<_.length;++B){var G=_[B];_[B]=null;try{G()}catch(q){this.l(q)}}}this.h=null},S.prototype.l=function(_){this.j(function(){throw _})},y.prototype.l=function(){function _(q){return function(Y){G||(G=!0,q.call(B,Y))}}var B=this,G=!1;return{resolve:_(this.I),reject:_(this.m)}},y.prototype.I=function(_){if(_===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(_ instanceof y)this.L(_);else{e:switch(typeof _){case"object":var B=_!=null;break e;case"function":B=!0;break e;default:B=!1}B?this.F(_):this.s(_)}},y.prototype.F=function(_){var B=void 0;try{B=_.then}catch(G){this.m(G);return}typeof B=="function"?this.M(B,_):this.s(_)},y.prototype.m=function(_){this.v(2,_)},y.prototype.s=function(_){this.v(1,_)},y.prototype.v=function(_,B){if(this.i!=0)throw Error("Cannot settle("+_+", "+B+"): Promise already settled in state"+this.i);this.i=_,this.j=B,this.i===2&&this.K(),this.H()},y.prototype.K=function(){var _=this;R(function(){if(_.D()){var B=n.console;typeof B<"u"&&B.error(_.j)}},1)},y.prototype.D=function(){if(this.u)return!1;var _=n.CustomEvent,B=n.Event,G=n.dispatchEvent;return typeof G>"u"?!0:(typeof _=="function"?_=new _("unhandledrejection",{cancelable:!0}):typeof B=="function"?_=new B("unhandledrejection",{cancelable:!0}):(_=n.document.createEvent("CustomEvent"),_.initCustomEvent("unhandledrejection",!1,!0,_)),_.promise=this,_.reason=this.j,G(_))},y.prototype.H=function(){if(this.h!=null){for(var _=0;_<this.h.length;++_)F.i(this.h[_]);this.h=null}};var F=new S;return y.prototype.L=function(_){var B=this.l();_.T(B.resolve,B.reject)},y.prototype.M=function(_,B){var G=this.l();try{_.call(B,G.resolve,G.reject)}catch(q){G.reject(q)}},y.prototype.then=function(_,B){function G(ue,ee){return typeof ue=="function"?function(me){try{q(ue(me))}catch(Ce){Y(Ce)}}:ee}var q,Y,fe=new y(function(ue,ee){q=ue,Y=ee});return this.T(G(_,q),G(B,Y)),fe},y.prototype.catch=function(_){return this.then(void 0,_)},y.prototype.T=function(_,B){function G(){switch(q.i){case 1:_(q.j);break;case 2:B(q.j);break;default:throw Error("Unexpected state: "+q.i)}}var q=this;this.h==null?F.i(G):this.h.push(G),this.u=!0},y.resolve=N,y.reject=function(_){return new y(function(B,G){G(_)})},y.race=function(_){return new y(function(B,G){for(var q=a(_),Y=q.next();!Y.done;Y=q.next())N(Y.value).T(B,G)})},y.all=function(_){var B=a(_),G=B.next();return G.done?N([]):new y(function(q,Y){function fe(me){return function(Ce){ue[me]=Ce,ee--,ee==0&&q(ue)}}var ue=[],ee=0;do ue.push(void 0),ee++,N(G.value).T(fe(ue.length-1),Y),G=B.next();while(!G.done)})},y});function X(m,y){m instanceof String&&(m+="");var S=0,N=!1,R={next:function(){if(!N&&S<m.length){var F=S++;return{value:y(F,m[F]),done:!1}}return N=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}s("Array.prototype.keys",function(m){return m||function(){return X(this,function(y){return y})}}),s("Array.prototype.fill",function(m){return m||function(y,S,N){var R=this.length||0;for(0>S&&(S=Math.max(0,R+S)),(N==null||N>R)&&(N=R),N=Number(N),0>N&&(N=Math.max(0,R+N)),S=Number(S||0);S<N;S++)this[S]=y;return this}});function oe(m){return m||Array.prototype.fill}s("Int8Array.prototype.fill",oe),s("Uint8Array.prototype.fill",oe),s("Uint8ClampedArray.prototype.fill",oe),s("Int16Array.prototype.fill",oe),s("Uint16Array.prototype.fill",oe),s("Int32Array.prototype.fill",oe),s("Uint32Array.prototype.fill",oe),s("Float32Array.prototype.fill",oe),s("Float64Array.prototype.fill",oe),s("Object.is",function(m){return m||function(y,S){return y===S?y!==0||1/y===1/S:y!==y&&S!==S}}),s("Array.prototype.includes",function(m){return m||function(y,S){var N=this;N instanceof String&&(N=String(N));var R=N.length;for(S=S||0,0>S&&(S=Math.max(S+R,0));S<R;S++){var F=N[S];if(F===y||Object.is(F,y))return!0}return!1}}),s("String.prototype.includes",function(m){return m||function(y,S){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(y instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(y,S||0)!==-1}});var ae=this||self;function ce(m,y){m=m.split(".");var S=ae;m[0]in S||typeof S.execScript>"u"||S.execScript("var "+m[0]);for(var N;m.length&&(N=m.shift());)m.length||y===void 0?S[N]&&S[N]!==Object.prototype[N]?S=S[N]:S=S[N]={}:S[N]=y}function Se(m){var y;e:{if((y=ae.navigator)&&(y=y.userAgent))break e;y=""}return y.indexOf(m)!=-1}var Ie=Array.prototype.map?function(m,y){return Array.prototype.map.call(m,y,void 0)}:function(m,y){for(var S=m.length,N=Array(S),R=typeof m=="string"?m.split(""):m,F=0;F<S;F++)F in R&&(N[F]=y.call(void 0,R[F],F,m));return N},Oe={},Me=null;function Te(m){var y=m.length,S=3*y/4;S%3?S=Math.floor(S):"=.".indexOf(m[y-1])!=-1&&(S="=.".indexOf(m[y-2])!=-1?S-2:S-1);var N=new Uint8Array(S),R=0;return Ve(m,function(F){N[R++]=F}),R!==S?N.subarray(0,R):N}function Ve(m,y){function S(G){for(;N<m.length;){var q=m.charAt(N++),Y=Me[q];if(Y!=null)return Y;if(!/^[\s\xa0]*$/.test(q))throw Error("Unknown base64 encoding at char: "+q)}return G}at();for(var N=0;;){var R=S(-1),F=S(0),_=S(64),B=S(64);if(B===64&&R===-1)break;y(R<<2|F>>4),_!=64&&(y(F<<4&240|_>>2),B!=64&&y(_<<6&192|B))}}function at(){if(!Me){Me={};for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),y=["+/=","+/","-_=","-_.","-_"],S=0;5>S;S++){var N=m.concat(y[S].split(""));Oe[S]=N;for(var R=0;R<N.length;R++){var F=N[R];Me[F]===void 0&&(Me[F]=R)}}}}var dt=typeof Uint8Array<"u",mr=!(Se("Trident")||Se("MSIE"))&&typeof ae.btoa=="function";function Jt(m){if(!mr){var y;y===void 0&&(y=0),at(),y=Oe[y];for(var S=Array(Math.floor(m.length/3)),N=y[64]||"",R=0,F=0;R<m.length-2;R+=3){var _=m[R],B=m[R+1],G=m[R+2],q=y[_>>2];_=y[(_&3)<<4|B>>4],B=y[(B&15)<<2|G>>6],G=y[G&63],S[F++]=q+_+B+G}switch(q=0,G=N,m.length-R){case 2:q=m[R+1],G=y[(q&15)<<2]||N;case 1:m=m[R],S[F]=y[m>>2]+y[(m&3)<<4|q>>4]+G+N}return S.join("")}for(y="";10240<m.length;)y+=String.fromCharCode.apply(null,m.subarray(0,10240)),m=m.subarray(10240);return y+=String.fromCharCode.apply(null,m),btoa(y)}var er=RegExp("[-_.]","g");function Vo(m){switch(m){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function cn(m){if(!mr)return Te(m);er.test(m)&&(m=m.replace(er,Vo)),m=atob(m);for(var y=new Uint8Array(m.length),S=0;S<m.length;S++)y[S]=m.charCodeAt(S);return y}var Wn;function di(){return Wn||(Wn=new Uint8Array(0))}var Hn={},JR=typeof Uint8Array.prototype.slice=="function",vt=0,tr=0;function bv(m){var y=0>m;m=Math.abs(m);var S=m>>>0;m=Math.floor((m-S)/4294967296),y&&(S=a(vv(S,m)),y=S.next().value,m=S.next().value,S=y),vt=S>>>0,tr=m>>>0}var e_=typeof BigInt=="function";function vv(m,y){return y=~y,m?m=~m+1:y+=1,[m,y]}function wv(m,y){this.i=m>>>0,this.h=y>>>0}function Sv(m){if(!m)return Tv||(Tv=new wv(0,0));if(!/^-?\d+$/.test(m))return null;if(16>m.length)bv(Number(m));else if(e_)m=BigInt(m),vt=Number(m&BigInt(4294967295))>>>0,tr=Number(m>>BigInt(32)&BigInt(4294967295));else{var y=+(m[0]==="-");tr=vt=0;for(var S=m.length,N=y,R=(S-y)%6+y;R<=S;N=R,R+=6)N=Number(m.slice(N,R)),tr*=1e6,vt=1e6*vt+N,4294967296<=vt&&(tr+=vt/4294967296|0,vt%=4294967296);y&&(y=a(vv(vt,tr)),m=y.next().value,y=y.next().value,vt=m,tr=y)}return new wv(vt,tr)}var Tv;function Cv(m,y){return Error("Invalid wire type: "+m+" (at position "+y+")")}function Jh(){return Error("Failed to read varint, encoding is invalid.")}function Iv(m,y){return Error("Tried to read past the end of the data "+y+" > "+m)}function jn(){throw Error("Invalid UTF8")}function Ev(m,y){return y=String.fromCharCode.apply(null,y),m==null?y:m+y}var of=void 0,eg,t_=typeof TextDecoder<"u",Nv,r_=typeof TextEncoder<"u",$v;function kv(m){if(m!==Hn)throw Error("illegal external caller")}function Ja(m,y){if(kv(y),this.V=m,m!=null&&m.length===0)throw Error("ByteString should be constructed with non-empty values")}function tg(){return $v||($v=new Ja(null,Hn))}function Av(m){kv(Hn);var y=m.V;return y=y==null||dt&&y!=null&&y instanceof Uint8Array?y:typeof y=="string"?cn(y):null,y==null?y:m.V=y}function o_(m){if(typeof m=="string")return{buffer:cn(m),C:!1};if(Array.isArray(m))return{buffer:new Uint8Array(m),C:!1};if(m.constructor===Uint8Array)return{buffer:m,C:!1};if(m.constructor===ArrayBuffer)return{buffer:new Uint8Array(m),C:!1};if(m.constructor===Ja)return{buffer:Av(m)||di(),C:!0};if(m instanceof Uint8Array)return{buffer:new Uint8Array(m.buffer,m.byteOffset,m.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Rv(m,y){this.i=null,this.m=!1,this.h=this.j=this.l=0,rg(this,m,y)}function rg(m,y,S){S=S===void 0?{}:S,m.S=S.S===void 0?!1:S.S,y&&(y=o_(y),m.i=y.buffer,m.m=y.C,m.l=0,m.j=m.i.length,m.h=m.l)}Rv.prototype.reset=function(){this.h=this.l};function Kn(m,y){if(m.h=y,y>m.j)throw Iv(m.j,y)}function eu(m){var y=m.i,S=m.h,N=y[S++],R=N&127;if(N&128&&(N=y[S++],R|=(N&127)<<7,N&128&&(N=y[S++],R|=(N&127)<<14,N&128&&(N=y[S++],R|=(N&127)<<21,N&128&&(N=y[S++],R|=N<<28,N&128&&y[S++]&128&&y[S++]&128&&y[S++]&128&&y[S++]&128&&y[S++]&128)))))throw Jh();return Kn(m,S),R}function _v(m,y){if(0>y)throw Error("Tried to read a negative byte length: "+y);var S=m.h,N=S+y;if(N>m.j)throw Iv(y,m.j-S);return m.h=N,S}var Ov=[];function og(){this.h=[]}og.prototype.length=function(){return this.h.length},og.prototype.end=function(){var m=this.h;return this.h=[],m};function Dv(m,y,S){for(;0<S||127<y;)m.h.push(y&127|128),y=(y>>>7|S<<25)>>>0,S>>>=7;m.h.push(y)}function qn(m,y){for(;127<y;)m.h.push(y&127|128),y>>>=7;m.h.push(y)}function ng(m,y){if(Ov.length){var S=Ov.pop();rg(S,m,y),m=S}else m=new Rv(m,y);this.h=m,this.j=this.h.h,this.i=this.l=-1,this.setOptions(y)}ng.prototype.setOptions=function(m){m=m===void 0?{}:m,this.ca=m.ca===void 0?!1:m.ca},ng.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function Fv(m){var y=m.h;if(y.h==y.j)return!1;m.j=m.h.h;var S=eu(m.h)>>>0;if(y=S>>>3,S&=7,!(0<=S&&5>=S))throw Cv(S,m.j);if(1>y)throw Error("Invalid field number: "+y+" (at position "+m.j+")");return m.l=y,m.i=S,!0}function nf(m){switch(m.i){case 0:if(m.i!=0)nf(m);else e:{m=m.h;for(var y=m.h,S=y+10,N=m.i;y<S;)if(!(N[y++]&128)){Kn(m,y);break e}throw Jh()}break;case 1:m=m.h,Kn(m,m.h+8);break;case 2:m.i!=2?nf(m):(y=eu(m.h)>>>0,m=m.h,Kn(m,m.h+y));break;case 5:m=m.h,Kn(m,m.h+4);break;case 3:y=m.l;do{if(!Fv(m))throw Error("Unmatched start-group tag: stream EOF");if(m.i==4){if(m.l!=y)throw Error("Unmatched end-group tag");break}nf(m)}while(!0);break;default:throw Cv(m.i,m.j)}}var sf=[];function n_(){this.j=[],this.i=0,this.h=new og}function hi(m,y){y.length!==0&&(m.j.push(y),m.i+=y.length)}function s_(m,y){if(y=y.R){hi(m,m.h.end());for(var S=0;S<y.length;S++)hi(m,Av(y[S])||di())}}var Uo=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function Xn(m,y){return Uo?m[Uo]|=y:m.A!==void 0?m.A|=y:(Object.defineProperties(m,{A:{value:y,configurable:!0,writable:!0,enumerable:!1}}),y)}function Pv(m,y){Uo?m[Uo]&&(m[Uo]&=~y):m.A!==void 0&&(m.A&=~y)}function mt(m){var y;return Uo?y=m[Uo]:y=m.A,y??0}function mo(m,y){Uo?m[Uo]=y:m.A!==void 0?m.A=y:Object.defineProperties(m,{A:{value:y,configurable:!0,writable:!0,enumerable:!1}})}function sg(m){return Xn(m,1),m}function i_(m,y){mo(y,(m|0)&-51)}function af(m,y){mo(y,(m|18)&-41)}var ig={};function uf(m){return m!==null&&typeof m=="object"&&!Array.isArray(m)&&m.constructor===Object}var tu,Lv=[];mo(Lv,23),tu=Object.freeze(Lv);function ag(m){if(mt(m.o)&2)throw Error("Cannot mutate an immutable Message")}function ug(m){var y=m.length;(y=y?m[y-1]:void 0)&&uf(y)?y.g=1:(y={},m.push((y.g=1,y)))}function Bv(m){var y=m.i+m.G;return m.B||(m.B=m.o[y]={})}function Kr(m,y){return y===-1?null:y>=m.i?m.B?m.B[y]:void 0:m.o[y+m.G]}function ho(m,y,S,N){ag(m),ru(m,y,S,N)}function ru(m,y,S,N){m.j&&(m.j=void 0),y>=m.i||N?Bv(m)[y]=S:(m.o[y+m.G]=S,(m=m.B)&&y in m&&delete m[y])}function cg(m,y,S,N){var R=Kr(m,y);Array.isArray(R)||(R=tu);var F=mt(R);if(F&1||sg(R),N)F&2||Xn(R,2),S&1||Object.freeze(R);else{N=!(S&2);var _=F&2;S&1||!_?N&&F&16&&!_&&Pv(R,16):(R=sg(Array.prototype.slice.call(R)),ru(m,y,R))}return R}function lg(m,y){var S=Kr(m,y),N=S==null?S:typeof S=="number"||S==="NaN"||S==="Infinity"||S==="-Infinity"?Number(S):void 0;return N!=null&&N!==S&&ru(m,y,N),N}function Mv(m,y,S,N,R){m.h||(m.h={});var F=m.h[S],_=cg(m,S,3,R);if(!F){var B=_;F=[];var G=!!(mt(m.o)&16);_=!!(mt(B)&2);var q=B;!R&&_&&(B=Array.prototype.slice.call(B));for(var Y=_,fe=0;fe<B.length;fe++){var ue=B[fe],ee=y,me=!1;if(me=me===void 0?!1:me,ue=Array.isArray(ue)?new ee(ue):me?new ee:void 0,ue!==void 0){ee=ue.o;var Ce=me=mt(ee);_&&(Ce|=2),G&&(Ce|=16),Ce!=me&&mo(ee,Ce),ee=Ce,Y=Y||!!(2&ee),F.push(ue)}}return m.h[S]=F,G=mt(B),y=G|33,y=Y?y&-9:y|8,G!=y&&(Y=B,Object.isFrozen(Y)&&(Y=Array.prototype.slice.call(Y)),mo(Y,y),B=Y),q!==B&&ru(m,S,B),(R||N&&_)&&Xn(F,2),N&&Object.freeze(F),F}return R||(R=Object.isFrozen(F),N&&!R?Object.freeze(F):!N&&R&&(F=Array.prototype.slice.call(F),m.h[S]=F)),F}function pg(m,y,S){var N=!!(mt(m.o)&2);if(y=Mv(m,y,S,N,N),m=cg(m,S,3,N),!(N||mt(m)&8)){for(N=0;N<y.length;N++){if(S=y[N],mt(S.o)&2){var R=Hv(S,!1);R.j=S}else R=S;S!==R&&(y[N]=R,m[N]=R.o)}Xn(m,8)}return y}function go(m,y,S){if(S!=null&&typeof S!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof S+": "+S);ho(m,y,S)}function Vv(m,y,S,N,R){ag(m);var F=Mv(m,S,y,!1,!1);return S=N??new S,m=cg(m,y,2,!1),R!=null?(F.splice(R,0,S),m.splice(R,0,S.o)):(F.push(S),m.push(S.o)),S.C()&&Pv(m,8),S}function cf(m,y){return m??y}function xo(m,y,S){return S=S===void 0?0:S,cf(lg(m,y),S)}var lf;function a_(m){switch(typeof m){case"number":return isFinite(m)?m:String(m);case"object":if(m)if(Array.isArray(m)){if(mt(m)&128)return m=Array.prototype.slice.call(m),ug(m),m}else{if(dt&&m!=null&&m instanceof Uint8Array)return Jt(m);if(m instanceof Ja){var y=m.V;return y==null?"":typeof y=="string"?y:m.V=Jt(y)}}}return m}function Uv(m,y,S,N){if(m!=null){if(Array.isArray(m))m=fg(m,y,S,N!==void 0);else if(uf(m)){var R={},F;for(F in m)R[F]=Uv(m[F],y,S,N);m=R}else m=y(m,N);return m}}function fg(m,y,S,N){var R=mt(m);N=N?!!(R&16):void 0,m=Array.prototype.slice.call(m);for(var F=0;F<m.length;F++)m[F]=Uv(m[F],y,S,N);return S(R,m),m}function u_(m){return m.ja===ig?m.toJSON():a_(m)}function c_(m,y){m&128&&ug(y)}function Gv(m,y,S){if(S=S===void 0?af:S,m!=null){if(dt&&m instanceof Uint8Array)return m.length?new Ja(new Uint8Array(m),Hn):tg();if(Array.isArray(m)){var N=mt(m);return N&2?m:y&&!(N&32)&&(N&16||N===0)?(mo(m,N|2),m):(m=fg(m,Gv,N&4?af:S,!0),y=mt(m),y&4&&y&2&&Object.freeze(m),m)}return m.ja===ig?Wv(m):m}}function zv(m,y,S,N,R,F,_){if(m=m.h&&m.h[S]){if(N=mt(m),N&2?N=m:(F=Ie(m,Wv),af(N,F),Object.freeze(F),N=F),ag(y),_=N==null?tu:sg([]),N!=null){for(F=!!N.length,m=0;m<N.length;m++){var B=N[m];F=F&&!(mt(B.o)&2),_[m]=B.o}F=(F?8:0)|1,m=mt(_),(m&F)!==F&&(Object.isFrozen(_)&&(_=Array.prototype.slice.call(_)),mo(_,m|F)),y.h||(y.h={}),y.h[S]=N}else y.h&&(y.h[S]=void 0);ru(y,S,_,R)}else ho(y,S,Gv(N,F,_),R)}function Wv(m){return mt(m.o)&2||(m=Hv(m,!0),Xn(m.o,2)),m}function Hv(m,y){var S=m.o,N=[];Xn(N,16);var R=m.constructor.h;if(R&&N.push(R),R=m.B,R){N.length=S.length,N.fill(void 0,N.length,S.length);var F={};N[N.length-1]=F}mt(S)&128&&ug(N),y=y||m.C()?af:i_,F=m.constructor,lf=N,N=new F(N),lf=void 0,m.R&&(N.R=m.R.slice()),F=!!(mt(S)&16);for(var _=R?S.length-1:S.length,B=0;B<_;B++)zv(m,N,B-m.G,S[B],!1,F,y);if(R)for(var G in R)zv(m,N,+G,R[G],!0,F,y);return N}function dr(m,y,S){m==null&&(m=lf),lf=void 0;var N=this.constructor.i||0,R=0<N,F=this.constructor.h,_=!1;if(m==null){m=F?[F]:[];var B=48,G=!0;R&&(N=0,B|=128),mo(m,B)}else{if(!Array.isArray(m)||F&&F!==m[0])throw Error();var q=B=Xn(m,0);if((G=(16&q)!==0)&&((_=(32&q)!==0)||(q|=32)),R){if(128&q)N=0;else if(0<m.length){var Y=m[m.length-1];if(uf(Y)&&"g"in Y){N=0,q|=128,delete Y.g;var fe=!0,ue;for(ue in Y){fe=!1;break}fe&&m.pop()}}}else if(128&q)throw Error();B!==q&&mo(m,q)}this.G=(F?0:-1)-N,this.h=void 0,this.o=m;e:{if(F=this.o.length,N=F-1,F&&(F=this.o[N],uf(F))){this.B=F,this.i=N-this.G;break e}y!==void 0&&-1<y?(this.i=Math.max(y,N+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!R&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(S){y=G&&!_&&!0,R=this.i;var ee;for(G=0;G<S.length;G++)_=S[G],_<R?(_+=this.G,(N=m[_])?jv(N,y):m[_]=tu):(ee||(ee=Bv(this)),(N=ee[_])?jv(N,y):ee[_]=tu)}}dr.prototype.toJSON=function(){return fg(this.o,u_,c_)},dr.prototype.C=function(){return!!(mt(this.o)&2)};function jv(m,y){if(Array.isArray(m)){var S=mt(m),N=1;!y||S&2||(N|=16),(S&N)!==N&&mo(m,S|N)}}dr.prototype.ja=ig,dr.prototype.toString=function(){return this.o.toString()};function Kv(m,y,S){if(S){var N={},R;for(R in S){var F=S[R],_=F.ra;_||(N.J=F.xa||F.oa.W,F.ia?(N.aa=Qv(F.ia),_=function(B){return function(G,q,Y){return B.J(G,q,Y,B.aa)}}(N)):F.ka?(N.Z=Jv(F.da.P,F.ka),_=function(B){return function(G,q,Y){return B.J(G,q,Y,B.Z)}}(N)):_=N.J,F.ra=_),_(y,m,F.da),N={J:N.J,aa:N.aa,Z:N.Z}}}s_(y,m)}var pf=Symbol();function qv(m,y,S){return m[pf]||(m[pf]=function(N,R){return y(N,R,S)})}function Xv(m){var y=m[pf];if(!y){var S=dg(m);y=function(N,R){return ew(N,R,S)},m[pf]=y}return y}function l_(m){var y=m.ia;if(y)return Xv(y);if(y=m.wa)return qv(m.da.P,y,m.ka)}function p_(m){var y=l_(m),S=m.da,N=m.oa.U;return y?function(R,F){return N(R,F,S,y)}:function(R,F){return N(R,F,S)}}function Yv(m,y){var S=m[y];return typeof S=="function"&&S.length===0&&(S=S(),m[y]=S),Array.isArray(S)&&(nu in S||ou in S||0<S.length&&typeof S[0]=="function")?S:void 0}function Zv(m,y,S,N,R,F){y.P=m[0];var _=1;if(m.length>_&&typeof m[_]!="number"){var B=m[_++];S(y,B)}for(;_<m.length;){S=m[_++];for(var G=_+1;G<m.length&&typeof m[G]!="number";)G++;switch(B=m[_++],G-=_,G){case 0:N(y,S,B);break;case 1:(G=Yv(m,_))?(_++,R(y,S,B,G)):N(y,S,B,m[_++]);break;case 2:G=_++,G=Yv(m,G),R(y,S,B,G,m[_++]);break;case 3:F(y,S,B,m[_++],m[_++],m[_++]);break;case 4:F(y,S,B,m[_++],m[_++],m[_++],m[_++]);break;default:throw Error("unexpected number of binary field arguments: "+G)}}return y}var ff=Symbol();function Qv(m){var y=m[ff];if(!y){var S=mg(m);y=function(N,R){return tw(N,R,S)},m[ff]=y}return y}function Jv(m,y){var S=m[ff];return S||(S=function(N,R){return Kv(N,R,y)},m[ff]=S),S}var ou=Symbol();function f_(m,y){m.push(y)}function m_(m,y,S){m.push(y,S.W)}function d_(m,y,S,N){var R=Qv(N),F=mg(N).P,_=S.W;m.push(y,function(B,G,q){return _(B,G,q,F,R)})}function h_(m,y,S,N,R,F){var _=Jv(N,F),B=S.W;m.push(y,function(G,q,Y){return B(G,q,Y,N,_)})}function mg(m){var y=m[ou];return y||(y=Zv(m,m[ou]=[],f_,m_,d_,h_),nu in m&&ou in m&&(m.length=0),y)}var nu=Symbol();function g_(m,y){m[0]=y}function x_(m,y,S,N){var R=S.U;m[y]=N?function(F,_,B){return R(F,_,B,N)}:R}function y_(m,y,S,N,R){var F=S.U,_=Xv(N),B=dg(N).P;m[y]=function(G,q,Y){return F(G,q,Y,B,_,R)}}function b_(m,y,S,N,R,F,_){var B=S.U,G=qv(N,R,F);m[y]=function(q,Y,fe){return B(q,Y,fe,N,G,_)}}function dg(m){var y=m[nu];return y||(y=Zv(m,m[nu]={},g_,x_,y_,b_),nu in m&&ou in m&&(m.length=0),y)}function ew(m,y,S){for(;Fv(y)&&y.i!=4;){var N=y.l,R=S[N];if(!R){var F=S[0];F&&(F=F[N])&&(R=S[N]=p_(F))}if(!R||!R(y,m,N)){R=y,N=m,F=R.j,nf(R);var _=R;if(!_.ca){if(R=_.h.h-F,_.h.h=F,_=_.h,R==0)R=tg();else{if(F=_v(_,R),_.S&&_.m)R=_.i.subarray(F,F+R);else{_=_.i;var B=F;R=F+R,R=B===R?di():JR?_.slice(B,R):new Uint8Array(_.subarray(B,R))}R=R.length==0?tg():new Ja(R,Hn)}(F=N.R)?F.push(R):N.R=[R]}}}return m}function tw(m,y,S){for(var N=S.length,R=N%2==1,F=R?1:0;F<N;F+=2)(0,S[F+1])(y,m,S[F]);Kv(m,y,R?S[0]:void 0)}function su(m,y){return{U:m,W:y}}var qr=su(function(m,y,S){if(m.i!==5)return!1;m=m.h;var N=m.i,R=m.h,F=N[R],_=N[R+1],B=N[R+2];return N=N[R+3],Kn(m,m.h+4),_=(F<<0|_<<8|B<<16|N<<24)>>>0,m=2*(_>>31)+1,F=_>>>23&255,_&=8388607,ho(y,S,F==255?_?NaN:1/0*m:F==0?m*Math.pow(2,-149)*_:m*Math.pow(2,F-150)*(_+Math.pow(2,23))),!0},function(m,y,S){if(y=lg(y,S),y!=null){qn(m.h,8*S+5),m=m.h;var N=+y;N===0?0<1/N?vt=tr=0:(tr=0,vt=2147483648):isNaN(N)?(tr=0,vt=2147483647):(N=(S=0>N?-2147483648:0)?-N:N,34028234663852886e22<N?(tr=0,vt=(S|2139095040)>>>0):11754943508222875e-54>N?(N=Math.round(N/Math.pow(2,-149)),tr=0,vt=(S|N)>>>0):(y=Math.floor(Math.log(N)/Math.LN2),N*=Math.pow(2,-y),N=Math.round(8388608*N),16777216<=N&&++y,tr=0,vt=(S|y+127<<23|N&8388607)>>>0)),S=vt,m.h.push(S>>>0&255),m.h.push(S>>>8&255),m.h.push(S>>>16&255),m.h.push(S>>>24&255)}}),v_=su(function(m,y,S){if(m.i!==0)return!1;var N=m.h,R=0,F=m=0,_=N.i,B=N.h;do{var G=_[B++];R|=(G&127)<<F,F+=7}while(32>F&&G&128);for(32<F&&(m|=(G&127)>>4),F=3;32>F&&G&128;F+=7)G=_[B++],m|=(G&127)<<F;if(Kn(N,B),128>G)N=R>>>0,G=m>>>0,(m=G&2147483648)&&(N=~N+1>>>0,G=~G>>>0,N==0&&(G=G+1>>>0)),N=4294967296*G+(N>>>0);else throw Jh();return ho(y,S,m?-N:N),!0},function(m,y,S){y=Kr(y,S),y!=null&&(typeof y=="string"&&Sv(y),y!=null&&(qn(m.h,8*S),typeof y=="number"?(m=m.h,bv(y),Dv(m,vt,tr)):(S=Sv(y),Dv(m.h,S.i,S.h))))}),w_=su(function(m,y,S){return m.i!==0?!1:(ho(y,S,eu(m.h)),!0)},function(m,y,S){if(y=Kr(y,S),y!=null&&y!=null)if(qn(m.h,8*S),m=m.h,S=y,0<=S)qn(m,S);else{for(y=0;9>y;y++)m.h.push(S&127|128),S>>=7;m.h.push(1)}}),rw=su(function(m,y,S){if(m.i!==2)return!1;var N=eu(m.h)>>>0;m=m.h;var R=_v(m,N);if(m=m.i,t_){var F=m,_;(_=eg)||(_=eg=new TextDecoder("utf-8",{fatal:!0})),m=R+N,F=R===0&&m===F.length?F:F.subarray(R,m);try{var B=_.decode(F)}catch(fe){if(of===void 0){try{_.decode(new Uint8Array([128]))}catch{}try{_.decode(new Uint8Array([97])),of=!0}catch{of=!1}}throw!of&&(eg=void 0),fe}}else{B=R,N=B+N,R=[];for(var G=null,q,Y;B<N;)q=m[B++],128>q?R.push(q):224>q?B>=N?jn():(Y=m[B++],194>q||(Y&192)!==128?(B--,jn()):R.push((q&31)<<6|Y&63)):240>q?B>=N-1?jn():(Y=m[B++],(Y&192)!==128||q===224&&160>Y||q===237&&160<=Y||((F=m[B++])&192)!==128?(B--,jn()):R.push((q&15)<<12|(Y&63)<<6|F&63)):244>=q?B>=N-2?jn():(Y=m[B++],(Y&192)!==128||(q<<28)+(Y-144)>>30||((F=m[B++])&192)!==128||((_=m[B++])&192)!==128?(B--,jn()):(q=(q&7)<<18|(Y&63)<<12|(F&63)<<6|_&63,q-=65536,R.push((q>>10&1023)+55296,(q&1023)+56320))):jn(),8192<=R.length&&(G=Ev(G,R),R.length=0);B=Ev(G,R)}return ho(y,S,B),!0},function(m,y,S){if(y=Kr(y,S),y!=null){var N=!1;if(N=N===void 0?!1:N,r_){if(N&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(y))throw Error("Found an unpaired surrogate");y=(Nv||(Nv=new TextEncoder)).encode(y)}else{for(var R=0,F=new Uint8Array(3*y.length),_=0;_<y.length;_++){var B=y.charCodeAt(_);if(128>B)F[R++]=B;else{if(2048>B)F[R++]=B>>6|192;else{if(55296<=B&&57343>=B){if(56319>=B&&_<y.length){var G=y.charCodeAt(++_);if(56320<=G&&57343>=G){B=1024*(B-55296)+G-56320+65536,F[R++]=B>>18|240,F[R++]=B>>12&63|128,F[R++]=B>>6&63|128,F[R++]=B&63|128;continue}else _--}if(N)throw Error("Found an unpaired surrogate");B=65533}F[R++]=B>>12|224,F[R++]=B>>6&63|128}F[R++]=B&63|128}}y=R===F.length?F:F.subarray(0,R)}qn(m.h,8*S+2),qn(m.h,y.length),hi(m,m.h.end()),hi(m,y)}}),ow=su(function(m,y,S,N,R){if(m.i!==2)return!1;y=Vv(y,S,N),S=m.h.j,N=eu(m.h)>>>0;var F=m.h.h+N,_=F-S;if(0>=_&&(m.h.j=F,R(y,m,void 0,void 0,void 0),_=F-m.h.h),_)throw Error("Message parsing ended unexpectedly. Expected to read "+(N+" bytes, instead read "+(N-_)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return m.h.h=F,m.h.j=S,!0},function(m,y,S,N,R){if(y=pg(y,N,S),y!=null)for(N=0;N<y.length;N++){var F=m;qn(F.h,8*S+2);var _=F.h.end();hi(F,_),_.push(F.i),F=_,R(y[N],m),_=m;var B=F.pop();for(B=_.i+_.h.length()-B;127<B;)F.push(B&127|128),B>>>=7,_.i++;F.push(B),_.i++}});function hg(m){return function(y,S){e:{if(sf.length){var N=sf.pop();N.setOptions(S),rg(N.h,y,S),y=N}else y=new ng(y,S);try{var R=dg(m),F=ew(new R.P,y,R);break e}finally{R=y.h,R.i=null,R.m=!1,R.l=0,R.j=0,R.h=0,R.S=!1,y.l=-1,y.i=-1,100>sf.length&&sf.push(y)}F=void 0}return F}}function gg(m){return function(){var y=new n_;tw(this,y,mg(m)),hi(y,y.h.end());for(var S=new Uint8Array(y.i),N=y.j,R=N.length,F=0,_=0;_<R;_++){var B=N[_];S.set(B,F),F+=B.length}return y.j=[S],S}}function gi(m){dr.call(this,m)}g(gi,dr);var nw=[gi,1,w_,2,qr,3,rw,4,rw];gi.prototype.l=gg(nw);function xg(m){dr.call(this,m,-1,S_)}g(xg,dr),xg.prototype.addClassification=function(m,y){return Vv(this,1,gi,m,y),this};var S_=[1],T_=hg([xg,1,ow,nw]);function iu(m){dr.call(this,m)}g(iu,dr);var sw=[iu,1,qr,2,qr,3,qr,4,qr,5,qr];iu.prototype.l=gg(sw);function iw(m){dr.call(this,m,-1,C_)}g(iw,dr);var C_=[1],I_=hg([iw,1,ow,sw]);function mf(m){dr.call(this,m)}g(mf,dr);var aw=[mf,1,qr,2,qr,3,qr,4,qr,5,qr,6,v_],E_=hg(aw);mf.prototype.l=gg(aw);function uw(m,y,S){if(S=m.createShader(S===0?m.VERTEX_SHADER:m.FRAGMENT_SHADER),m.shaderSource(S,y),m.compileShader(S),!m.getShaderParameter(S,m.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+m.getShaderInfoLog(S));return S}function N_(m){return pg(m,gi,1).map(function(y){var S=Kr(y,1);return{index:S??0,qa:xo(y,2),label:Kr(y,3)!=null?cf(Kr(y,3),""):void 0,displayName:Kr(y,4)!=null?cf(Kr(y,4),""):void 0}})}function $_(m){return{x:xo(m,1),y:xo(m,2),z:xo(m,3),visibility:lg(m,4)!=null?xo(m,4):void 0}}function yg(m,y){this.i=m,this.h=y,this.m=0}function cw(m,y,S){return k_(m,y),typeof m.h.canvas.transferToImageBitmap=="function"?Promise.resolve(m.h.canvas.transferToImageBitmap()):S?Promise.resolve(m.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(m.h.canvas):(m.j===void 0&&(m.j=document.createElement("canvas")),new Promise(function(N){m.j.height=m.h.canvas.height,m.j.width=m.h.canvas.width,m.j.getContext("2d",{}).drawImage(m.h.canvas,0,0,m.h.canvas.width,m.h.canvas.height),N(m.j)}))}function k_(m,y){var S=m.h;if(m.s===void 0){var N=uw(S,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),R=uw(S,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),F=S.createProgram();if(S.attachShader(F,N),S.attachShader(F,R),S.linkProgram(F),!S.getProgramParameter(F,S.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+S.getProgramInfoLog(F));N=m.s=F,S.useProgram(N),R=S.getUniformLocation(N,"sampler0"),m.l={O:S.getAttribLocation(N,"aVertex"),N:S.getAttribLocation(N,"aTex"),ya:R},m.v=S.createBuffer(),S.bindBuffer(S.ARRAY_BUFFER,m.v),S.enableVertexAttribArray(m.l.O),S.vertexAttribPointer(m.l.O,2,S.FLOAT,!1,0,0),S.bufferData(S.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),S.STATIC_DRAW),S.bindBuffer(S.ARRAY_BUFFER,null),m.u=S.createBuffer(),S.bindBuffer(S.ARRAY_BUFFER,m.u),S.enableVertexAttribArray(m.l.N),S.vertexAttribPointer(m.l.N,2,S.FLOAT,!1,0,0),S.bufferData(S.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),S.STATIC_DRAW),S.bindBuffer(S.ARRAY_BUFFER,null),S.uniform1i(R,0)}N=m.l,S.useProgram(m.s),S.canvas.width=y.width,S.canvas.height=y.height,S.viewport(0,0,y.width,y.height),S.activeTexture(S.TEXTURE0),m.i.bindTexture2d(y.glName),S.enableVertexAttribArray(N.O),S.bindBuffer(S.ARRAY_BUFFER,m.v),S.vertexAttribPointer(N.O,2,S.FLOAT,!1,0,0),S.enableVertexAttribArray(N.N),S.bindBuffer(S.ARRAY_BUFFER,m.u),S.vertexAttribPointer(N.N,2,S.FLOAT,!1,0,0),S.bindFramebuffer(S.DRAW_FRAMEBUFFER?S.DRAW_FRAMEBUFFER:S.FRAMEBUFFER,null),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT),S.colorMask(!0,!0,!0,!0),S.drawArrays(S.TRIANGLE_FAN,0,4),S.disableVertexAttribArray(N.O),S.disableVertexAttribArray(N.N),S.bindBuffer(S.ARRAY_BUFFER,null),m.i.bindTexture2d(0)}function A_(m){this.h=m}var R_=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function __(m,y){return y+m}function lw(m,y){window[m]=y}function O_(m){var y=document.createElement("script");return y.setAttribute("src",m),y.setAttribute("crossorigin","anonymous"),new Promise(function(S){y.addEventListener("load",function(){S()},!1),y.addEventListener("error",function(){S()},!1),document.body.appendChild(y)})}function D_(){return H(function(m){switch(m.h){case 1:return m.s=2,A(m,WebAssembly.instantiate(R_),4);case 4:m.h=3,m.s=0;break;case 2:return m.s=0,m.l=null,m.return(!1);case 3:return m.return(!0)}})}function bg(m){if(this.h=m,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=m&&m.locateFile||__,typeof window=="object")var y=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")y=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=y,m.options){y=a(Object.keys(m.options));for(var S=y.next();!S.done;S=y.next()){S=S.value;var N=m.options[S].default;N!==void 0&&(this.l[S]=typeof N=="function"?N():N)}}}r=bg.prototype,r.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function F_(m){var y,S,N,R,F,_,B,G,q,Y,fe;return H(function(ue){switch(ue.h){case 1:return m.ga?(y=m.h.files===void 0?[]:typeof m.h.files=="function"?m.h.files(m.l):m.h.files,A(ue,D_(),2)):ue.return();case 2:if(S=ue.i,typeof window=="object")return lw("createMediapipeSolutionsWasm",{locateFile:m.locateFile}),lw("createMediapipeSolutionsPackedAssets",{locateFile:m.locateFile}),_=y.filter(function(ee){return ee.data!==void 0}),B=y.filter(function(ee){return ee.data===void 0}),G=Promise.all(_.map(function(ee){var me=df(m,ee.url);if(ee.path!==void 0){var Ce=ee.path;me=me.then(function(rt){return m.overrideFile(Ce,rt),Promise.resolve(rt)})}return me})),q=Promise.all(B.map(function(ee){return ee.simd===void 0||ee.simd&&S||!ee.simd&&!S?O_(m.locateFile(ee.url,m.ha)):Promise.resolve()})).then(function(){var ee,me,Ce;return H(function(rt){if(rt.h==1)return ee=window.createMediapipeSolutionsWasm,me=window.createMediapipeSolutionsPackedAssets,Ce=m,A(rt,ee(me),2);Ce.i=rt.i,rt.h=0})}),Y=function(){return H(function(ee){return m.h.graph&&m.h.graph.url?ee=A(ee,df(m,m.h.graph.url),0):(ee.h=0,ee=void 0),ee})}(),A(ue,Promise.all([q,G,Y]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return N=y.filter(function(ee){return ee.simd===void 0||ee.simd&&S||!ee.simd&&!S}).map(function(ee){return m.locateFile(ee.url,m.ha)}),importScripts.apply(null,u(N)),R=m,A(ue,createMediapipeSolutionsWasm(Module),6);case 6:R.i=ue.i,m.m=new OffscreenCanvas(1,1),m.i.canvas=m.m,F=m.i.GL.createContext(m.m,{antialias:!1,alpha:!1,va:typeof WebGL2RenderingContext<"u"?2:1}),m.i.GL.makeContextCurrent(F),ue.h=4;break;case 7:if(m.m=document.createElement("canvas"),fe=m.m.getContext("webgl2",{}),!fe&&(fe=m.m.getContext("webgl",{}),!fe))return alert("Failed to create WebGL canvas context when passing video frame."),ue.return();m.K=fe,m.i.canvas=m.m,m.i.createContext(m.m,!0,!0,{});case 4:m.j=new m.i.SolutionWasm,m.ga=!1,ue.h=0}})}function P_(m){var y,S,N,R,F,_,B,G;return H(function(q){if(q.h==1){if(m.h.graph&&m.h.graph.url&&m.fa===m.h.graph.url)return q.return();if(m.u=!0,!m.h.graph||!m.h.graph.url){q.h=2;return}return m.fa=m.h.graph.url,A(q,df(m,m.h.graph.url),3)}for(q.h!=2&&(y=q.i,m.j.loadGraph(y)),S=a(Object.keys(m.D)),N=S.next();!N.done;N=S.next())R=N.value,m.j.overrideFile(R,m.D[R]);if(m.D={},m.h.listeners)for(F=a(m.h.listeners),_=F.next();!_.done;_=F.next())B=_.value,V_(m,B);G=m.l,m.l={},m.setOptions(G),q.h=0})}r.reset=function(){var m=this;return H(function(y){m.j&&(m.j.reset(),m.s={},m.v={}),y.h=0})},r.setOptions=function(m,y){var S=this;if(y=y||this.h.options){for(var N=[],R=[],F={},_=a(Object.keys(m)),B=_.next();!B.done;F={X:F.X,Y:F.Y},B=_.next())if(B=B.value,!(B in this.l&&this.l[B]===m[B])){this.l[B]=m[B];var G=y[B];G!==void 0&&(G.onChange&&(F.X=G.onChange,F.Y=m[B],N.push(function(q){return function(){var Y;return H(function(fe){if(fe.h==1)return A(fe,q.X(q.Y),2);Y=fe.i,Y===!0&&(S.u=!0),fe.h=0})}}(F))),G.graphOptionXref&&(B=Object.assign({},{calculatorName:"",calculatorIndex:0},G.graphOptionXref,{valueNumber:G.type===1?m[B]:0,valueBoolean:G.type===0?m[B]:!1,valueString:G.type===2?m[B]:""}),R.push(B)))}(N.length!==0||R.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(R),this.F=(this.F===void 0?[]:this.F).concat(N))}};function L_(m){var y,S,N,R,F,_,B;return H(function(G){switch(G.h){case 1:if(!m.u)return G.return();if(!m.F){G.h=2;break}y=a(m.F),S=y.next();case 3:if(S.done){G.h=5;break}return N=S.value,A(G,N(),4);case 4:S=y.next(),G.h=3;break;case 5:m.F=void 0;case 2:if(m.H){for(R=new m.i.GraphOptionChangeRequestList,F=a(m.H),_=F.next();!_.done;_=F.next())B=_.value,R.push_back(B);m.j.changeOptions(R),R.delete(),m.H=void 0}m.u=!1,G.h=0}})}r.initialize=function(){var m=this;return H(function(y){return y.h==1?A(y,F_(m),2):y.h!=3?A(y,P_(m),3):A(y,L_(m),0)})};function df(m,y){var S,N;return H(function(R){return y in m.L?R.return(m.L[y]):(S=m.locateFile(y,""),N=fetch(S).then(function(F){return F.arrayBuffer()}),m.L[y]=N,R.return(N))})}r.overrideFile=function(m,y){this.j?this.j.overrideFile(m,y):this.D[m]=y},r.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},r.send=function(m,y){var S=this,N,R,F,_,B,G,q,Y,fe;return H(function(ue){switch(ue.h){case 1:return S.h.inputs?(N=1e3*(y??performance.now()),A(ue,S.I,2)):ue.return();case 2:return A(ue,S.initialize(),3);case 3:for(R=new S.i.PacketDataList,F=a(Object.keys(m)),_=F.next();!_.done;_=F.next())if(B=_.value,G=S.h.inputs[B]){e:{var ee=m[B];switch(G.type){case"video":var me=S.s[G.stream];if(me||(me=new yg(S.i,S.K),S.s[G.stream]=me),me.m===0&&(me.m=me.i.createTexture()),typeof HTMLVideoElement<"u"&&ee instanceof HTMLVideoElement)var Ce=ee.videoWidth,rt=ee.videoHeight;else typeof HTMLImageElement<"u"&&ee instanceof HTMLImageElement?(Ce=ee.naturalWidth,rt=ee.naturalHeight):(Ce=ee.width,rt=ee.height);rt={glName:me.m,width:Ce,height:rt},Ce=me.h,Ce.canvas.width=rt.width,Ce.canvas.height=rt.height,Ce.activeTexture(Ce.TEXTURE0),me.i.bindTexture2d(me.m),Ce.texImage2D(Ce.TEXTURE_2D,0,Ce.RGBA,Ce.RGBA,Ce.UNSIGNED_BYTE,ee),me.i.bindTexture2d(0),me=rt;break e;case"detections":for(me=S.s[G.stream],me||(me=new A_(S.i),S.s[G.stream]=me),me.data||(me.data=new me.h.DetectionListData),me.data.reset(ee.length),rt=0;rt<ee.length;++rt){Ce=ee[rt];var Qe=me.data,Ft=Qe.setBoundingBox,Br=rt,hr=Ce.la,Le=new mf;if(go(Le,1,hr.sa),go(Le,2,hr.ta),go(Le,3,hr.height),go(Le,4,hr.width),go(Le,5,hr.rotation),ho(Le,6,hr.pa),hr=Le.l(),Ft.call(Qe,Br,hr),Ce.ea)for(Qe=0;Qe<Ce.ea.length;++Qe){Le=Ce.ea[Qe],Ft=me.data,Br=Ft.addNormalizedLandmark,hr=rt,Le=Object.assign({},Le,{visibility:Le.visibility?Le.visibility:0});var Pt=new iu;go(Pt,1,Le.x),go(Pt,2,Le.y),go(Pt,3,Le.z),Le.visibility&&go(Pt,4,Le.visibility),Le=Pt.l(),Br.call(Ft,hr,Le)}if(Ce.ba)for(Qe=0;Qe<Ce.ba.length;++Qe)Ft=me.data,Br=Ft.addClassification,hr=rt,Le=Ce.ba[Qe],Pt=new gi,go(Pt,2,Le.qa),Le.index&&ho(Pt,1,Le.index),Le.label&&ho(Pt,3,Le.label),Le.displayName&&ho(Pt,4,Le.displayName),Le=Pt.l(),Br.call(Ft,hr,Le)}me=me.data;break e;default:me={}}}switch(q=me,Y=G.stream,G.type){case"video":R.pushTexture2d(Object.assign({},q,{stream:Y,timestamp:N}));break;case"detections":fe=q,fe.stream=Y,fe.timestamp=N,R.pushDetectionList(fe);break;default:throw Error("Unknown input config type: '"+G.type+"'")}}return S.j.send(R),A(ue,S.I,4);case 4:R.delete(),ue.h=0}})};function B_(m,y,S){var N,R,F,_,B,G,q,Y,fe,ue,ee,me,Ce,rt;return H(function(Qe){switch(Qe.h){case 1:if(!S)return Qe.return(y);for(N={},R=0,F=a(Object.keys(S)),_=F.next();!_.done;_=F.next())B=_.value,G=S[B],typeof G!="string"&&G.type==="texture"&&y[G.stream]!==void 0&&++R;1<R&&(m.M=!1),q=a(Object.keys(S)),_=q.next();case 2:if(_.done){Qe.h=4;break}if(Y=_.value,fe=S[Y],typeof fe=="string")return Ce=N,rt=Y,A(Qe,M_(m,Y,y[fe]),14);if(ue=y[fe.stream],fe.type==="detection_list"){if(ue){for(var Ft=ue.getRectList(),Br=ue.getLandmarksList(),hr=ue.getClassificationsList(),Le=[],Pt=0;Pt<Ft.size();++Pt){var ln=E_(Ft.get(Pt)),U_=xo(ln,1),G_=xo(ln,2),z_=xo(ln,3),W_=xo(ln,4),H_=xo(ln,5,0),hf=void 0;hf=hf===void 0?0:hf,ln={la:{sa:U_,ta:G_,height:z_,width:W_,rotation:H_,pa:cf(Kr(ln,6),hf)},ea:pg(I_(Br.get(Pt)),iu,1).map($_),ba:N_(T_(hr.get(Pt)))},Le.push(ln)}Ft=Le}else Ft=[];N[Y]=Ft,Qe.h=7;break}if(fe.type==="proto_list"){if(ue){for(Ft=Array(ue.size()),Br=0;Br<ue.size();Br++)Ft[Br]=ue.get(Br);ue.delete()}else Ft=[];N[Y]=Ft,Qe.h=7;break}if(ue===void 0){Qe.h=3;break}if(fe.type==="float_list"){N[Y]=ue,Qe.h=7;break}if(fe.type==="proto"){N[Y]=ue,Qe.h=7;break}if(fe.type!=="texture")throw Error("Unknown output config type: '"+fe.type+"'");return ee=m.v[Y],ee||(ee=new yg(m.i,m.K),m.v[Y]=ee),A(Qe,cw(ee,ue,m.M),13);case 13:me=Qe.i,N[Y]=me;case 7:fe.transform&&N[Y]&&(N[Y]=fe.transform(N[Y])),Qe.h=3;break;case 14:Ce[rt]=Qe.i;case 3:_=q.next(),Qe.h=2;break;case 4:return Qe.return(N)}})}function M_(m,y,S){var N;return H(function(R){return typeof S=="number"||S instanceof Uint8Array||S instanceof m.i.Uint8BlobList?R.return(S):S instanceof m.i.Texture2dDataOut?(N=m.v[y],N||(N=new yg(m.i,m.K),m.v[y]=N),R.return(cw(N,S,m.M))):R.return(void 0)})}function V_(m,y){for(var S=y.name||"$",N=[].concat(u(y.wants)),R=new m.i.StringList,F=a(y.wants),_=F.next();!_.done;_=F.next())R.push_back(_.value);F=m.i.PacketListener.implement({onResults:function(B){for(var G={},q=0;q<y.wants.length;++q)G[N[q]]=B.get(q);var Y=m.listeners[S];Y&&(m.I=B_(m,G,y.outs).then(function(fe){fe=Y(fe);for(var ue=0;ue<y.wants.length;++ue){var ee=G[N[ue]];typeof ee=="object"&&ee.hasOwnProperty&&ee.hasOwnProperty("delete")&&ee.delete()}fe&&(m.I=fe)}))}}),m.j.attachMultiListener(R,F),R.delete()}r.onResults=function(m,y){this.listeners[y||"$"]=m},ce("Solution",bg),ce("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"});function pw(m){switch(m===void 0&&(m=0),m){case 1:return"selfie_segmentation_landscape.tflite";default:return"selfie_segmentation.tflite"}}function fw(m){var y=this;m=m||{},this.h=new bg({locateFile:m.locateFile,files:function(S){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:pw(S.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(S){var N,R,F;return H(function(_){return _.h==1?(N=pw(S),R="third_party/mediapipe/modules/selfie_segmentation/"+N,A(_,df(y.h,N),2)):(F=_.i,y.h.overrideFile(R,F),_.return(!0))})}}}})}r=fw.prototype,r.close=function(){return this.h.close(),Promise.resolve()},r.onResults=function(m){this.h.onResults(m)},r.initialize=function(){var m=this;return H(function(y){return A(y,m.h.initialize(),0)})},r.reset=function(){this.h.reset()},r.send=function(m){var y=this;return H(function(S){return A(S,y.h.send(m),0)})},r.setOptions=function(m){this.h.setOptions(m)},ce("SelfieSegmentation",fw),ce("VERSION","0.1.1675465747")}).call(jw)});var p2=Rr((bX,l2)=>{"use strict";l2.exports=Je;var Vr=null;try{Vr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Je(r,e,t){this.low=r|0,this.high=e|0,this.unsigned=!!t}Je.prototype.__isLong__;Object.defineProperty(Je.prototype,"__isLong__",{value:!0});function wr(r){return(r&&r.__isLong__)===!0}Je.isLong=wr;var t2={},r2={};function _s(r,e){var t,o,n;return e?(r>>>=0,(n=0<=r&&r<256)&&(o=r2[r],o)?o:(t=et(r,(r|0)<0?-1:0,!0),n&&(r2[r]=t),t)):(r|=0,(n=-128<=r&&r<128)&&(o=t2[r],o)?o:(t=et(r,r<0?-1:0,!1),n&&(t2[r]=t),t))}Je.fromInt=_s;function Ur(r,e){if(isNaN(r))return e?Rs:Gr;if(e){if(r<0)return Rs;if(r>=i2)return c2}else{if(r<=-n2)return vr;if(r+1>=n2)return u2}return r<0?Ur(-r,e).neg():et(r%Gi|0,r/Gi|0,e)}Je.fromNumber=Ur;function et(r,e,t){return new Je(r,e,t)}Je.fromBits=et;var Xf=Math.pow;function ex(r,e,t){if(r.length===0)throw Error("empty string");if(r==="NaN"||r==="Infinity"||r==="+Infinity"||r==="-Infinity")return Gr;if(typeof e=="number"?(t=e,e=!1):e=!!e,t=t||10,t<2||36<t)throw RangeError("radix");var o;if((o=r.indexOf("-"))>0)throw Error("interior hyphen");if(o===0)return ex(r.substring(1),e,t).neg();for(var n=Ur(Xf(t,8)),s=Gr,i=0;i<r.length;i+=8){var a=Math.min(8,r.length-i),u=parseInt(r.substring(i,i+a),t);if(a<8){var c=Ur(Xf(t,a));s=s.mul(c).add(Ur(u))}else s=s.mul(n),s=s.add(Ur(u))}return s.unsigned=e,s}Je.fromString=ex;function Zr(r,e){return typeof r=="number"?Ur(r,e):typeof r=="string"?ex(r,e):et(r.low,r.high,typeof e=="boolean"?e:r.unsigned)}Je.fromValue=Zr;var o2=65536,iD=1<<24,Gi=o2*o2,i2=Gi*Gi,n2=i2/2,s2=_s(iD),Gr=_s(0);Je.ZERO=Gr;var Rs=_s(0,!0);Je.UZERO=Rs;var Ui=_s(1);Je.ONE=Ui;var a2=_s(1,!0);Je.UONE=a2;var Jg=_s(-1);Je.NEG_ONE=Jg;var u2=et(-1,2147483647,!1);Je.MAX_VALUE=u2;var c2=et(-1,-1,!0);Je.MAX_UNSIGNED_VALUE=c2;var vr=et(0,-2147483648,!1);Je.MIN_VALUE=vr;var Z=Je.prototype;Z.toInt=function(){return this.unsigned?this.low>>>0:this.low};Z.toNumber=function(){return this.unsigned?(this.high>>>0)*Gi+(this.low>>>0):this.high*Gi+(this.low>>>0)};Z.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(vr)){var t=Ur(e),o=this.div(t),n=o.mul(t).sub(this);return o.toString(e)+n.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var s=Ur(Xf(e,6),this.unsigned),i=this,a="";;){var u=i.div(s),c=i.sub(u.mul(s)).toInt()>>>0,l=c.toString(e);if(i=u,i.isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}};Z.getHighBits=function(){return this.high};Z.getHighBitsUnsigned=function(){return this.high>>>0};Z.getLowBits=function(){return this.low};Z.getLowBitsUnsigned=function(){return this.low>>>0};Z.getNumBitsAbs=function(){if(this.isNegative())return this.eq(vr)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return this.high!=0?t+33:t+1};Z.isZero=function(){return this.high===0&&this.low===0};Z.eqz=Z.isZero;Z.isNegative=function(){return!this.unsigned&&this.high<0};Z.isPositive=function(){return this.unsigned||this.high>=0};Z.isOdd=function(){return(this.low&1)===1};Z.isEven=function(){return(this.low&1)===0};Z.equals=function(e){return wr(e)||(e=Zr(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Z.eq=Z.equals;Z.notEquals=function(e){return!this.eq(e)};Z.neq=Z.notEquals;Z.ne=Z.notEquals;Z.lessThan=function(e){return this.comp(e)<0};Z.lt=Z.lessThan;Z.lessThanOrEqual=function(e){return this.comp(e)<=0};Z.lte=Z.lessThanOrEqual;Z.le=Z.lessThanOrEqual;Z.greaterThan=function(e){return this.comp(e)>0};Z.gt=Z.greaterThan;Z.greaterThanOrEqual=function(e){return this.comp(e)>=0};Z.gte=Z.greaterThanOrEqual;Z.ge=Z.greaterThanOrEqual;Z.compare=function(e){if(wr(e)||(e=Zr(e)),this.eq(e))return 0;var t=this.isNegative(),o=e.isNegative();return t&&!o?-1:!t&&o?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Z.comp=Z.compare;Z.negate=function(){return!this.unsigned&&this.eq(vr)?vr:this.not().add(Ui)};Z.neg=Z.negate;Z.add=function(e){wr(e)||(e=Zr(e));var t=this.high>>>16,o=this.high&65535,n=this.low>>>16,s=this.low&65535,i=e.high>>>16,a=e.high&65535,u=e.low>>>16,c=e.low&65535,l=0,p=0,f=0,d=0;return d+=s+c,f+=d>>>16,d&=65535,f+=n+u,p+=f>>>16,f&=65535,p+=o+a,l+=p>>>16,p&=65535,l+=t+i,l&=65535,et(f<<16|d,l<<16|p,this.unsigned)};Z.subtract=function(e){return wr(e)||(e=Zr(e)),this.add(e.neg())};Z.sub=Z.subtract;Z.multiply=function(e){if(this.isZero())return Gr;if(wr(e)||(e=Zr(e)),Vr){var t=Vr.mul(this.low,this.high,e.low,e.high);return et(t,Vr.get_high(),this.unsigned)}if(e.isZero())return Gr;if(this.eq(vr))return e.isOdd()?vr:Gr;if(e.eq(vr))return this.isOdd()?vr:Gr;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(s2)&&e.lt(s2))return Ur(this.toNumber()*e.toNumber(),this.unsigned);var o=this.high>>>16,n=this.high&65535,s=this.low>>>16,i=this.low&65535,a=e.high>>>16,u=e.high&65535,c=e.low>>>16,l=e.low&65535,p=0,f=0,d=0,h=0;return h+=i*l,d+=h>>>16,h&=65535,d+=s*l,f+=d>>>16,d&=65535,d+=i*c,f+=d>>>16,d&=65535,f+=n*l,p+=f>>>16,f&=65535,f+=s*c,p+=f>>>16,f&=65535,f+=i*u,p+=f>>>16,f&=65535,p+=o*l+n*c+s*u+i*a,p&=65535,et(d<<16|h,p<<16|f,this.unsigned)};Z.mul=Z.multiply;Z.divide=function(e){if(wr(e)||(e=Zr(e)),e.isZero())throw Error("division by zero");if(Vr){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var t=(this.unsigned?Vr.div_u:Vr.div_s)(this.low,this.high,e.low,e.high);return et(t,Vr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Rs:Gr;var o,n,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Rs;if(e.gt(this.shru(1)))return a2;s=Rs}else{if(this.eq(vr)){if(e.eq(Ui)||e.eq(Jg))return vr;if(e.eq(vr))return Ui;var i=this.shr(1);return o=i.div(e).shl(1),o.eq(Gr)?e.isNegative()?Ui:Jg:(n=this.sub(e.mul(o)),s=o.add(n.div(e)),s)}else if(e.eq(vr))return this.unsigned?Rs:Gr;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=Gr}for(n=this;n.gte(e);){o=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(o)/Math.LN2),u=a<=48?1:Xf(2,a-48),c=Ur(o),l=c.mul(e);l.isNegative()||l.gt(n);)o-=u,c=Ur(o,this.unsigned),l=c.mul(e);c.isZero()&&(c=Ui),s=s.add(c),n=n.sub(l)}return s};Z.div=Z.divide;Z.modulo=function(e){if(wr(e)||(e=Zr(e)),Vr){var t=(this.unsigned?Vr.rem_u:Vr.rem_s)(this.low,this.high,e.low,e.high);return et(t,Vr.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Z.mod=Z.modulo;Z.rem=Z.modulo;Z.not=function(){return et(~this.low,~this.high,this.unsigned)};Z.and=function(e){return wr(e)||(e=Zr(e)),et(this.low&e.low,this.high&e.high,this.unsigned)};Z.or=function(e){return wr(e)||(e=Zr(e)),et(this.low|e.low,this.high|e.high,this.unsigned)};Z.xor=function(e){return wr(e)||(e=Zr(e)),et(this.low^e.low,this.high^e.high,this.unsigned)};Z.shiftLeft=function(e){return wr(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?et(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):et(0,this.low<<e-32,this.unsigned)};Z.shl=Z.shiftLeft;Z.shiftRight=function(e){return wr(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?et(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):et(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Z.shr=Z.shiftRight;Z.shiftRightUnsigned=function(e){if(wr(e)&&(e=e.toInt()),e&=63,e===0)return this;var t=this.high;if(e<32){var o=this.low;return et(o>>>e|t<<32-e,t>>>e,this.unsigned)}else return e===32?et(t,0,this.unsigned):et(t>>>e-32,0,this.unsigned)};Z.shru=Z.shiftRightUnsigned;Z.shr_u=Z.shiftRightUnsigned;Z.toSigned=function(){return this.unsigned?et(this.low,this.high,!1):this};Z.toUnsigned=function(){return this.unsigned?this:et(this.low,this.high,!0)};Z.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Z.toBytesLE=function(){var e=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Z.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,t>>>24,t>>>16&255,t>>>8&255,t&255]};Je.fromBytes=function(e,t,o){return o?Je.fromBytesLE(e,t):Je.fromBytesBE(e,t)};Je.fromBytesLE=function(e,t){return new Je(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)};Je.fromBytesBE=function(e,t){return new Je(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}});var X2=Rr(()=>{"use strict"});var Z2=Rr((aZ,Y2)=>{"use strict";Y2.exports={}});var lS=Rr((cS,H0)=>{"use strict";(function(r,e,t){function o(a){var u=this,c=i();u.next=function(){var l=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=l-(u.c=l|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(a),u.s0<0&&(u.s0+=1),u.s1-=c(a),u.s1<0&&(u.s1+=1),u.s2-=c(a),u.s2<0&&(u.s2+=1),c=null}function n(a,u){return u.c=a.c,u.s0=a.s0,u.s1=a.s1,u.s2=a.s2,u}function s(a,u){var c=new o(a),l=u&&u.state,p=c.next;return p.int32=function(){return c.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,l&&(typeof l=="object"&&n(l,c),p.state=function(){return n(c,{})}),p}function i(){var a=4022871197,u=function(c){c=String(c);for(var l=0;l<c.length;l++){a+=c.charCodeAt(l);var p=.02519603282416938*a;a=p>>>0,p-=a,p*=a,a=p>>>0,p-=a,a+=p*4294967296}return(a>>>0)*23283064365386963e-26};return u}e&&e.exports?e.exports=s:t&&t.amd?t(function(){return s}):this.alea=s})(cS,typeof H0=="object"&&H0,typeof define=="function"&&define)});var fS=Rr((pS,j0)=>{"use strict";(function(r,e,t){function o(i){var a=this,u="";a.x=0,a.y=0,a.z=0,a.w=0,a.next=function(){var l=a.x^a.x<<11;return a.x=a.y,a.y=a.z,a.z=a.w,a.w^=a.w>>>19^l^l>>>8},i===(i|0)?a.x=i:u+=i;for(var c=0;c<u.length+64;c++)a.x^=u.charCodeAt(c)|0,a.next()}function n(i,a){return a.x=i.x,a.y=i.y,a.z=i.z,a.w=i.w,a}function s(i,a){var u=new o(i),c=a&&a.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var p=u.next()>>>11,f=(u.next()>>>0)/4294967296,d=(p+f)/(1<<21);while(d===0);return d},l.int32=u.next,l.quick=l,c&&(typeof c=="object"&&n(c,u),l.state=function(){return n(u,{})}),l}e&&e.exports?e.exports=s:t&&t.amd?t(function(){return s}):this.xor128=s})(pS,typeof j0=="object"&&j0,typeof define=="function"&&define)});var dS=Rr((mS,K0)=>{"use strict";(function(r,e,t){function o(i){var a=this,u="";a.next=function(){var l=a.x^a.x>>>2;return a.x=a.y,a.y=a.z,a.z=a.w,a.w=a.v,(a.d=a.d+362437|0)+(a.v=a.v^a.v<<4^(l^l<<1))|0},a.x=0,a.y=0,a.z=0,a.w=0,a.v=0,i===(i|0)?a.x=i:u+=i;for(var c=0;c<u.length+64;c++)a.x^=u.charCodeAt(c)|0,c==u.length&&(a.d=a.x<<10^a.x>>>4),a.next()}function n(i,a){return a.x=i.x,a.y=i.y,a.z=i.z,a.w=i.w,a.v=i.v,a.d=i.d,a}function s(i,a){var u=new o(i),c=a&&a.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var p=u.next()>>>11,f=(u.next()>>>0)/4294967296,d=(p+f)/(1<<21);while(d===0);return d},l.int32=u.next,l.quick=l,c&&(typeof c=="object"&&n(c,u),l.state=function(){return n(u,{})}),l}e&&e.exports?e.exports=s:t&&t.amd?t(function(){return s}):this.xorwow=s})(mS,typeof K0=="object"&&K0,typeof define=="function"&&define)});var gS=Rr((hS,q0)=>{"use strict";(function(r,e,t){function o(i){var a=this;a.next=function(){var c=a.x,l=a.i,p,f,d;return p=c[l],p^=p>>>7,f=p^p<<24,p=c[l+1&7],f^=p^p>>>10,p=c[l+3&7],f^=p^p>>>3,p=c[l+4&7],f^=p^p<<7,p=c[l+7&7],p=p^p<<13,f^=p^p<<9,c[l]=f,a.i=l+1&7,f};function u(c,l){var p,f,d=[];if(l===(l|0))f=d[0]=l;else for(l=""+l,p=0;p<l.length;++p)d[p&7]=d[p&7]<<15^l.charCodeAt(p)+d[p+1&7]<<13;for(;d.length<8;)d.push(0);for(p=0;p<8&&d[p]===0;++p);for(p==8?f=d[7]=-1:f=d[p],c.x=d,c.i=0,p=256;p>0;--p)c.next()}u(a,i)}function n(i,a){return a.x=i.x.slice(),a.i=i.i,a}function s(i,a){i==null&&(i=+new Date);var u=new o(i),c=a&&a.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var p=u.next()>>>11,f=(u.next()>>>0)/4294967296,d=(p+f)/(1<<21);while(d===0);return d},l.int32=u.next,l.quick=l,c&&(c.x&&n(c,u),l.state=function(){return n(u,{})}),l}e&&e.exports?e.exports=s:t&&t.amd?t(function(){return s}):this.xorshift7=s})(hS,typeof q0=="object"&&q0,typeof define=="function"&&define)});var yS=Rr((xS,X0)=>{"use strict";(function(r,e,t){function o(i){var a=this;a.next=function(){var c=a.w,l=a.X,p=a.i,f,d;return a.w=c=c+1640531527|0,d=l[p+34&127],f=l[p=p+1&127],d^=d<<13,f^=f<<17,d^=d>>>15,f^=f>>>12,d=l[p]=d^f,a.i=p,d+(c^c>>>16)|0};function u(c,l){var p,f,d,h,x,g=[],b=128;for(l===(l|0)?(f=l,l=null):(l=l+"\0",f=0,b=Math.max(b,l.length)),d=0,h=-32;h<b;++h)l&&(f^=l.charCodeAt((h+32)%l.length)),h===0&&(x=f),f^=f<<10,f^=f>>>15,f^=f<<4,f^=f>>>13,h>=0&&(x=x+1640531527|0,p=g[h&127]^=f+x,d=p==0?d+1:0);for(d>=128&&(g[(l&&l.length||0)&127]=-1),d=127,h=4*128;h>0;--h)f=g[d+34&127],p=g[d=d+1&127],f^=f<<13,p^=p<<17,f^=f>>>15,p^=p>>>12,g[d]=f^p;c.w=x,c.X=g,c.i=d}u(a,i)}function n(i,a){return a.i=i.i,a.w=i.w,a.X=i.X.slice(),a}function s(i,a){i==null&&(i=+new Date);var u=new o(i),c=a&&a.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var p=u.next()>>>11,f=(u.next()>>>0)/4294967296,d=(p+f)/(1<<21);while(d===0);return d},l.int32=u.next,l.quick=l,c&&(c.X&&n(c,u),l.state=function(){return n(u,{})}),l}e&&e.exports?e.exports=s:t&&t.amd?t(function(){return s}):this.xor4096=s})(xS,typeof X0=="object"&&X0,typeof define=="function"&&define)});var vS=Rr((bS,Y0)=>{"use strict";(function(r,e,t){function o(i){var a=this,u="";a.next=function(){var l=a.b,p=a.c,f=a.d,d=a.a;return l=l<<25^l>>>7^p,p=p-f|0,f=f<<24^f>>>8^d,d=d-l|0,a.b=l=l<<20^l>>>12^p,a.c=p=p-f|0,a.d=f<<16^p>>>16^d,a.a=d-l|0},a.a=0,a.b=0,a.c=-1640531527,a.d=1367130551,i===Math.floor(i)?(a.a=i/4294967296|0,a.b=i|0):u+=i;for(var c=0;c<u.length+20;c++)a.b^=u.charCodeAt(c)|0,a.next()}function n(i,a){return a.a=i.a,a.b=i.b,a.c=i.c,a.d=i.d,a}function s(i,a){var u=new o(i),c=a&&a.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var p=u.next()>>>11,f=(u.next()>>>0)/4294967296,d=(p+f)/(1<<21);while(d===0);return d},l.int32=u.next,l.quick=l,c&&(typeof c=="object"&&n(c,u),l.state=function(){return n(u,{})}),l}e&&e.exports?e.exports=s:t&&t.amd?t(function(){return s}):this.tychei=s})(bS,typeof Y0=="object"&&Y0,typeof define=="function"&&define)});var SS=Rr((Jpe,wS)=>{"use strict";wS.exports={}});var CS=Rr((TS,hm)=>{"use strict";(function(r,e,t){var o=256,n=6,s=52,i="random",a=t.pow(o,n),u=t.pow(2,s),c=u*2,l=o-1,p;function f(k,A,D){var L=[];A=A==!0?{entropy:!0}:A||{};var M=g(x(A.entropy?[k,C(e)]:k??b(),3),L),V=new d(L),z=function(){for(var W=V.g(n),H=a,X=0;W<u;)W=(W+X)*o,H*=o,X=V.g(1);for(;W>=c;)W/=2,H/=2,X>>>=1;return(W+X)/H};return z.int32=function(){return V.g(4)|0},z.quick=function(){return V.g(4)/4294967296},z.double=z,g(C(V.S),e),(A.pass||D||function(W,H,X,oe){return oe&&(oe.S&&h(oe,V),W.state=function(){return h(V,{})}),X?(t[i]=W,H):W})(z,M,"global"in A?A.global:this==t,A.state)}function d(k){var A,D=k.length,L=this,M=0,V=L.i=L.j=0,z=L.S=[];for(D||(k=[D++]);M<o;)z[M]=M++;for(M=0;M<o;M++)z[M]=z[V=l&V+k[M%D]+(A=z[M])],z[V]=A;(L.g=function(W){for(var H,X=0,oe=L.i,ae=L.j,ce=L.S;W--;)H=ce[oe=l&oe+1],X=X*o+ce[l&(ce[oe]=ce[ae=l&ae+H])+(ce[ae]=H)];return L.i=oe,L.j=ae,X})(o)}function h(k,A){return A.i=k.i,A.j=k.j,A.S=k.S.slice(),A}function x(k,A){var D=[],L=typeof k,M;if(A&&L=="object")for(M in k)try{D.push(x(k[M],A-1))}catch{}return D.length?D:L=="string"?k:k+"\0"}function g(k,A){for(var D=k+"",L,M=0;M<D.length;)A[l&M]=l&(L^=A[l&M]*19)+D.charCodeAt(M++);return C(A)}function b(){try{var k;return p&&(k=p.randomBytes)?k=k(o):(k=new Uint8Array(o),(r.crypto||r.msCrypto).getRandomValues(k)),C(k)}catch{var A=r.navigator,D=A&&A.plugins;return[+new Date,r,D,r.screen,C(e)]}}function C(k){return String.fromCharCode.apply(0,k)}if(g(t.random(),e),typeof hm=="object"&&hm.exports){hm.exports=f;try{p=SS()}catch{}}else typeof define=="function"&&define.amd?define(function(){return f}):t["seed"+i]=f})(typeof self<"u"?self:TS,[],Math)});var ES=Rr((efe,IS)=>{"use strict";var HP=lS(),jP=fS(),KP=dS(),qP=gS(),XP=yS(),YP=vS(),Us=CS();Us.alea=HP;Us.xor128=jP;Us.xorwow=KP;Us.xorshift7=qP;Us.xor4096=XP;Us.tychei=YP;IS.exports=Us});var wg=function(r,e){return wg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])},wg(r,e)};function Nt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wg(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function dw(r,e,t,o){function n(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function a(l){try{c(o.next(l))}catch(p){i(p)}}function u(l){try{c(o.throw(l))}catch(p){i(p)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((o=o.apply(r,e||[])).next())})}function xf(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},o,n,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(l){return u([c,l])}}function u(c){if(o)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(t=0)),t;)try{if(o=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,n=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(l){c=[6,l],n=0}finally{o=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Go(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],o=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $t(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),n,s=[],i;try{for(;(e===void 0||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return s}function Gt(r,e,t){if(t||arguments.length===2)for(var o=0,n=e.length,s;o<n;o++)(s||!(o in e))&&(s||(s=Array.prototype.slice.call(e,0,o)),s[o]=e[o]);return r.concat(s||Array.prototype.slice.call(e))}function Yn(r){return this instanceof Yn?(this.v=r,this):new Yn(r)}function hw(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(r,e||[]),n,s=[];return n={},a("next"),a("throw"),a("return",i),n[Symbol.asyncIterator]=function(){return this},n;function i(d){return function(h){return Promise.resolve(h).then(d,p)}}function a(d,h){o[d]&&(n[d]=function(x){return new Promise(function(g,b){s.push([d,x,g,b])>1||u(d,x)})},h&&(n[d]=h(n[d])))}function u(d,h){try{c(o[d](h))}catch(x){f(s[0][3],x)}}function c(d){d.value instanceof Yn?Promise.resolve(d.value.v).then(l,p):f(s[0][2],d)}function l(d){u("next",d)}function p(d){u("throw",d)}function f(d,h){d(h),s.shift(),s.length&&u(s[0][0],s[0][1])}}function gw(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Go=="function"?Go(r):r[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(s){t[s]=r[s]&&function(i){return new Promise(function(a,u){i=r[s](i),n(a,u,i.done,i.value)})}}function n(s,i,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},i)}}var xi=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function he(r){return typeof r=="function"}function yf(r){return he(r?.then)}function bf(r){var e=function(o){Error.call(o),o.stack=new Error().stack},t=r(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var vf=bf(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(o,n){return n+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Zn(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}var pn=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,t,o,n,s;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=Go(i),u=a.next();!u.done;u=a.next()){var c=u.value;c.remove(this)}}catch(x){e={error:x}}finally{try{u&&!u.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this);var l=this.initialTeardown;if(he(l))try{l()}catch(x){s=x instanceof vf?x.errors:[x]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var f=Go(p),d=f.next();!d.done;d=f.next()){var h=d.value;try{xw(h)}catch(x){s=s??[],x instanceof vf?s=Gt(Gt([],$t(s)),$t(x.errors)):s.push(x)}}}catch(x){o={error:x}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(o)throw o.error}}}if(s)throw new vf(s)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)xw(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},r.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},r.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},r.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Zn(t,e)},r.prototype.remove=function(e){var t=this._finalizers;t&&Zn(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}();var Sg=pn.EMPTY;function wf(r){return r instanceof pn||r&&"closed"in r&&he(r.remove)&&he(r.add)&&he(r.unsubscribe)}function xw(r){he(r)?r():r.unsubscribe()}var Xr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yi={setTimeout:function(r,e){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];var n=yi.delegate;return n?.setTimeout?n.setTimeout.apply(n,Gt([r,e],$t(t))):setTimeout.apply(void 0,Gt([r,e],$t(t)))},clearTimeout:function(r){var e=yi.delegate;return(e?.clearTimeout||clearTimeout)(r)},delegate:void 0};function Sf(r){yi.setTimeout(function(){var e=Xr.onUnhandledError;if(e)e(r);else throw r})}function au(){}var yw=function(){return Tg("C",void 0,void 0)}();function bw(r){return Tg("E",void 0,r)}function vw(r){return Tg("N",r,void 0)}function Tg(r,e,t){return{kind:r,value:e,error:t}}var Qn=null;function bi(r){if(Xr.useDeprecatedSynchronousErrorHandling){var e=!Qn;if(e&&(Qn={errorThrown:!1,error:null}),r(),e){var t=Qn,o=t.errorThrown,n=t.error;if(Qn=null,o)throw n}}else r()}function ww(r){Xr.useDeprecatedSynchronousErrorHandling&&Qn&&(Qn.errorThrown=!0,Qn.error=r)}var uu=function(r){Nt(e,r);function e(t){var o=r.call(this)||this;return o.isStopped=!1,t?(o.destination=t,wf(t)&&t.add(o)):o.destination=X_,o}return e.create=function(t,o,n){return new Jn(t,o,n)},e.prototype.next=function(t){this.isStopped?Ig(vw(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?Ig(bw(t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?Ig(yw,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(pn);var j_=Function.prototype.bind;function Cg(r,e){return j_.call(r,e)}var K_=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(o){Tf(o)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(o){Tf(o)}else Tf(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Tf(t)}},r}(),Jn=function(r){Nt(e,r);function e(t,o,n){var s=r.call(this)||this,i;if(he(t)||!t)i={next:t??void 0,error:o??void 0,complete:n??void 0};else{var a;s&&Xr.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&Cg(t.next,a),error:t.error&&Cg(t.error,a),complete:t.complete&&Cg(t.complete,a)}):i=t}return s.destination=new K_(i),s}return e}(uu);function Tf(r){Xr.useDeprecatedSynchronousErrorHandling?ww(r):Sf(r)}function q_(r){throw r}function Ig(r,e){var t=Xr.onStoppedNotification;t&&yi.setTimeout(function(){return t(r,e)})}var X_={closed:!0,next:au,error:q_,complete:au};var vi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function rr(r){return r}function Sw(r){return r.length===0?rr:r.length===1?r[0]:function(t){return r.reduce(function(o,n){return n(o)},t)}}var Ne=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,o){var n=this,s=Z_(e)?e:new Jn(e,t,o);return bi(function(){var i=n,a=i.operator,u=i.source;s.add(a?a.call(s,u):u?n._subscribe(s):n._trySubscribe(s))}),s},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var o=this;return t=Tw(t),new t(function(n,s){var i=new Jn({next:function(a){try{e(a)}catch(u){s(u),i.unsubscribe()}},error:s,complete:n});o.subscribe(i)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[vi]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Sw(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=Tw(e),new e(function(o,n){var s;t.subscribe(function(i){return s=i},function(i){return n(i)},function(){return o(s)})})},r.create=function(e){return new r(e)},r}();function Tw(r){var e;return(e=r??Xr.Promise)!==null&&e!==void 0?e:Promise}function Y_(r){return r&&he(r.next)&&he(r.error)&&he(r.complete)}function Z_(r){return r&&r instanceof uu||Y_(r)&&wf(r)}function Cf(r){return he(r[vi])}function If(r){return Symbol.asyncIterator&&he(r?.[Symbol.asyncIterator])}function Ef(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Q_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nf=Q_();function $f(r){return he(r?.[Nf])}function kf(r){return hw(this,arguments,function(){var t,o,n,s;return xf(this,function(i){switch(i.label){case 0:t=r.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Yn(t.read())];case 3:return o=i.sent(),n=o.value,s=o.done,s?[4,Yn(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Yn(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Af(r){return he(r?.getReader)}function qe(r){if(r instanceof Ne)return r;if(r!=null){if(Cf(r))return J_(r);if(xi(r))return eO(r);if(yf(r))return tO(r);if(If(r))return Cw(r);if($f(r))return rO(r);if(Af(r))return oO(r)}throw Ef(r)}function J_(r){return new Ne(function(e){var t=r[vi]();if(he(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function eO(r){return new Ne(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}function tO(r){return new Ne(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,Sf)})}function rO(r){return new Ne(function(e){var t,o;try{for(var n=Go(r),s=n.next();!s.done;s=n.next()){var i=s.value;if(e.next(i),e.closed)return}}catch(a){t={error:a}}finally{try{s&&!s.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}e.complete()})}function Cw(r){return new Ne(function(e){nO(r,e).catch(function(t){return e.error(t)})})}function oO(r){return Cw(kf(r))}function nO(r,e){var t,o,n,s;return dw(this,void 0,void 0,function(){var i,a;return xf(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),t=gw(r),u.label=1;case 1:return[4,t.next()];case 2:if(o=u.sent(),!!o.done)return[3,4];if(i=o.value,e.next(i),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),n={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),o&&!o.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(n)throw n.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function gr(r,e,t,o,n){o===void 0&&(o=0),n===void 0&&(n=!1);var s=e.schedule(function(){t(),n?r.add(this.schedule(null,o)):this.unsubscribe()},o);if(r.add(s),!n)return s}function sO(r){return he(r?.lift)}function Ue(r){return function(e){if(sO(e))return e.lift(function(t){try{return r(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Be(r,e,t,o,n){return new iO(r,e,t,o,n)}var iO=function(r){Nt(e,r);function e(t,o,n,s,i,a){var u=r.call(this,t)||this;return u.onFinalize=i,u.shouldUnsubscribe=a,u._next=o?function(c){try{o(c)}catch(l){t.error(l)}}:r.prototype._next,u._error=s?function(c){try{s(c)}catch(l){t.error(l)}finally{this.unsubscribe()}}:r.prototype._error,u._complete=n?function(){try{n()}catch(c){t.error(c)}finally{this.unsubscribe()}}:r.prototype._complete,u}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var o=this.closed;r.prototype.unsubscribe.call(this),!o&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(uu);function Rf(r,e){return e===void 0&&(e=0),Ue(function(t,o){t.subscribe(Be(o,function(n){return gr(o,r,function(){return o.next(n)},e)},function(){return gr(o,r,function(){return o.complete()},e)},function(n){return gr(o,r,function(){return o.error(n)},e)}))})}function _f(r,e){return e===void 0&&(e=0),Ue(function(t,o){o.add(r.schedule(function(){return t.subscribe(o)},e))})}function Iw(r,e){return qe(r).pipe(_f(e),Rf(e))}function Ew(r,e){return qe(r).pipe(_f(e),Rf(e))}function Nw(r,e){return new Ne(function(t){var o=0;return e.schedule(function(){o===r.length?t.complete():(t.next(r[o++]),t.closed||this.schedule())})})}function $w(r,e){return new Ne(function(t){var o;return gr(t,e,function(){o=r[Nf](),gr(t,e,function(){var n,s,i;try{n=o.next(),s=n.value,i=n.done}catch(a){t.error(a);return}i?t.complete():t.next(s)},0,!0)}),function(){return he(o?.return)&&o.return()}})}function Of(r,e){if(!r)throw new Error("Iterable cannot be null");return new Ne(function(t){gr(t,e,function(){var o=r[Symbol.asyncIterator]();gr(t,e,function(){o.next().then(function(n){n.done?t.complete():t.next(n.value)})},0,!0)})})}function kw(r,e){return Of(kf(r),e)}function Aw(r,e){if(r!=null){if(Cf(r))return Iw(r,e);if(xi(r))return Nw(r,e);if(yf(r))return Ew(r,e);if(If(r))return Of(r,e);if($f(r))return $w(r,e);if(Af(r))return kw(r,e)}throw Ef(r)}function xr(r,e){return e?Aw(r,e):qe(r)}function Df(r){return r&&he(r.schedule)}function Eg(r){return r[r.length-1]}function Ff(r){return he(Eg(r))?r.pop():void 0}function fn(r){return Df(Eg(r))?r.pop():void 0}function Rw(r,e){return typeof Eg(r)=="number"?r.pop():e}function Mr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=fn(r);return xr(r,t)}function yr(r,e){return Ue(function(t,o){var n=null,s=0,i=!1,a=function(){return i&&!n&&o.complete()};t.subscribe(Be(o,function(u){n?.unsubscribe();var c=0,l=s++;qe(r(u,l)).subscribe(n=Be(o,function(p){return o.next(e?e(u,p,l,c++):p)},function(){n=null,a()}))},function(){i=!0,a()}))})}var _w=bf(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var es=function(r){Nt(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var o=new Ow(this,this);return o.operator=t,o},e.prototype._throwIfClosed=function(){if(this.closed)throw new _w},e.prototype.next=function(t){var o=this;bi(function(){var n,s;if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));try{for(var i=Go(o.currentObservers),a=i.next();!a.done;a=i.next()){var u=a.value;u.next(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(n)throw n.error}}}})},e.prototype.error=function(t){var o=this;bi(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=t;for(var n=o.observers;n.length;)n.shift().error(t)}})},e.prototype.complete=function(){var t=this;bi(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var o=t.observers;o.length;)o.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var o=this,n=this,s=n.hasError,i=n.isStopped,a=n.observers;return s||i?Sg:(this.currentObservers=null,a.push(t),new pn(function(){o.currentObservers=null,Zn(a,t)}))},e.prototype._checkFinalizedStatuses=function(t){var o=this,n=o.hasError,s=o.thrownError,i=o.isStopped;n?t.error(s):i&&t.complete()},e.prototype.asObservable=function(){var t=new Ne;return t.source=this,t},e.create=function(t,o){return new Ow(t,o)},e}(Ne);var Ow=function(r){Nt(e,r);function e(t,o){var n=r.call(this)||this;return n.destination=t,n.source=o,n}return e.prototype.next=function(t){var o,n;(n=(o=this.destination)===null||o===void 0?void 0:o.next)===null||n===void 0||n.call(o,t)},e.prototype.error=function(t){var o,n;(n=(o=this.destination)===null||o===void 0?void 0:o.error)===null||n===void 0||n.call(o,t)},e.prototype.complete=function(){var t,o;(o=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||o===void 0||o.call(t)},e.prototype._subscribe=function(t){var o,n;return(n=(o=this.source)===null||o===void 0?void 0:o.subscribe(t))!==null&&n!==void 0?n:Sg},e}(es);var wi=function(r){Nt(e,r);function e(t){var o=r.call(this)||this;return o._value=t,o}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var o=r.prototype._subscribe.call(this,t);return!o.closed&&t.next(this._value),o},e.prototype.getValue=function(){var t=this,o=t.hasError,n=t.thrownError,s=t._value;if(o)throw n;return this._throwIfClosed(),s},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(es);var cu={now:function(){return(cu.delegate||Date).now()},delegate:void 0};var Si=function(r){Nt(e,r);function e(t,o,n){t===void 0&&(t=1/0),o===void 0&&(o=1/0),n===void 0&&(n=cu);var s=r.call(this)||this;return s._bufferSize=t,s._windowTime=o,s._timestampProvider=n,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=o===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,o),s}return e.prototype.next=function(t){var o=this,n=o.isStopped,s=o._buffer,i=o._infiniteTimeWindow,a=o._timestampProvider,u=o._windowTime;n||(s.push(t),!i&&s.push(a.now()+u)),this._trimBuffer(),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var o=this._innerSubscribe(t),n=this,s=n._infiniteTimeWindow,i=n._buffer,a=i.slice(),u=0;u<a.length&&!t.closed;u+=s?1:2)t.next(a[u]);return this._checkFinalizedStatuses(t),o},e.prototype._trimBuffer=function(){var t=this,o=t._bufferSize,n=t._timestampProvider,s=t._buffer,i=t._infiniteTimeWindow,a=(i?1:2)*o;if(o<1/0&&a<s.length&&s.splice(0,s.length-a),!i){for(var u=n.now(),c=0,l=1;l<s.length&&s[l]<=u;l+=2)c=l;c&&s.splice(0,c+1)}},e}(es);var Dw=function(r){Nt(e,r);function e(t,o){return r.call(this)||this}return e.prototype.schedule=function(t,o){return o===void 0&&(o=0),this},e}(pn);var lu={setInterval:function(r,e){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];var n=lu.delegate;return n?.setInterval?n.setInterval.apply(n,Gt([r,e],$t(t))):setInterval.apply(void 0,Gt([r,e],$t(t)))},clearInterval:function(r){var e=lu.delegate;return(e?.clearInterval||clearInterval)(r)},delegate:void 0};var Fw=function(r){Nt(e,r);function e(t,o){var n=r.call(this,t,o)||this;return n.scheduler=t,n.work=o,n.pending=!1,n}return e.prototype.schedule=function(t,o){var n;if(o===void 0&&(o=0),this.closed)return this;this.state=t;var s=this.id,i=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(i,s,o)),this.pending=!0,this.delay=o,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(i,this.id,o),this},e.prototype.requestAsyncId=function(t,o,n){return n===void 0&&(n=0),lu.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,o,n){if(n===void 0&&(n=0),n!=null&&this.delay===n&&this.pending===!1)return o;o!=null&&lu.clearInterval(o)},e.prototype.execute=function(t,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,o);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,o){var n=!1,s;try{this.work(t)}catch(i){n=!0,s=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,o=t.id,n=t.scheduler,s=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Zn(s,this),o!=null&&(this.id=this.recycleAsyncId(n,o,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(Dw);var Ng=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,o){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(o,t)},r.now=cu.now,r}();var Pw=function(r){Nt(e,r);function e(t,o){o===void 0&&(o=Ng.now);var n=r.call(this,t,o)||this;return n.actions=[],n._active=!1,n}return e.prototype.flush=function(t){var o=this.actions;if(this._active){o.push(t);return}var n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=o.shift());if(this._active=!1,n){for(;t=o.shift();)t.unsubscribe();throw n}},e}(Ng);var pu=new Pw(Fw),Lw=pu;var Pf=new Ne(function(r){return r.complete()});function Bw(r){return r instanceof Date&&!isNaN(r)}function or(r,e){return Ue(function(t,o){var n=0;t.subscribe(Be(o,function(s){o.next(r.call(e,s,n++))}))})}var aO=Array.isArray;function uO(r,e){return aO(e)?r.apply(void 0,Gt([],$t(e))):r(e)}function Lf(r){return or(function(e){return uO(r,e)})}var cO=Array.isArray,lO=Object.getPrototypeOf,pO=Object.prototype,fO=Object.keys;function Mw(r){if(r.length===1){var e=r[0];if(cO(e))return{args:e,keys:null};if(mO(e)){var t=fO(e);return{args:t.map(function(o){return e[o]}),keys:t}}}return{args:r,keys:null}}function mO(r){return r&&typeof r=="object"&&lO(r)===pO}function Vw(r,e){return r.reduce(function(t,o,n){return t[o]=e[n],t},{})}function yo(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=fn(r),o=Ff(r),n=Mw(r),s=n.args,i=n.keys;if(s.length===0)return xr([],t);var a=new Ne(dO(s,t,i?function(u){return Vw(i,u)}:rr));return o?a.pipe(Lf(o)):a}function dO(r,e,t){return t===void 0&&(t=rr),function(o){Uw(e,function(){for(var n=r.length,s=new Array(n),i=n,a=n,u=function(l){Uw(e,function(){var p=xr(r[l],e),f=!1;p.subscribe(Be(o,function(d){s[l]=d,f||(f=!0,a--),a||o.next(t(s.slice()))},function(){--i||o.complete()}))},o)},c=0;c<n;c++)u(c)},o)}}function Uw(r,e,t){r?gr(t,r,e):e()}function Gw(r,e,t,o,n,s,i,a){var u=[],c=0,l=0,p=!1,f=function(){p&&!u.length&&!c&&e.complete()},d=function(x){return c<o?h(x):u.push(x)},h=function(x){s&&e.next(x),c++;var g=!1;qe(t(x,l++)).subscribe(Be(e,function(b){n?.(b),s?d(b):e.next(b)},function(){g=!0},void 0,function(){if(g)try{c--;for(var b=function(){var C=u.shift();i?gr(e,i,function(){return h(C)}):h(C)};u.length&&c<o;)b();f()}catch(C){e.error(C)}}))};return r.subscribe(Be(e,d,function(){p=!0,f()})),function(){a?.()}}function fu(r,e,t){return t===void 0&&(t=1/0),he(e)?fu(function(o,n){return or(function(s,i){return e(o,s,n,i)})(qe(r(o,n)))},t):(typeof e=="number"&&(t=e),Ue(function(o,n){return Gw(o,n,r,t)}))}function Bf(r){return r===void 0&&(r=1/0),fu(rr,r)}function zw(){return Bf(1)}function $g(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return zw()(xr(r,fn(r)))}function kg(r){return new Ne(function(e){qe(r()).subscribe(e)})}var hO=["addListener","removeListener"],gO=["addEventListener","removeEventListener"],xO=["on","off"];function ts(r,e,t,o){if(he(t)&&(o=t,t=void 0),o)return ts(r,e,t).pipe(Lf(o));var n=$t(vO(r)?gO.map(function(a){return function(u){return r[a](e,u,t)}}):yO(r)?hO.map(Ww(r,e)):bO(r)?xO.map(Ww(r,e)):[],2),s=n[0],i=n[1];if(!s&&xi(r))return fu(function(a){return ts(a,e,t)})(qe(r));if(!s)throw new TypeError("Invalid event target");return new Ne(function(a){var u=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return a.next(1<c.length?c:c[0])};return s(u),function(){return i(u)}})}function Ww(r,e){return function(t){return function(o){return r[t](e,o)}}}function yO(r){return he(r.addListener)&&he(r.removeListener)}function bO(r){return he(r.on)&&he(r.off)}function vO(r){return he(r.addEventListener)&&he(r.removeEventListener)}function Mf(r,e,t){r===void 0&&(r=0),t===void 0&&(t=Lw);var o=-1;return e!=null&&(Df(e)?t=e:o=e),new Ne(function(n){var s=Bw(r)?+r-t.now():r;s<0&&(s=0);var i=0;return t.schedule(function(){n.closed||(n.next(i++),0<=o?this.schedule(void 0,o):n.complete())},s)})}function wO(r,e){return r===void 0&&(r=0),e===void 0&&(e=pu),r<0&&(r=0),Mf(r,r,e)}function Ti(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=fn(r),o=Rw(r,1/0),n=r;return n.length?n.length===1?qe(n[0]):Bf(o)(xr(n,t)):Pf}function Ag(r,e){return Ue(function(t,o){var n=0;t.subscribe(Be(o,function(s){return r.call(e,s,n++)&&o.next(s)}))})}function Vf(r){return Ue(function(e,t){var o=null,n=!1,s;o=e.subscribe(Be(t,void 0,void 0,function(i){s=qe(r(i,Vf(r)(e))),o?(o.unsubscribe(),o=null,s.subscribe(t)):n=!0})),n&&(o.unsubscribe(),o=null,s.subscribe(t))})}function Rg(r,e){return e===void 0&&(e=pu),Ue(function(t,o){var n=null,s=null,i=null,a=function(){if(n){n.unsubscribe(),n=null;var c=s;s=null,o.next(c)}};function u(){var c=i+r,l=e.now();if(l<c){n=this.schedule(void 0,c-l),o.add(n);return}a()}t.subscribe(Be(o,function(c){s=c,i=e.now(),n||(n=e.schedule(u,r),o.add(n))},function(){a(),o.complete()},void 0,function(){s=n=null}))})}function _g(r){return r<=0?function(){return Pf}:Ue(function(e,t){var o=0;e.subscribe(Be(t,function(n){++o<=r&&(t.next(n),r<=o&&t.complete())}))})}function mu(r,e){return e===void 0&&(e=rr),r=r??SO,Ue(function(t,o){var n,s=!0;t.subscribe(Be(o,function(i){var a=e(i);(s||!r(n,a))&&(s=!1,n=a,o.next(i))}))})}function SO(r,e){return r===e}function TO(){return Ue(function(r,e){var t,o=!1;r.subscribe(Be(e,function(n){var s=t;t=n,o&&e.next([s,n]),o=!0}))})}function Uf(r){r===void 0&&(r=1/0);var e;r&&typeof r=="object"?e=r:e={count:r};var t=e.count,o=t===void 0?1/0:t,n=e.delay,s=e.resetOnSuccess,i=s===void 0?!1:s;return o<=0?rr:Ue(function(a,u){var c=0,l,p=function(){var f=!1;l=a.subscribe(Be(u,function(d){i&&(c=0),u.next(d)},void 0,function(d){if(c++<o){var h=function(){l?(l.unsubscribe(),l=null,p()):f=!0};if(n!=null){var x=typeof n=="number"?Mf(n):qe(n(d,c)),g=Be(u,function(){g.unsubscribe(),h()},function(){u.complete()});x.subscribe(g)}else h()}else u.error(d)})),f&&(l.unsubscribe(),l=null,p())};p()})}function du(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new es}:e,o=r.resetOnError,n=o===void 0?!0:o,s=r.resetOnComplete,i=s===void 0?!0:s,a=r.resetOnRefCountZero,u=a===void 0?!0:a;return function(c){var l,p,f,d=0,h=!1,x=!1,g=function(){p?.unsubscribe(),p=void 0},b=function(){g(),l=f=void 0,h=x=!1},C=function(){var k=l;b(),k?.unsubscribe()};return Ue(function(k,A){d++,!x&&!h&&g();var D=f=f??t();A.add(function(){d--,d===0&&!x&&!h&&(p=Og(C,u))}),D.subscribe(A),!l&&d>0&&(l=new Jn({next:function(L){return D.next(L)},error:function(L){x=!0,g(),p=Og(b,n,L),D.error(L)},complete:function(){h=!0,g(),p=Og(b,i),D.complete()}}),qe(k).subscribe(l))})(c)}}function Og(r,e){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];if(e===!0){r();return}if(e!==!1){var n=new Jn({next:function(){n.unsubscribe(),r()}});return qe(e.apply(void 0,Gt([],$t(t)))).subscribe(n)}}function nr(r,e,t){var o,n,s,i,a=!1;return r&&typeof r=="object"?(o=r.bufferSize,i=o===void 0?1/0:o,n=r.windowTime,e=n===void 0?1/0:n,s=r.refCount,a=s===void 0?!1:s,t=r.scheduler):i=r??1/0,du({connector:function(){return new Si(i,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function rs(r,e,t){var o=he(r)||e||t?{next:r,error:e,complete:t}:r;return o?Ue(function(n,s){var i;(i=o.subscribe)===null||i===void 0||i.call(o);var a=!0;n.subscribe(Be(s,function(u){var c;(c=o.next)===null||c===void 0||c.call(o,u),s.next(u)},function(){var u;a=!1,(u=o.complete)===null||u===void 0||u.call(o),s.complete()},function(u){var c;a=!1,(c=o.error)===null||c===void 0||c.call(o,u),s.error(u)},function(){var u,c;a&&((u=o.unsubscribe)===null||u===void 0||u.call(o)),(c=o.finalize)===null||c===void 0||c.call(o)}))}):rr}function hu(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Ff(r);return Ue(function(o,n){for(var s=r.length,i=new Array(s),a=r.map(function(){return!1}),u=!1,c=function(p){qe(r[p]).subscribe(Be(n,function(f){i[p]=f,!u&&!a[p]&&(a[p]=!0,(u=a.every(rr))&&(a=null))},au))},l=0;l<s;l++)c(l);o.subscribe(Be(n,function(p){if(u){var f=Gt([p],$t(i));n.next(t?t.apply(void 0,Gt([],$t(f))):f)}}))})}var bo=De(ze(),1);function gu(r,e){let[t,o]=(0,bo.useState)(e);return CO(r,o),t}function CO(r,e){let t=(0,bo.useRef)(e);t.current=e,(0,bo.useEffect)(()=>{let o=r.subscribe(n=>t.current(n));return()=>{o.unsubscribe()}},[r])}function xu(r){let e=(0,bo.useRef)(new wi(r)),t=(0,bo.useRef)(e.current.asObservable()),o=(0,bo.useRef)(void 0);return o.current!==r&&(o.current=r,queueMicrotask(()=>e.current.next(r))),(0,bo.useEffect)(()=>{let{current:n}=e;if(n)return()=>{n.complete()}},[]),t.current}var Dt=De(ze());function Hw(r){let e=document.createElement("canvas");e.height=r?.getSettings().height??720,e.width=r?.getSettings().width??1280;let t=e.getContext("2d");return Lt(t),t.fillStyle="black",t.fillRect(0,0,e.width,e.height),setInterval(()=>{t.fillStyle="black",t.fillRect(0,0,e.width,e.height)},1e3),e.captureStream().getVideoTracks()[0]}var sa={};Ee(sa,{Abs:()=>Ai,Acos:()=>vu,Acosh:()=>wu,AdadeltaOptimizer:()=>Rn,AdagradOptimizer:()=>_n,AdamOptimizer:()=>On,AdamaxOptimizer:()=>Dn,Add:()=>Wo,AddN:()=>Su,All:()=>Tu,Any:()=>Cu,ArgMax:()=>Iu,ArgMin:()=>Eu,Asin:()=>Nu,Asinh:()=>$u,Atan:()=>ku,Atan2:()=>Ru,Atanh:()=>Au,AvgPool:()=>_u,AvgPool3D:()=>Ou,AvgPool3DGrad:()=>zg,AvgPoolGrad:()=>Gg,BatchMatMul:()=>Du,BatchToSpaceND:()=>Fu,Bincount:()=>Pu,BitwiseAnd:()=>is,BroadcastArgs:()=>Lu,BroadcastTo:()=>jO,Cast:()=>gn,Ceil:()=>as,ClipByValue:()=>Bu,Complex:()=>Ri,ComplexAbs:()=>Mu,Concat:()=>Vu,Conv2D:()=>Uu,Conv2DBackpropFilter:()=>Gu,Conv2DBackpropInput:()=>zu,Conv3D:()=>Wu,Conv3DBackpropFilterV2:()=>Wg,Conv3DBackpropInputV2:()=>Hu,Cos:()=>ju,Cosh:()=>Ku,CropAndResize:()=>Yu,Cumprod:()=>qu,Cumsum:()=>Xu,DataStorage:()=>Ci,DenseBincount:()=>Zu,DepthToSpace:()=>Qu,DepthwiseConv2dNative:()=>Ju,DepthwiseConv2dNativeBackpropFilter:()=>ec,DepthwiseConv2dNativeBackpropInput:()=>tc,Diag:()=>rc,Dilation2D:()=>oc,Dilation2DBackpropFilter:()=>qO,Dilation2DBackpropInput:()=>KO,Draw:()=>Hf,ENV:()=>Wf,Einsum:()=>sc,Elu:()=>ic,EluGrad:()=>Hg,Environment:()=>ki,Equal:()=>us,Erf:()=>ac,Exp:()=>cs,ExpandDims:()=>uc,Expm1:()=>ls,FFT:()=>cc,Fill:()=>lc,FlipLeftRight:()=>pc,Floor:()=>ps,FloorDiv:()=>fs,FromPixels:()=>Pi,FusedBatchNorm:()=>fc,FusedConv2D:()=>Bi,FusedDepthwiseConv2D:()=>Mi,GatherNd:()=>dc,GatherV2:()=>mc,Greater:()=>ms,GreaterEqual:()=>ds,IFFT:()=>hc,Identity:()=>xn,Imag:()=>gc,IsFinite:()=>xc,IsInf:()=>yc,IsNan:()=>bc,KernelBackend:()=>mn,LRN:()=>Ec,LRNGrad:()=>jg,LeakyRelu:()=>vc,Less:()=>hs,LessEqual:()=>gs,LinSpace:()=>wc,Log:()=>xs,Log1p:()=>Sc,LogSoftmax:()=>YO,LogicalAnd:()=>Tc,LogicalNot:()=>Cc,LogicalOr:()=>Ic,LogicalXor:()=>XO,LowerBound:()=>ZO,MatrixBandPart:()=>QO,Max:()=>Nc,MaxPool:()=>$c,MaxPool3D:()=>kc,MaxPool3DGrad:()=>qg,MaxPoolGrad:()=>Kg,MaxPoolWithArgmax:()=>Ac,Maximum:()=>ys,Mean:()=>Rc,Min:()=>_c,Minimum:()=>bs,MirrorPad:()=>Oc,Mod:()=>Dc,MomentumOptimizer:()=>Fn,Multinomial:()=>Fc,Multiply:()=>vs,Neg:()=>_i,NonMaxSuppressionV3:()=>Pc,NonMaxSuppressionV4:()=>Lc,NonMaxSuppressionV5:()=>Bc,NotEqual:()=>ws,OP_SCOPE_SUFFIX:()=>om,OneHot:()=>Vc,OnesLike:()=>Mc,Optimizer:()=>Ut,OptimizerConstructors:()=>na,Pack:()=>Uc,PadV2:()=>Gc,Pool:()=>JO,Pow:()=>zc,Prelu:()=>Wc,Prod:()=>Oi,RMSPropOptimizer:()=>Pn,RaggedGather:()=>Hc,RaggedRange:()=>jc,RaggedTensorToTensor:()=>Kc,Range:()=>qc,Rank:()=>Jf,Real:()=>Di,RealDiv:()=>nc,Reciprocal:()=>Xc,Reduction:()=>tt,Relu:()=>Yc,Relu6:()=>el,Reshape:()=>Zc,ResizeBilinear:()=>Jc,ResizeBilinearGrad:()=>Yg,ResizeNearestNeighbor:()=>Qc,ResizeNearestNeighborGrad:()=>Xg,Reverse:()=>tl,RotateWithOffset:()=>Dl,Round:()=>rl,Rsqrt:()=>Ss,SGDOptimizer:()=>Do,ScatterNd:()=>ol,SearchSorted:()=>sl,Select:()=>il,Selu:()=>al,Sigmoid:()=>Ts,Sign:()=>ll,Sin:()=>ul,Sinh:()=>cl,Slice:()=>Fi,Softmax:()=>hl,Softplus:()=>pl,SpaceToBatchND:()=>ml,SparseFillEmptyRows:()=>gl,SparseReshape:()=>xl,SparseSegmentMean:()=>yl,SparseSegmentSum:()=>bl,SparseToDense:()=>vl,SplitV:()=>dl,Sqrt:()=>Cs,Square:()=>Zg,SquaredDifference:()=>Is,StaticRegexReplace:()=>Es,Step:()=>Ol,StridedSlice:()=>wl,StringNGrams:()=>Sl,StringSplit:()=>Tl,StringToHashBucketFast:()=>Cl,Sub:()=>Ns,Sum:()=>fl,Tan:()=>Il,Tanh:()=>El,Tensor:()=>ye,TensorBuffer:()=>Sr,TensorScatterUpdate:()=>nl,Tile:()=>$s,TopK:()=>Nl,Transform:()=>$l,Transpose:()=>ks,Unique:()=>kl,Unpack:()=>Al,UnsortedSegmentSum:()=>Rl,UpperBound:()=>eD,Variable:()=>To,ZerosLike:()=>_l,_FusedMatMul:()=>Li,abs:()=>gt,acos:()=>Ex,acosh:()=>Nx,add:()=>J,addN:()=>$x,all:()=>kx,any:()=>Ax,argMax:()=>ql,argMin:()=>Rx,asin:()=>_x,asinh:()=>Ox,atan:()=>Dx,atan2:()=>Fx,atanh:()=>Px,avgPool:()=>Zl,avgPool3d:()=>Vx,backend:()=>Wl,backend_util:()=>O,basicLSTMCell:()=>Ux,batchNorm:()=>Xo,batchNorm2d:()=>Gx,batchNorm3d:()=>zx,batchNorm4d:()=>Wx,batchToSpaceND:()=>Ql,bincount:()=>Jl,bitwiseAnd:()=>Hx,booleanMaskAsync:()=>AS,broadcastArgs:()=>jx,broadcastTo:()=>Yo,broadcast_util:()=>Qo,browser:()=>so,buffer:()=>xe,cast:()=>le,ceil:()=>Kx,clipByValue:()=>qx,clone:()=>ir,complex:()=>Ht,concat:()=>We,concat1d:()=>Xx,concat2d:()=>Yx,concat3d:()=>Zx,concat4d:()=>Qx,conv1d:()=>Jx,conv2d:()=>Zo,conv2dTranspose:()=>e0,conv3d:()=>t0,conv3dTranspose:()=>r0,copyRegisteredKernels:()=>sD,cos:()=>o0,cosh:()=>n0,cosineWindow:()=>ta,cumprod:()=>s0,cumsum:()=>i0,customGrad:()=>Mt,denseBincount:()=>a0,deprecationWarn:()=>E2,depthToSpace:()=>u0,depthwiseConv2d:()=>Ms,device_util:()=>Ho,diag:()=>c0,dilation2d:()=>l0,disableDeprecationWarnings:()=>AD,dispose:()=>ot,disposeVariables:()=>RD,div:()=>be,divNoNan:()=>p0,dot:()=>f0,dropout:()=>LS,einsum:()=>Jo,elu:()=>ep,enableDebugMode:()=>kD,enableProdMode:()=>$D,enclosingPowerOfTwo:()=>vm,engine:()=>Or,ensureShape:()=>m0,env:()=>P,equal:()=>Tn,erf:()=>d0,euclideanNorm:()=>g0,exp:()=>Dr,expandDims:()=>Tt,expm1:()=>x0,eye:()=>tp,fft:()=>Ws,fill:()=>to,findBackend:()=>BD,findBackendFactory:()=>MD,floor:()=>rp,floorDiv:()=>Kl,fused:()=>wm,gather:()=>op,gatherND:()=>FS,gather_util:()=>Hy,getBackend:()=>zl,getGradient:()=>jf,getKernel:()=>As,getKernelsForBackend:()=>Pl,grad:()=>sS,grads:()=>iS,greater:()=>Ao,greaterEqual:()=>np,ifft:()=>kn,imag:()=>rn,image:()=>An,inTopKAsync:()=>BS,io:()=>oa,irfft:()=>wp,isFinite:()=>y0,isInf:()=>b0,isNaN:()=>v0,keep:()=>Kt,kernel_impls:()=>io,leakyRelu:()=>sp,less:()=>Qi,lessEqual:()=>Vs,linalg:()=>_T,linspace:()=>w0,localResponseNormalization:()=>S0,log:()=>Ro,log1p:()=>ip,logSigmoid:()=>T0,logSoftmax:()=>C0,logSumExp:()=>up,logicalAnd:()=>In,logicalNot:()=>cp,logicalOr:()=>lp,logicalXor:()=>I0,losses:()=>OT,lowerBound:()=>E0,matMul:()=>we,math:()=>Wy,max:()=>ro,maxPool:()=>pp,maxPool3d:()=>N0,maxPoolWithArgmax:()=>$0,maximum:()=>fp,mean:()=>En,memory:()=>_D,meshgrid:()=>k0,min:()=>Zi,minimum:()=>Nn,mirrorPad:()=>mp,mod:()=>A0,moments:()=>R0,movingAverage:()=>RS,mul:()=>K,multiRNNCell:()=>_0,multinomial:()=>O0,neg:()=>Ct,nextFrame:()=>Rm,norm:()=>Cn,notEqual:()=>dp,oneHot:()=>$n,ones:()=>oo,onesLike:()=>D0,op:()=>T,outerProduct:()=>F0,pad:()=>Pr,pad1d:()=>P0,pad2d:()=>L0,pad3d:()=>hp,pad4d:()=>B0,pool:()=>M0,pow:()=>ko,prelu:()=>xp,print:()=>jl,prod:()=>V0,profile:()=>OD,raggedGather:()=>U0,raggedRange:()=>G0,raggedTensorToTensor:()=>z0,rand:()=>W0,randomGamma:()=>ty,randomNormal:()=>yp,randomStandardNormal:()=>ry,randomUniform:()=>zs,randomUniformInt:()=>oy,range:()=>zr,ready:()=>PD,real:()=>_o,reciprocal:()=>ny,registerBackend:()=>gx,registerGradient:()=>rD,registerKernel:()=>Kf,relu:()=>on,relu6:()=>bp,removeBackend:()=>LD,reshape:()=>U,reverse:()=>Cr,reverse1d:()=>sy,reverse2d:()=>iy,reverse3d:()=>ay,reverse4d:()=>uy,rfft:()=>Hs,round:()=>vp,rsqrt:()=>cy,scalar:()=>ne,scatterND:()=>_S,scatter_util:()=>Ip,searchSorted:()=>Ji,selu:()=>ly,separableConv2d:()=>py,serialization:()=>Ly,setBackend:()=>FD,setPlatform:()=>VD,setdiff1dAsync:()=>fy,sigmoid:()=>ar,sign:()=>my,signal:()=>RT,sin:()=>dy,sinh:()=>hy,slice:()=>ve,slice1d:()=>gy,slice2d:()=>xy,slice3d:()=>yy,slice4d:()=>by,slice_util:()=>Yt,softmax:()=>vy,softplus:()=>ap,spaceToBatchND:()=>gp,sparse:()=>DT,sparseToDense:()=>DS,spectral:()=>AT,split:()=>Oo,sqrt:()=>qt,square:()=>xt,squaredDifference:()=>Sp,squeeze:()=>Xt,stack:()=>Vt,step:()=>Tp,stridedSlice:()=>wy,string:()=>FT,sub:()=>ie,sum:()=>_e,sumOutType:()=>vn,tan:()=>Sy,tanh:()=>Yi,tensor:()=>St,tensor1d:()=>yt,tensor2d:()=>no,tensor3d:()=>Cp,tensor4d:()=>Ty,tensor5d:()=>Cy,tensor6d:()=>Iy,tensorScatterUpdate:()=>Ny,tensor_util:()=>px,test_util:()=>ey,tidy:()=>te,tile:()=>tn,time:()=>DD,topk:()=>$y,train:()=>PB,transpose:()=>js,truncatedNormal:()=>ky,unique:()=>Ay,unregisterGradient:()=>nD,unregisterKernel:()=>oD,unsortedSegmentSum:()=>Ry,unstack:()=>Ir,upcastType:()=>kt,upperBound:()=>_y,util:()=>I,valueAndGrad:()=>aS,valueAndGrads:()=>uS,variable:()=>Oy,variableGrads:()=>fm,version_core:()=>iC,where:()=>Tr,whereAsync:()=>Ep,zeros:()=>Fr,zerosLike:()=>lt});var Ci=class{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}},mn=class{refCount(e){return br("refCount")}incRef(e){return br("incRef")}timerAvailable(){return!0}time(e){return br("time")}read(e){return br("read")}readSync(e){return br("readSync")}readToGPU(e,t){return br("readToGPU")}numDataIds(){return br("numDataIds")}disposeData(e,t){return br("disposeData")}write(e,t,o){return br("write")}move(e,t,o,n,s){return br("move")}createTensorFromGPUData(e,t,o){return br("createTensorFromGPUData")}memory(){return br("memory")}floatPrecision(){return br("floatPrecision")}epsilon(){return this.floatPrecision()===32?1e-7:1e-4}dispose(){return br("dispose")}};function br(r){throw new Error(`'${r}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function qw(r){let e=r.length,t=0;for(;e>0;)t=Math.random()*e|0,e--,Gf(r,e,t)}function IO(r,e){if(r.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${r.length}Second array length was ${e.length}`);let t=r.length,o=0;for(;t>0;)o=Math.random()*t|0,t--,Gf(r,t,o),Gf(e,t,o)}function Ii(r,e,t){return Math.max(r,Math.min(e,t))}function EO(r){return r%2===0?r:r+1}function Gf(r,e,t){let o=r[e];r[e]=r[t],r[t]=o}function NO(r){let e=0;for(let t=0;t<r.length;t++)e+=r[t];return e}function $O(r,e){let t=Math.random();return e*t+(1-t)*r}function kO(r,e){let t=0;for(let o=0;o<r.length;o++){let n=Number(r[o])-Number(e[o]);t+=n*n}return t}function $(r,e){if(!r)throw new Error(typeof e=="string"?e:e())}function He(r,e,t=""){$(zt(r,e),()=>t+` Shapes ${r} and ${e} must match`)}function _r(r){$(r!=null,()=>"The input to the tensor constructor must be a non-null value.")}function ge(r){if(r.length===0)return 1;let e=r[0];for(let t=1;t<r.length;t++)e*=r[t];return e}function AO(r){return r.length===0}function Dg(r,e){if(r===e)return!0;if(r==null||e==null||r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==null&&e[t]!==null&&r[t]!==e[t])return!1;return!0}function zt(r,e){if(r===e)return!0;if(r==null||e==null||r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function zo(r){return r%1===0}function RO(r){if(Math.tanh!=null)return Math.tanh(r);if(r===1/0)return 1;if(r===-1/0)return-1;{let e=Math.exp(2*r);return(e-1)/(e+1)}}function _O(r){let e=Math.ceil(Math.sqrt(r));return[e,Math.ceil(r/e)]}function OO(r){let e=new Uint32Array(r);for(let t=0;t<r;++t)e[t]=t;return qw(e),e}function ns(r,e){return e<=r.length?r:r+" ".repeat(e-r.length)}function DO(r,e=n=>0,t,o){return new Promise((n,s)=>{let i=0,a=()=>{if(r()){n();return}i++;let u=e(i);if(t!=null&&i>=t){s();return}o!=null?o(a,u):setTimeout(a,u)};a()})}function FO(r,e){let t=1,o=-1;for(let s=0;s<r.length;++s)if(r[s]>=0)t*=r[s];else if(r[s]===-1){if(o!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${o} and dim ${s}`);o=s}else if(r[s]<0)throw Error(`Shapes can not be < 0. Found ${r[s]} at dim ${s}`);if(o===-1){if(e>0&&e!==t)throw Error(`Size(${e}) must match the product of shape ${r}`);return r}if(t===0)throw Error(`Cannot infer the missing size in [${r}] when there are 0 elements`);if(e%t!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${t}`);let n=r.slice();return n[o]=e/t,n}function dn(r,e){let t=e.length;return r=r==null?e.map((o,n)=>n):[].concat(r),$(r.every(o=>o>=-t&&o<t),()=>`All values in axis param must be in range [-${t}, ${t}) but got axis ${r}`),$(r.every(o=>zo(o)),()=>`All values in axis param must be integers but got axis ${r}`),r.map(o=>o<0?t+o:o)}function Fg(r,e){let t=[],o=[],n=e!=null&&Array.isArray(e)&&e.length===0,s=e==null||n?null:dn(e,r).sort(),i=0;for(let a=0;a<r.length;++a){if(s!=null){if(s[i]===a&&r[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${r[a]}' is not 1`);(s[i]==null||s[i]>a)&&r[a]===1&&(t.push(r[a]),o.push(a)),s[i]<=a&&i++}r[a]!==1&&(t.push(r[a]),o.push(a))}return{newShape:t,keptDims:o}}function Pg(r,e){return zf(r,e)}function zf(r,e){let t=null;if(r==null||r==="float32")t=new Float32Array(e);else if(r==="int32")t=new Int32Array(e);else if(r==="bool")t=new Uint8Array(e);else if(r==="string")t=new Array(e);else throw new Error(`Unknown data type ${r}`);return t}function Lg(r,e){for(let t=0;t<r.length;t++){let o=r[t];if(isNaN(o)||!isFinite(o))throw Error(`A tensor of type ${e} being uploaded contains ${o}.`)}}function Bg(r){return r==="bool"||r==="complex64"||r==="float32"||r==="int32"||r==="string"}function PO(r,e){return!(e==="complex64"||e==="float32"&&r!=="complex64"||e==="int32"&&r!=="float32"&&r!=="complex64"||e==="bool"&&r==="bool")}function Ei(r){if(r==="float32"||r==="int32")return 4;if(r==="complex64")return 8;if(r==="bool")return 1;throw new Error(`Unknown dtype ${r}`)}function Mg(r){if(r==null)return 0;let e=0;return r.forEach(t=>e+=t.length),e}function Yr(r){return typeof r=="string"||r instanceof String}function Xw(r){return typeof r=="boolean"}function Yw(r){return typeof r=="number"}function hn(r){return Array.isArray(r)?hn(r[0]):r instanceof Float32Array?"float32":r instanceof Int32Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray?"int32":Yw(r)?"float32":Yr(r)?"string":Xw(r)?"bool":"float32"}function vo(r){return!!(r&&r.constructor&&r.call&&r.apply)}function Ni(r,e){for(let t=e;t<r;++t)if(r%t===0)return t;return r}function wo(r){let e=r.length;if(e<2)return[];let t=new Array(e-1);t[e-2]=r[e-1];for(let o=e-3;o>=0;--o)t[o]=t[o+1]*r[o+1];return t}function Zw(r,e,t,o=!1){let n=new Array;if(e.length===1){let s=e[0]*(o?2:1);for(let i=0;i<s;i++)n[i]=t[r+i]}else{let s=e[0],i=e.slice(1),a=i.reduce((u,c)=>u*c)*(o?2:1);for(let u=0;u<s;u++)n[u]=Zw(r+u*a,i,t,o)}return n}function os(r,e,t=!1){if(r.length===0)return e[0];let o=r.reduce((n,s)=>n*s)*(t?2:1);if(o===0)return[];if(o!==e.length)throw new Error(`[${r}] does not match the input size ${e.length}${t?" for a complex tensor":""}.`);return Zw(0,r,e,t)}function LO(r,e){if(Array.isArray(r))return r;if(e==="float32")return r instanceof Float32Array?r:new Float32Array(r);if(e==="int32")return r instanceof Int32Array?r:new Int32Array(r);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(r));throw new Error(`Unknown dtype ${e}`)}function yu(r,e){let t=$i(r,e);for(let o=0;o<t.length;o++)t[o]=1;return t}function $i(r,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(r);if(e==="int32")return new Int32Array(r);if(e==="bool")return new Uint8Array(r);throw new Error(`Unknown data type ${e}`)}function BO(r,e){let t=r.reduce((o,n)=>o*n,1);if(e==null||e==="float32")return os(r,new Float32Array(t));if(e==="int32")return os(r,new Int32Array(t));if(e==="bool")return os(r,new Uint8Array(t));throw new Error(`Unknown data type ${e}`)}function Xe(r){r.forEach(e=>{$(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${r}].`)})}function MO(r,e,t){if(e===0)return 0;if(e===1)return r[0];let o=r[r.length-1];for(let n=0;n<r.length-1;++n)o+=t[n]*r[n];return o}function VO(r,e,t){if(e===0)return[];if(e===1)return[r];let o=new Array(e);for(let n=0;n<o.length-1;++n)o[n]=Math.floor(r/t[n]),r-=o[n]*t[n];return o[o.length-1]=r,o}function ss(r){return r&&r.then&&typeof r.then=="function"}var Qw="tfjsflags",ki=class{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=GO,this.populateURLFlags()}setPlatform(e,t){this.platform!=null&&(P().getBool("IS_TEST")||P().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,o){if(this.flagRegistry[e]={evaluationFn:t,setHook:o},this.urlFlags[e]!=null){let n=this.urlFlags[e];P().getBool("IS_TEST")||P().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${n}.`),this.set(e,n)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];let t=this.evaluateFlag(e);if(ss(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;let e=this.getQueryParams(this.global.location.search);Qw in e&&e[Qw].split(",").forEach(o=>{let[n,s]=o.split(":");this.urlFlags[n]=WO(n,s)})}};function GO(r){let e={};return r.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(t,...o)=>(zO(e,o[0],o[1]),o.join("="))),e}function zO(r,e,t){r[decodeURIComponent(e)]=decodeURIComponent(t||"")}function WO(r,e){let t=e.toLowerCase();return t==="true"||t==="false"?t==="true":`${+t}`===t?+t:e}function P(){return Wf}var Wf=null;function Jw(r){Wf=r}var Vg;function Ug(){if(Vg==null){let r;if(typeof window<"u")r=window;else if(typeof globalThis<"u")r=globalThis;else if(typeof process<"u")r=process;else if(typeof self<"u")r=self;else throw new Error("Could not find a global object");Vg=r}return Vg}function HO(){let r=Ug();return r._tfGlobals==null&&(r._tfGlobals=new Map),r._tfGlobals}function bu(r,e){let t=HO();if(t.has(r))return t.get(r);{let o=e();return t.set(r,o),t.get(r)}}var Ai="Abs",vu="Acos",wu="Acosh",Wo="Add",Su="AddN",Tu="All",Cu="Any",Iu="ArgMax",Eu="ArgMin",Nu="Asin",$u="Asinh",ku="Atan",Au="Atanh",Ru="Atan2",_u="AvgPool",Gg="AvgPoolGrad",Ou="AvgPool3D",zg="AvgPool3DGrad",Du="BatchMatMul",Fu="BatchToSpaceND",Pu="Bincount",is="BitwiseAnd",jO="BroadcastTo",Lu="BroadcastArgs",gn="Cast",as="Ceil",Bu="ClipByValue",Ri="Complex",Mu="ComplexAbs",Vu="Concat",Uu="Conv2D",Gu="Conv2DBackpropFilter",zu="Conv2DBackpropInput",Wu="Conv3D",Wg="Conv3DBackpropFilterV2",Hu="Conv3DBackpropInputV2",ju="Cos",Ku="Cosh",qu="Cumprod",Xu="Cumsum",Yu="CropAndResize",Zu="DenseBincount",Qu="DepthToSpace",Ju="DepthwiseConv2dNative",ec="DepthwiseConv2dNativeBackpropFilter",tc="DepthwiseConv2dNativeBackpropInput",rc="Diag",oc="Dilation2D",KO="Dilation2DBackpropInput",qO="Dilation2DBackpropFilter",Hf="Draw",nc="RealDiv",sc="Einsum",ic="Elu",Hg="EluGrad",ac="Erf",us="Equal",cs="Exp",uc="ExpandDims",ls="Expm1",cc="FFT",lc="Fill",pc="FlipLeftRight",ps="Floor",fs="FloorDiv",fc="FusedBatchNorm",mc="GatherV2",dc="GatherNd",ms="Greater",ds="GreaterEqual",xn="Identity",hc="IFFT",gc="Imag",xc="IsFinite",yc="IsInf",bc="IsNan",vc="LeakyRelu",hs="Less",gs="LessEqual",wc="LinSpace",xs="Log",Sc="Log1p",Tc="LogicalAnd",Cc="LogicalNot",Ic="LogicalOr",XO="LogicalXor",YO="LogSoftmax",ZO="LowerBound",Ec="LRN",jg="LRNGrad",QO="MatrixBandPart",Nc="Max",ys="Maximum",$c="MaxPool",Kg="MaxPoolGrad",kc="MaxPool3D",qg="MaxPool3DGrad",Ac="MaxPoolWithArgmax",Rc="Mean",_c="Min",bs="Minimum",Oc="MirrorPad",Dc="Mod",Fc="Multinomial",vs="Multiply",_i="Neg",ws="NotEqual",Pc="NonMaxSuppressionV3",Lc="NonMaxSuppressionV4",Bc="NonMaxSuppressionV5",Mc="OnesLike",Vc="OneHot",Uc="Pack",Gc="PadV2",JO="Pool",zc="Pow",Wc="Prelu",Oi="Prod",Hc="RaggedGather",jc="RaggedRange",Kc="RaggedTensorToTensor",qc="Range",Di="Real",Xc="Reciprocal",Yc="Relu",Zc="Reshape",Qc="ResizeNearestNeighbor",Xg="ResizeNearestNeighborGrad",Jc="ResizeBilinear",Yg="ResizeBilinearGrad",el="Relu6",tl="Reverse",rl="Round",Ss="Rsqrt",ol="ScatterNd",nl="TensorScatterUpdate",sl="SearchSorted",il="Select",al="Selu",Fi="Slice",ul="Sin",cl="Sinh",ll="Sign",Ts="Sigmoid",pl="Softplus",Cs="Sqrt",fl="Sum",ml="SpaceToBatchND",dl="SplitV",hl="Softmax",gl="SparseFillEmptyRows",xl="SparseReshape",yl="SparseSegmentMean",bl="SparseSegmentSum",vl="SparseToDense",Is="SquaredDifference",Zg="Square",Es="StaticRegexReplace",wl="StridedSlice",Sl="StringNGrams",Tl="StringSplit",Cl="StringToHashBucketFast",Ns="Sub",Il="Tan",El="Tanh",$s="Tile",Nl="TopK",$l="Transform",ks="Transpose",kl="Unique",Al="Unpack",Rl="UnsortedSegmentSum",eD="UpperBound",_l="ZerosLike",Ol="Step",Pi="FromPixels",Dl="RotateWithOffset",Li="_FusedMatMul",Bi="FusedConv2D",Mi="FusedDepthwiseConv2D";function So(...r){P().getBool("IS_TEST")||P().getBool("PROD")||console.warn(...r)}function tD(...r){P().getBool("IS_TEST")||P().getBool("PROD")||console.log(...r)}var Vi=bu("kernelRegistry",()=>new Map),Fl=bu("gradRegistry",()=>new Map);function As(r,e){let t=Qg(r,e);return Vi.get(t)}function jf(r){return Fl.get(r)}function Pl(r){let e=Vi.entries(),t=[];for(;;){let{done:o,value:n}=e.next();if(o)break;let[s,i]=n,[a]=s.split("_");a===r&&t.push(i)}return t}function Kf(r){let{kernelName:e,backendName:t}=r,o=Qg(e,t);Vi.has(o)&&So(`The kernel '${e}' for backend '${t}' is already registered`),Vi.set(o,r)}function rD(r){let{kernelName:e}=r;Fl.has(e)&&P().getBool("DEBUG")&&So(`Overriding the gradient for '${e}'`),Fl.set(e,r)}function oD(r,e){let t=Qg(r,e);if(!Vi.has(t))throw new Error(`The kernel '${r}' for backend '${e}' is not registered`);Vi.delete(t)}function nD(r){if(!Fl.has(r))throw new Error(`The gradient '${r}' for backend is not registered`);Fl.delete(r)}function sD(r,e){Pl(r).forEach(o=>{let n=Object.assign({},o,{backendName:e});Kf(n)})}function Qg(r,e){return`${e}_${r}`}var I={};Ee(I,{arraysEqual:()=>zt,arraysEqualWithNull:()=>Dg,assert:()=>$,assertNonNegativeIntegerDimensions:()=>Xe,assertNonNull:()=>_r,assertShapesMatch:()=>He,bytesFromStringArray:()=>Mg,bytesPerElement:()=>Ei,checkConversionForErrors:()=>Lg,clamp:()=>Ii,computeStrides:()=>wo,convertBackendValuesAndArrayBuffer:()=>LO,createScalarValue:()=>fD,createShuffledIndices:()=>OO,decodeString:()=>Wi,distSquared:()=>kO,encodeString:()=>bn,fetch:()=>dD,fingerPrint64:()=>pD,flatten:()=>Qr,getArrayFromDType:()=>zf,getTypedArrayFromDType:()=>Pg,hasEncodingLoss:()=>PO,hexToLong:()=>Ll,indexToLoc:()=>VO,inferDtype:()=>hn,inferFromImplicitShape:()=>FO,isBoolean:()=>Xw,isFunction:()=>vo,isInt:()=>zo,isNumber:()=>Yw,isPromise:()=>ss,isScalarShape:()=>AO,isString:()=>Yr,isTypedArray:()=>it,isValidDtype:()=>Bg,locToIndex:()=>MO,makeOnesTypedArray:()=>yu,makeZerosNestedTypedArray:()=>BO,makeZerosTypedArray:()=>$i,nearestDivisor:()=>Ni,nearestLargerEven:()=>EO,now:()=>Fs,parseAxisParam:()=>dn,randUniform:()=>$O,repeatedTry:()=>DO,rightPad:()=>ns,shuffle:()=>qw,shuffleCombo:()=>IO,sizeFromShape:()=>ge,sizeToSquarishShape:()=>_O,squeezeShape:()=>Fg,sum:()=>NO,swap:()=>Gf,tanh:()=>RO,toNestedArray:()=>os,toTypedArray:()=>zi});function qf(r){return r instanceof Float32Array||r instanceof Int32Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray}var rx=De(p2());var Ds=rx.default||rx;function Ll(r){return Ds.fromString(r,!0,16)}var m2=Ll("c3a5c85c97cb3127"),Os=Ll("b492b66fbe98f273"),Wt=Ll("9ae16a3b2f90404f");function tx(r){return r.xor(r.shru(47))}function d2(r,e,t){let o=r.slice(e,e+t);return Ds.fromBytes(Array.from(o),!0,!0)}function Ye(r,e){return d2(r,e,8)}function f2(r,e){return d2(r,e,4)}function wt(r,e){return e===0?r:r.shru(e).or(r.shl(64-e))}function yn(r,e,t=Ll("9ddfea08eb382d69")){let o=r.xor(e).mul(t);o=o.xor(o.shru(47));let n=e.xor(o).mul(t);return n=n.xor(n.shru(47)),n=n.mul(t),n}function aD(r,e,t,o,n,s){n=n.add(r),s=wt(s.add(n).add(o),21);let i=n;return n=n.add(e),n=n.add(t),s=s.add(wt(n,44)),[n.add(o),s.add(i)]}function Yf(r,e,t,o){return aD(Ye(r,e),Ye(r,e+8),Ye(r,e+16),Ye(r,e+24),t,o)}function uD(r,e=r.length){if(e>=8){let t=Wt.add(e*2),o=Ye(r,0).add(Wt),n=Ye(r,e-8),s=wt(n,37).mul(t).add(o),i=wt(o,25).add(n).mul(t);return yn(s,i,t)}if(e>=4){let t=Wt.add(e*2),o=f2(r,0);return yn(o.shl(3).add(e),f2(r,e-4),t)}if(e>0){let t=r[0],o=r[e>>1],n=r[e-1],s=t+(o<<8),i=e+(n<<2);return tx(Wt.mul(s).xor(m2.mul(i))).mul(Wt)}return Wt}function cD(r,e=r.length){let t=Wt.add(e*2),o=Ye(r,0).mul(Os),n=Ye(r,8),s=Ye(r,e-8).mul(t),i=Ye(r,e-16).mul(Wt);return yn(wt(o.add(n),43).add(wt(s,30)).add(i),o.add(wt(n.add(Wt),18)).add(s),t)}function lD(r,e=r.length){let t=Wt.add(e*2),o=Ye(r,0).mul(Wt),n=Ye(r,8),s=Ye(r,e-8).mul(t),i=Ye(r,e-16).mul(Wt),a=wt(o.add(n),43).add(wt(s,30)).add(i),u=yn(a,o.add(wt(n.add(Wt),18)).add(s),t),c=Ye(r,16).mul(t),l=Ye(r,24),p=a.add(Ye(r,e-32)).mul(t),f=u.add(Ye(r,e-24)).mul(t);return yn(wt(c.add(l),43).add(wt(p,30)).add(f),c.add(wt(l.add(o),18)).add(p),t)}function pD(r,e=r.length){let t=Ds.fromNumber(81,!0);if(e<=32)return e<=16?uD(r,e):cD(r,e);if(e<=64)return lD(r,e);let o=t,n=t.mul(Os).add(113),s=tx(n.mul(Wt).add(113)).mul(Wt),i=[Ds.UZERO,Ds.UZERO],a=[Ds.UZERO,Ds.UZERO];o=o.mul(Wt).add(Ye(r,0));let u=0,c=(e-1>>6)*64,l=c+(e-1&63)-63;do o=wt(o.add(n).add(i[0]).add(Ye(r,u+8)),37).mul(Os),n=wt(n.add(i[1]).add(Ye(r,u+48)),42).mul(Os),o=o.xor(a[1]),n=n.add(i[0]).add(Ye(r,u+40)),s=wt(s.add(a[0]),33).mul(Os),i=Yf(r,u,i[1].mul(Os),o.add(a[0])),a=Yf(r,u+32,s.add(a[1]),n.add(Ye(r,u+16))),[s,o]=[o,s],u+=64;while(u!==c);let p=Os.add(s.and(255).shl(1));return u=l,a[0]=a[0].add(e-1&63),i[0]=i[0].add(a[0]),a[0]=a[0].add(i[0]),o=wt(o.add(n).add(i[0]).add(Ye(r,u+8)),37).mul(p),n=wt(n.add(i[1]).add(Ye(r,u+48)),42).mul(p),o=o.xor(a[1].mul(9)),n=n.add(i[0].mul(9).add(Ye(r,u+40))),s=wt(s.add(a[0]),33).mul(p),i=Yf(r,u,i[1].mul(p),o.add(a[0])),a=Yf(r,u+32,s.add(a[1]),n.add(Ye(r,u+16))),[s,o]=[o,s],yn(yn(i[0],a[0],p).add(tx(n).mul(m2)).add(s),yn(i[1],a[1],p).add(o),p)}function fD(r,e){return e==="string"?bn(r):zi([r],e)}function mD(r,e){return r instanceof Float32Array&&e==="float32"||r instanceof Int32Array&&e==="int32"||r instanceof Uint8Array&&e==="bool"}function zi(r,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(r)&&(r=Qr(r)),P().getBool("DEBUG")&&Lg(r,e),mD(r,e))return r;if(e==null||e==="float32"||e==="complex64")return new Float32Array(r);if(e==="int32")return new Int32Array(r);if(e==="bool"){let t=new Uint8Array(r.length);for(let o=0;o<t.length;++o)Math.round(r[o])!==0&&(t[o]=1);return t}else throw new Error(`Unknown data type ${e}`)}function Fs(){return P().platform.now()}function dD(r,e){return P().platform.fetch(r,e)}function bn(r,e="utf-8"){return e=e||"utf-8",P().platform.encode(r,e)}function Wi(r,e="utf-8"){return e=e||"utf-8",P().platform.decode(r,e)}function it(r){return P().platform.isTypedArray!=null?P().platform.isTypedArray(r):qf(r)}function Qr(r,e=[],t=!1){if(e==null&&(e=[]),typeof r=="boolean"||typeof r=="number"||typeof r=="string"||ss(r)||r==null||it(r)&&t)e.push(r);else if(Array.isArray(r)||it(r))for(let o=0;o<r.length;++o)Qr(r[o],e,t);else{let o=-1;for(let n of Object.keys(r))/^([1-9]+[0-9]*|0)$/.test(n)&&(o=Math.max(o,Number(n)));for(let n=0;n<=o;n++)Qr(r[n],e,t)}return e}var Zf=class{constructor(e,t){this.backendTimer=e,this.logger=t,t==null&&(this.logger=new ox)}profileKernel(e,t,o){let n,s=()=>{n=o()},i,a=Fs();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(s);else{s();for(let c of n)c.dataSync();i=Promise.resolve({kernelMs:Fs()-a})}if(P().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let c=0;c<n.length;c++){let l=n[c];l.data().then(p=>{hD(p,l.dtype,e)})}return{kernelName:e,outputs:n,inputs:t,timeMs:i.then(c=>c.kernelMs),extraInfo:i.then(c=>c.getExtraProfileInfo!=null?c.getExtraProfileInfo():"")}}logKernelProfile(e){let{kernelName:t,outputs:o,timeMs:n,inputs:s,extraInfo:i}=e;o.forEach(a=>{Promise.all([a.data(),n,i]).then(u=>{this.logger.logKernelProfile(t,a,u[0],u[1],s,u[2])})})}};function hD(r,e,t){if(e!=="float32")return!1;for(let o=0;o<r.length;o++){let n=r[o];if(isNaN(n)||!isFinite(n))return console.warn(`Found ${n} in the result of '${t}'`),!0}return!1}var ox=class{logKernelProfile(e,t,o,n,s,i){let a=typeof n=="number"?ns(`${n}ms`,9):n.error,u=ns(e,25),c=t.rank,l=t.size,p=ns(t.shape.toString(),14),f="";for(let d in s){let h=s[d];if(h!=null){let x=h.shape||t.shape,g=x.length;f+=`${d}: ${g}D ${g>0?x:""} `}}console.log(`%c${u}	%c${a}	%c${c}D ${p}	%c${l}	%c${f}	%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}};function h2(r,e,t){let o={},n={};for(let u=0;u<e.length;u++)o[e[u].id]=!0;for(let u=0;u<r.length;u++){let c=r[u],l=c.inputs;for(let p in l){let f=l[p],d=!1;for(let h=0;h<e.length;h++)if(o[f.id]){c.outputs.forEach(x=>o[x.id]=!0),d=!0,n[c.id]=!0;break}if(d)break}}let s={};s[t.id]=!0;let i={};for(let u=r.length-1;u>=0;u--){let c=r[u],l=c.inputs;for(let p=0;p<c.outputs.length;p++)if(s[c.outputs[p].id]){for(let f in l)s[l[f].id]=!0,i[c.id]=!0;break}}let a=[];for(let u=0;u<r.length;u++){let c=r[u];if(n[c.id]&&i[c.id]){let l={};for(let f in c.inputs){let d=c.inputs[f];o[d.id]&&(l[f]=d)}let p=Object.assign({},c);p.inputs=l,p.outputs=c.outputs,a.push(p)}}return a}function g2(r,e,t,o){for(let n=e.length-1;n>=0;n--){let s=e[n],i=[];if(s.outputs.forEach(u=>{let c=r[u.id];c!=null?i.push(c):i.push(null)}),s.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);let a=s.gradient(i);for(let u in s.inputs){if(!(u in a))throw new Error(`Cannot backprop through input ${u}. Available gradients found: ${Object.keys(a)}.`);let c=t(()=>a[u]());if(c.dtype!=="float32")throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${u} must have 'float32' dtype, but has '${c.dtype}'`);let l=s.inputs[u];if(!zt(c.shape,l.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${u}' has shape '${c.shape}', which does not match the shape of the input '${l.shape}'`);if(r[l.id]==null)r[l.id]=c;else{let p=r[l.id];r[l.id]=o(p,c),p.dispose()}}}}var x2=20,Bl=3,nx=7;function y2(r,e,t,o){let n=wo(e),s=gD(r,e,t,n),i=e.length,a=Qf(r,e,t,n,s),u=["Tensor"];return o&&(u.push(`  dtype: ${t}`),u.push(`  rank: ${i}`),u.push(`  shape: [${e}]`),u.push("  values:")),u.push(a.map(c=>"    "+c).join(`
`)),u.join(`
`)}function gD(r,e,t,o){let n=ge(e),s=o[o.length-1],i=new Array(s).fill(0),a=e.length,u=t==="complex64"?Vl(r):r;if(a>1)for(let c=0;c<n/s;c++){let l=c*s;for(let p=0;p<s;p++)i[p]=Math.max(i[p],Ml(u[l+p],0,t).length)}return i}function Ml(r,e,t){let o;return Array.isArray(r)?o=`${parseFloat(r[0].toFixed(nx))} + ${parseFloat(r[1].toFixed(nx))}j`:Yr(r)?o=`'${r}'`:t==="bool"?o=b2(r):o=parseFloat(r.toFixed(nx)).toString(),ns(o,e)}function b2(r){return r===0?"false":"true"}function Qf(r,e,t,o,n,s=!0){let i=t==="complex64"?2:1,a=e[0],u=e.length;if(u===0){if(t==="complex64"){let x=Vl(r);return[Ml(x[0],0,t)]}return t==="bool"?[b2(r[0])]:[r[0].toString()]}if(u===1){if(a>x2){let g=Bl*i,b=Array.from(r.slice(0,g)),C=Array.from(r.slice((a-Bl)*i,a*i));return t==="complex64"&&(b=Vl(b),C=Vl(C)),["["+b.map((k,A)=>Ml(k,n[A],t)).join(", ")+", ..., "+C.map((k,A)=>Ml(k,n[a-Bl+A],t)).join(", ")+"]"]}return["["+(t==="complex64"?Vl(r):Array.from(r)).map((g,b)=>Ml(g,n[b],t)).join(", ")+"]"]}let c=e.slice(1),l=o.slice(1),p=o[0]*i,f=[];if(a>x2){for(let x=0;x<Bl;x++){let g=x*p,b=g+p;f.push(...Qf(r.slice(g,b),c,t,l,n,!1))}f.push("...");for(let x=a-Bl;x<a;x++){let g=x*p,b=g+p;f.push(...Qf(r.slice(g,b),c,t,l,n,x===a-1))}}else for(let x=0;x<a;x++){let g=x*p,b=g+p;f.push(...Qf(r.slice(g,b),c,t,l,n,x===a-1))}let d=u===2?",":"";f[0]="["+(a>0?f[0]+d:"");for(let x=1;x<f.length-1;x++)f[x]=" "+f[x]+d;let h=`,
`;for(let x=2;x<u;x++)h+=`
`;return f[f.length-1]=" "+f[f.length-1]+"]"+(s?"":h),f}function Vl(r){let e=[];for(let t=0;t<r.length;t+=2)e.push([r[t],r[t+1]]);return e}var Sr=class{constructor(e,t,o){if(this.dtype=t,this.shape=e.slice(),this.size=ge(e),o!=null){let n=o.length;$(n===this.size,()=>`Length of values '${n}' does not match the size inferred by the shape '${this.size}'.`)}if(t==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=o||zf(t,this.size),this.strides=wo(e)}set(e,...t){t.length===0&&(t=[0]),$(t.length===this.rank,()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`);let o=this.locToIndex(t);this.values[o]=e}get(...e){e.length===0&&(e=[0]);let t=0;for(let n of e){if(n<0||n>=this.shape[t]){let s=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(s)}t++}let o=e[e.length-1];for(let n=0;n<e.length-1;++n)o+=this.strides[n]*e[n];return this.values[o]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let t=e[e.length-1];for(let o=0;o<e.length-1;++o)t+=this.strides[o]*e[o];return t}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];let t=new Array(this.shape.length);for(let o=0;o<t.length-1;++o)t[o]=Math.floor(e/this.strides[o]),e-=t[o]*this.strides[o];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return Jr().makeTensor(this.values,this.shape,this.dtype)}},Jr=null,Hi=null,xD=null;function v2(r){Jr=r}function w2(r){Hi=r}function S2(r){xD=r}var ye=class{constructor(e,t,o,n){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=ge(e),this.strides=wo(e),this.dataId=o,this.id=n,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){let e=await this.data();return Hi.buffer(this.shape,this.dtype,e)}bufferSync(){return Hi.buffer(this.shape,this.dtype,this.dataSync())}async array(){let e=await this.data();return os(this.shape,e,this.dtype==="complex64")}arraySync(){return os(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();let e=Jr().read(this.dataId);if(this.dtype==="string"){let t=await e;try{return t.map(o=>Wi(o))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Jr().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();let e=Jr().readSync(this.dataId);if(this.dtype==="string")try{return e.map(t=>Wi(t))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();let e=await Jr().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Jr().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Hi.print(this,e)}clone(){return this.throwIfDisposed(),Hi.clone(this)}toString(e=!1){let t=this.dataSync();return y2(t,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Hi.cast(this,e)}variable(e=!0,t,o){return this.throwIfDisposed(),Jr().makeVariable(this,e,t,o)}};Object.defineProperty(ye,Symbol.hasInstance,{value:r=>!!r&&r.data!=null&&r.dataSync!=null&&r.throwIfDisposed!=null});function sx(){return bu("Tensor",()=>ye)}sx();var To=class extends ye{constructor(e,t,o,n){super(e.shape,e.dtype,e.dataId,n),this.trainable=t,this.name=o}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!zt(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Jr().disposeTensor(this),this.dataId=e.dataId,Jr().incRef(this,null)}dispose(){Jr().disposeVariable(this),this.isDisposedInternal=!0}};Object.defineProperty(To,Symbol.hasInstance,{value:r=>r instanceof ye&&r.assign!=null&&r.assign instanceof Function});var px={};Ee(px,{assertTypesMatch:()=>lx,getTensorsInContainer:()=>Ul,isTensorInList:()=>bD,makeTypesMatch:()=>de});var Jf;(function(r){r.R0="R0",r.R1="R1",r.R2="R2",r.R3="R3",r.R4="R4",r.R5="R5",r.R6="R6"})(Jf||(Jf={}));var ix;(function(r){r.float32="float32",r.int32="int32",r.bool="int32",r.complex64="complex64"})(ix||(ix={}));var ax;(function(r){r.float32="float32",r.int32="int32",r.bool="bool",r.complex64="complex64"})(ax||(ax={}));var ux;(function(r){r.float32="float32",r.int32="float32",r.bool="float32",r.complex64="complex64"})(ux||(ux={}));var cx;(function(r){r.float32="complex64",r.int32="complex64",r.bool="complex64",r.complex64="complex64"})(cx||(cx={}));var yD={float32:ux,int32:ix,bool:ax,complex64:cx};function kt(r,e){if(r==="string"||e==="string"){if(r==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${r} with ${e}`)}return yD[r][e]}function vn(r){return kt(r,"int32")}function em(r){return r!=null&&typeof r=="object"&&"texture"in r&&r.texture instanceof WebGLTexture}function tm(r){return typeof GPUBuffer<"u"&&r!=null&&typeof r=="object"&&"buffer"in r&&r.buffer instanceof GPUBuffer}function de(r,e){if(r.dtype===e.dtype)return[r,e];let t=kt(r.dtype,e.dtype);return[r.cast(t),e.cast(t)]}function lx(r,e){$(r.dtype===e.dtype,()=>`The dtypes of the first(${r.dtype}) and second(${e.dtype}) input must match`)}function bD(r,e){return e.some(t=>t.id===r.id)}function Ul(r){let e=[];return T2(r,e,new Set),e}function T2(r,e,t){if(r==null)return;if(r instanceof ye){e.push(r);return}if(!vD(r))return;let o=r;for(let n in o){let s=o[n];t.has(s)||(t.add(s),T2(s,e,t))}}function vD(r){return Array.isArray(r)||typeof r=="object"}function fx(r){return r.kernelName!=null}var rm=class{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(let e in this.registeredVariables)this.registeredVariables[e].dispose()}},Gl=class r{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new rm}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;let e=this.getSortedBackends();for(let t=0;t<e.length;t++){let o=e[t];if(await this.initializeBackend(o).success){await this.setBackend(o);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){let{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){let{asyncInit:t}=this.initializeBackend(e);if(t)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,o=1){return e in this.registryFactory?(So(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:o},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;let{success:t,asyncInit:o}=this.initializeBackend(e);if(!(o?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Zf(this.backendInstance),!0}setupRegisteredKernels(){Pl(this.backendName).forEach(t=>{t.setupFunc!=null&&t.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){Pl(e).forEach(o=>{o.disposeFunc!=null&&o.disposeFunc(this.registry[e])})}initializeBackend(e){let t=this.registryFactory[e];if(t==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{let o=t.factory();if(o&&!(o instanceof mn)&&typeof o.then=="function"){let n=++this.pendingBackendInitId,s=o.then(i=>n<this.pendingBackendInitId?!1:(this.registry[e]=i,this.pendingBackendInit=null,!0)).catch(i=>(n<this.pendingBackendInitId||(this.pendingBackendInit=null,So(`Initialization of backend ${e} failed`),So(i.stack||i.message)),!1));return this.pendingBackendInit=s,{success:s,asyncInit:!0}}else return this.registry[e]=o,{success:!0,asyncInit:!1}}catch(o){return So(`Initialization of backend ${e} failed`),So(o.stack||o.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){let e=this.getSortedBackends();for(let t=0;t<e.length;t++){let o=e[t],{success:n,asyncInit:s}=this.initializeBackend(o);if(s||n)return{name:o,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){let o=this.state.tensorInfo.get(t),n=o.backend,s=this.readSync(t),i=n.refCount(t);n.disposeData(t,!0),o.backend=e,e.move(t,s,o.shape,o.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let o=null;if(t==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");t=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof t!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}let n;return this.scopedRun(()=>this.startScope(o),()=>this.endScope(n),()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n))}scopedRun(e,t,o){e();try{let n=o();return t(),n}catch(n){throw t(),n}}nextTensorId(){return r.nextTensorId++}nextVariableId(){return r.nextVariableId++}clone(e){let t=E.runKernel(xn,{x:e}),o={x:e},n=i=>({x:()=>{let a="float32",u={x:i},c={dtype:a};return E.runKernel(gn,u,c)}}),s=[];return this.addTapeNode(this.state.activeScope.name,o,[t],n,s,{}),t}runKernel(e,t,o){if(this.backendName==null&&this.backend,!(As(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:o})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,o){let n=this.backend.numDataIds(),s=0;o.forEach(u=>{s+=u.dtype==="complex64"?3:1});let i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=n-t-s-i;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${e}'`)}runKernelFunc(e){let t,o=[],n=this.isTapeOn(),s=this.state.numBytes,i=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let u,c=fx(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(fx(e)){let{kernelName:h,inputs:x,attrs:g}=e;this.backendName==null&&this.backend;let b=As(h,this.backendName);$(b!=null,()=>`Cannot find registered kernel '${h}' for backend '${this.backendName}'`),a=()=>{let C=this.backend.numDataIds();u=b.kernelFunc({inputs:x,attrs:g,backend:this.backend});let k=Array.isArray(u)?u:[u];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(h,C,k);let A=k.map(D=>D.rank!=null?D:this.makeTensorFromTensorInfo(D));if(n){let D=this.getTensorsForGradient(h,x,A);o=this.saveTensorsForBackwardMode(D)}return A}}else{let{forwardFunc:h}=e,x=g=>{n&&(o=g.map(b=>this.keep(this.clone(b))))};a=()=>{let g=this.backend.numDataIds();u=this.tidy(()=>h(this.backend,x));let b=Array.isArray(u)?u:[u];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,g,b),b}}let{inputs:l,attrs:p}=e,f=fx(e)?null:e.backwardsFunc,d;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?t=a():(d=this.profiler.profileKernel(c,l,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(d),t=d.outputs)}),n&&this.addTapeNode(c,l,t,f,o,p),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(l).map(h=>l[h]!=null?l[h].shape:null),outputShapes:t.map(h=>h.shape),kernelTimeMs:d.timeMs,extraInfo:d.extraInfo}),Array.isArray(u)?t:t[0]}saveTensorsForBackwardMode(e){return e.map(o=>this.keep(this.clone(o)))}getTensorsForGradient(e,t,o){let n=jf(e);if(n!=null){let s=n.inputsToSave||[],i=n.outputsToSave||[],a;n.saveAllInputs?($(Array.isArray(t),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(t).map(c=>t[c])):a=s.map(c=>t[c]);let u=o.filter((c,l)=>i[l]);return a.concat(u)}return[]}makeTensor(e,t,o,n){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");o=o||"float32",n=n||this.backend;let s=e;o==="string"&&Yr(e[0])&&(s=e.map(u=>bn(u)));let i=n.write(s,t,o),a=new ye(t,o,i,this.nextTensorId());if(this.trackTensor(a,n),o==="string"){let u=this.state.tensorInfo.get(i),c=Mg(s);this.state.numBytes+=c-u.bytes,u.bytes=c}return a}makeTensorFromDataId(e,t,o,n){o=o||"float32";let s={dataId:e,shape:t,dtype:o};return this.makeTensorFromTensorInfo(s,n)}makeTensorFromTensorInfo(e,t){let{dataId:o,shape:n,dtype:s}=e,i=new ye(n,s,o,this.nextTensorId());return this.trackTensor(i,t),i}makeVariable(e,t=!0,o,n){o=o||this.nextVariableId().toString(),n!=null&&n!==e.dtype&&(e=e.cast(n));let s=new To(e,t,o,this.nextTensorId());if(this.state.registeredVariables[s.name]!=null)throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}trackTensor(e,t){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let o=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(o=e.size*Ei(e.dtype)),this.state.numBytes+=o,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:o})),e instanceof To||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;let t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){let o=e.size*Ei(e.dtype);this.state.numBytes-=o}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(let e in this.state.registeredVariables){let t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){let e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;let t=this.state.numBytes,o=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(n=>n.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-o;for(let n of this.state.activeProfile.kernels)n.kernelTimeMs=await n.kernelTimeMs,n.extraInfo=await n.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,t,o,n,s,i){let a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:o,saved:s},u=jf(e);u!=null&&(n=u.gradFunc),n!=null&&(a.gradient=c=>(c=c.map((l,p)=>{if(l==null){let f=o[p],d=$i(f.size,f.dtype);return this.makeTensor(d,f.shape,f.dtype)}return l}),n(c.length>1?c:c[0],s,i))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){let t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){let t=Ul(e),o=new Set(t.map(s=>s.id));for(let s=0;s<this.state.activeScope.track.length;s++){let i=this.state.activeScope.track[s];!i.kept&&!o.has(i.id)&&i.dispose()}let n=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach(s=>{!s.kept&&s.scopeId===n.id&&this.track(s)})}gradients(e,t,o,n=!1){if($(t.length>0,()=>"gradients() received an empty list of xs."),o!=null&&o.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${o.dtype}'`);let s=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));$(s instanceof ye,()=>"The result y returned by f() must be a tensor.");let i=h2(this.state.activeTape,t,s);if(!n&&i.length===0&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{let a={};a[s.id]=o??wD(s.shape),g2(a,i,c=>this.tidy(c),SD);let u=t.map(c=>a[c.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(c=>{for(let l of c.saved)l.dispose()}),this.state.activeTape=null),{value:s,grads:u}})}customGrad(e){return $(vo(e),()=>"The f passed in customGrad(f) must be a function."),(...t)=>{$(t.every(a=>a instanceof ye),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let o,n={};t.forEach((a,u)=>{n[u]=a});let s=(a,u)=>(o=e(...t,u),$(o.value instanceof ye,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),$(vo(o.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),o.value),i=(a,u)=>{let c=o.gradFunc(a,u),l=Array.isArray(c)?c:[c];$(l.length===t.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),$(l.every(f=>f instanceof ye),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");let p={};return l.forEach((f,d)=>{p[d]=()=>f}),p};return this.runKernelFunc({forwardFunc:s,backwardsFunc:i,inputs:n})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){let t=Fs(),o=await this.backend.time(e);return o.wallMs=Fs()-t,o}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new rm;for(let e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}};Gl.nextTensorId=0;Gl.nextVariableId=0;function wD(r){let e=yu(ge(r),"float32");return E.makeTensor(e,r,"float32")}function mx(){let r=Ug();if(r._tfengine==null){let e=new ki(r);r._tfengine=new Gl(e)}return Jw(r._tfengine.ENV),v2(()=>r._tfengine),r._tfengine}var E=mx();function SD(r,e){let t={a:r,b:e};return E.runKernel(Wo,t)}var Ho={};Ee(Ho,{isBrowser:()=>hx,isMobile:()=>ID,mockIsMobile:()=>CD});function TD(){return typeof navigator<"u"&&navigator!=null}var dx;function CD(r){dx=r}function ID(r){if(dx!==void 0)return dx;if(r||TD()){if(r||(r=navigator),r.product==="ReactNative")return!0;let e=r.userAgent||r.vendor||(typeof window<"u"?window.opera:"");if(!e){let t=r;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function hx(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var sr=P();sr.registerFlag("DEBUG",()=>!1,r=>{r&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});sr.registerFlag("IS_BROWSER",()=>hx());sr.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");sr.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));sr.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));sr.registerFlag("PROD",()=>!1);sr.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>sr.getBool("DEBUG"));sr.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);sr.registerFlag("IS_TEST",()=>!1);sr.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>sr.getBool("DEBUG"));sr.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);sr.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);sr.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);function At(r,e){let t=r;if(it(r))return e==="string"?[]:[r.length];if(em(r)){let n=r.channels||"RGBA";return[r.height,r.width*n.length]}else if(tm(r))return[r.buffer.size/(e==null?4:Ei(e))];if(!Array.isArray(r))return[];let o=[];for(;Array.isArray(t)||it(t)&&e!=="string";)o.push(t.length),t=t[0];return Array.isArray(r)&&P().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&I2(r,o,[]),o}function I2(r,e,t){if(t=t||[],!Array.isArray(r)&&!it(r)){$(e.length===0,()=>`Element arr[${t.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}$(e.length>0,()=>`Element arr[${t.join("][")}] should be a primitive, but is an array of ${r.length} elements`),$(r.length===e[0],()=>`Element arr[${t.join("][")}] should have ${e[0]} elements, but has ${r.length} elements`);let o=e.slice(1);for(let n=0;n<r.length;++n)I2(r[n],o,t.concat(n))}function C2(r,e,t,o){if(r!=="string_or_numeric"){if(r==null)throw new Error("Expected dtype cannot be null.");if(r!=="numeric"&&r!==e||r==="numeric"&&e==="string")throw new Error(`Argument '${t}' passed to '${o}' must be ${r} tensor, but got ${e} tensor`)}}function w(r,e,t,o="numeric"){if(r instanceof sx())return C2(o,r.dtype,e,t),r;let n=hn(r);if(n!=="string"&&["bool","int32","float32"].indexOf(o)>=0&&(n=o),C2(o,n,e,t),r==null||!it(r)&&!Array.isArray(r)&&typeof r!="number"&&typeof r!="boolean"&&typeof r!="string"){let u=r==null?"null":r.constructor.name;throw new Error(`Argument '${e}' passed to '${t}' must be a Tensor or TensorLike, but got '${u}'`)}let s=At(r,n);!it(r)&&!Array.isArray(r)&&(r=[r]);let a=n!=="string"?zi(r,n):Qr(r,[],!0);return E.makeTensor(a,s,n)}function jo(r,e,t,o="numeric"){if(!Array.isArray(r))throw new Error(`Argument ${e} passed to ${t} must be a \`Tensor[]\` or \`TensorLike[]\``);return r.map((s,i)=>w(s,`${e}[${i}]`,t,o))}var om="__op";function T(r){let e=Object.keys(r);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let t=e[0],o=r[t];t.endsWith("_")&&(t=t.substring(0,t.length-1)),t=t+om;let n=(...s)=>{E.startScope(t);try{let i=o(...s);return ss(i)&&console.error("Cannot return a Promise inside of tidy."),E.endScope(i),i}catch(i){throw E.endScope(null),i}};return Object.defineProperty(n,"name",{value:t,configurable:!0}),n}function ED(r,e){let t=w(r,"real","complex"),o=w(e,"imag","complex");He(t.shape,o.shape,`real and imag shapes, ${t.shape} and ${o.shape}, must match in call to tf.complex().`);let n={real:t,imag:o};return E.runKernel(Ri,n)}var Ht=T({complex_:ED});function jt(r,e,t,o){if(o==null)o=hn(r);else if(o==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(tm(r)||em(r)){if(o!=="float32"&&o!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${o}.`);return E.backend.createTensorFromGPUData(r,e||t,o)}if(!it(r)&&!Array.isArray(r)&&typeof r!="number"&&typeof r!="boolean"&&typeof r!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Xe(e);let n=ge(e),s=ge(t);$(n===s,()=>`Based on the provided shape, [${e}], the tensor should have ${n} values but has ${s}`);for(let i=0;i<t.length;++i){let a=t[i],u=i===t.length-1?a!==ge(e.slice(i)):!0;$(t[i]===e[i]||!u,()=>`Error creating a new Tensor. Inferred shape (${t}) does not match the provided shape (${e}). `)}}return!it(r)&&!Array.isArray(r)&&(r=[r]),e=e||t,r=o!=="string"?zi(r,o):Qr(r,[],!0),E.makeTensor(r,e,o)}function St(r,e,t){let o=At(r,t);return jt(r,e,o,t)}var Ko={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};var Rt=class r{static join(e){return new r(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(o=>it(o)?o.buffer:o),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let o=0;o<e.length;o++){let n=e[o];o!==e.length-1&&n.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);let s=t+n.byteLength;this.shards.push({buffer:n,start:t,end:s}),t=s}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,t=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);let o=this.findShardForByte(e);if(o===-1)throw new Error(`Could not find start shard for byte ${e}`);let n=t-e,s=new ArrayBuffer(n),i=new Uint8Array(s),a=0;for(let u=o;u<this.shards.length;u++){let c=this.shards[u],p=e+a-c.start,f=a,h=Math.min(t,c.end)-c.start,x=new Uint8Array(c.buffer,p,h-p);if(i.set(x,f),a+=x.length,t<c.end)break}return s}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(n){return e<n.start?-1:e>=n.end?1:0}if(t(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;let o=ND(this.shards,t);return o===-1?-1:(this.previousShardIndex=o,this.previousShardIndex)}};function ND(r,e){let t=0,o=r.length;for(;t<=o;){let n=Math.floor((o-t)/2)+t,s=e(r[n]);if(s===0)return n;s<0?o=n:t=n+1}return-1}function $D(){P().set("PROD",!0)}function kD(){P().set("DEBUG",!0)}function AD(){P().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function E2(r){P().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(r+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}S2(E2);function RD(){E.disposeVariables()}function Or(){return E}function _D(){return E.memory()}function OD(r){return E.profile(r)}function te(r,e){return E.tidy(r,e)}function ot(r){Ul(r).forEach(t=>t.dispose())}function Kt(r){return E.keep(r)}function DD(r){return E.time(r)}function FD(r){return E.setBackend(r)}function PD(){return E.ready()}function zl(){return E.backendName}function LD(r){E.removeBackend(r)}function BD(r){return E.findBackend(r)}function MD(r){return E.findBackendFactory(r)}function gx(r,e,t=1){return E.registerBackend(r,e,t)}function Wl(){return E.backend}function VD(r,e){P().setPlatform(r,e)}var wn=4;async function k2(r,e){let t=[],o=[],n=Array.isArray(r)?r.map(i=>i.name):Object.keys(r);for(let i=0;i<n.length;++i){let a=n[i],u=Array.isArray(r)?r[i].tensor:r[a];if(u.dtype!=="float32"&&u.dtype!=="int32"&&u.dtype!=="bool"&&u.dtype!=="string"&&u.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${a}': ${u.dtype}`);let c={name:a,shape:u.shape,dtype:u.dtype};if(u.dtype==="string"){let l=new Promise(async p=>{let f=await u.bytes(),d=f.reduce((g,b)=>g+b.length,0)+wn*f.length,h=new Uint8Array(d),x=0;for(let g=0;g<f.length;g++){let b=f[g],C=new Uint8Array(new Uint32Array([b.length]).buffer);h.set(C,x),x+=wn,h.set(b,x),x+=b.length}p(h)});o.push(l)}else o.push(u.data());e!=null&&(c.group=e),t.push(c)}let s=await Promise.all(o);return{data:zD(s),specs:t}}function nm(r,e){let t=new Rt(r),o={},n=0;for(let s of e){let i=UD(s,(a,u)=>t.slice(n+a,n+u));o[s.name]=A2(s,t.slice(n,n+i)),n+=i}return o}function UD(r,e){let t=ge(r.shape),o;if("quantization"in r){let n=r.quantization;o=Ko[n.dtype]}else if(r.dtype==="string"){let n=0;for(let s=0;s<t;s++)n+=wn+new Uint32Array(e(n,n+wn))[0];return n}else o=Ko[r.dtype];return t*o}async function GD(r,e){let t=ge(r.shape),o;if("quantization"in r){let n=r.quantization;o=Ko[n.dtype]}else if(r.dtype==="string"){let n=0;for(let s=0;s<t;s++)n+=wn+new Uint32Array(await e(n,n+wn))[0];return n}else o=Ko[r.dtype];return t*o}function A2(r,e){let t=r.name,o=r.dtype,n=r.shape,s=ge(n),i,a=0;if("quantization"in r){let u=r.quantization;if(u.dtype==="uint8"||u.dtype==="uint16"){if(!("min"in u&&"scale"in u))throw new Error(`Weight ${r.name} with quantization ${u.dtype} doesn't have corresponding metadata min and scale.`)}else if(u.dtype==="float16"){if(o!=="float32")throw new Error(`Weight ${r.name} is quantized with ${u.dtype} which only supports weights of type float32 not ${o}.`)}else throw new Error(`Weight ${r.name} has unknown quantization dtype ${u.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);let c=Ko[u.dtype],l=u.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(o==="float32")if(u.dtype==="uint8"||u.dtype==="uint16"){i=new Float32Array(l.length);for(let p=0;p<l.length;p++){let f=l[p];i[p]=f*u.scale+u.min}}else if(u.dtype==="float16")i=KD()(l);else throw new Error(`Unsupported quantization type ${u.dtype} for weight type float32.`);else if(o==="int32"){if(u.dtype!=="uint8"&&u.dtype!=="uint16")throw new Error(`Unsupported quantization type ${u.dtype} for weight type int32.`);i=new Int32Array(l.length);for(let p=0;p<l.length;p++){let f=l[p];i[p]=Math.round(f*u.scale+u.min)}}else throw new Error(`Unsupported dtype in weight '${t}': ${o}`);a+=s*c}else if(o==="string"){let u=ge(r.shape);i=[];for(let c=0;c<u;c++){let l=new Uint32Array(e.slice(a,a+wn))[0];a+=wn;let p=new Uint8Array(e.slice(a,a+l));i.push(p),a+=l}}else{let u=Ko[o];if(o==="float32")i=new Float32Array(e);else if(o==="int32")i=new Int32Array(e);else if(o==="bool")i=new Uint8Array(e);else if(o==="complex64"){i=new Float32Array(e);let c=new Float32Array(i.length/2),l=new Float32Array(i.length/2);for(let h=0;h<c.length;h++)c[h]=i[h*2],l[h]=i[h*2+1];let p=St(c,n,"float32"),f=St(l,n,"float32"),d=Ht(p,f);return p.dispose(),f.dispose(),d}else throw new Error(`Unsupported dtype in weight '${t}': ${o}`);a+=s*u}return St(i,n,o)}async function N2(r,e,t){let o=new Uint8Array(e);for(;o.byteLength<t;){let{done:n,value:s}=await r.read();if(n&&s==null){let a=t-o.byteLength;throw new Error(`Reader is done but ${a} bytes are still expected`)}let i=new Uint8Array(o.length+s.byteLength);i.set(o,0),i.set(new Uint8Array(s),o.length),o=i}return o.buffer}async function sm(r,e){let t={},o=r.getReader(),n=new ArrayBuffer(0);for(let s of e){let i=await GD(s,async(c,l)=>(n=await N2(o,n,l),n.slice(c,l)));n=await N2(o,n,i);let a=n.slice(0,i);n=n.slice(i);let u=A2(s,a);if(t[s.name]=u,zl()==="webgpu"){let c=Wl();"uploadToGPU"in c&&ge(u.shape)>=P().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&c.uploadToGPU(u.dataId)}}return t}function zD(r){if(r===null)throw new Error(`Invalid input value: ${JSON.stringify(r)}`);let e=0,t=[];r.forEach(s=>{if(e+=s.byteLength,t.push(s.byteLength===s.buffer.byteLength?s:new s.constructor(s)),!(s instanceof Float32Array||s instanceof Int32Array||s instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${s.constructor.name}`)});let o=new Uint8Array(e),n=0;return t.forEach(s=>{o.set(new Uint8Array(s.buffer),n),n+=s.byteLength}),o.buffer}var xx=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function $2(r){return xx?Buffer.byteLength(r,"utf8"):new Blob([r]).size}function R2(r){if(xx)return Buffer.from(r).toString("base64");let e=new Uint8Array(r),t="";for(let o=0,n=e.length;o<n;o++)t+=String.fromCharCode(e[o]);return btoa(t)}function _2(r){if(xx){let o=Buffer.from(r,"base64");return o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength)}let e=atob(r),t=new Uint8Array(e.length);for(let o=0;o<e.length;++o)t.set([e.charCodeAt(o)],o);return t.buffer}function O2(r){return Rt.join(r)}function yx(r){let e="/";for(r=r.trim();r.endsWith(e);)r=r.slice(0,r.length-1);let t=r.split(e);return t[t.length-1]}function im(r,e){let t={modelTopology:r.modelTopology,format:r.format,generatedBy:r.generatedBy,convertedBy:r.convertedBy,weightsManifest:e};return r.signature!=null&&(t.signature=r.signature),r.userDefinedMetadata!=null&&(t.userDefinedMetadata=r.userDefinedMetadata),r.modelInitializer!=null&&(t.modelInitializer=r.modelInitializer),r.initializerSignature!=null&&(t.initializerSignature=r.initializerSignature),r.trainingConfig!=null&&(t.trainingConfig=r.trainingConfig),t}function bx(r,e,t){let o={modelTopology:r.modelTopology,format:r.format,generatedBy:r.generatedBy,convertedBy:r.convertedBy};if(r.trainingConfig!=null&&(o.trainingConfig=r.trainingConfig),r.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!t)throw new Error("modelJSON has weightsManifest but weightData is null");o.weightSpecs=e,o.weightData=t}return r.signature!=null&&(o.signature=r.signature),r.userDefinedMetadata!=null&&(o.userDefinedMetadata=r.userDefinedMetadata),r.modelInitializer!=null&&(o.modelInitializer=r.modelInitializer),r.initializerSignature!=null&&(o.initializerSignature=r.initializerSignature),o}async function ji(r,e){let t,o;return r.weightsManifest!=null&&([t,o]=await e(r.weightsManifest)),bx(r,t,o)}function Co(r){if(r.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:r.modelTopology==null?0:$2(JSON.stringify(r.modelTopology)),weightSpecsBytes:r.weightSpecs==null?0:$2(JSON.stringify(r.weightSpecs)),weightDataBytes:r.weightData==null?0:new Rt(r.weightData).byteLength}}function Hl(r){let e=[];for(let t of r)e.push(...t.weights);return e}function WD(){let r=t=>{let o=t<<13,n=0;for(;!(o&8388608);)n-=8388608,o<<=1;return o&=-8388609,n+=947912704,o|n},e=new Uint32Array(2048);e[0]=0;for(let t=1;t<1024;t++)e[t]=r(t);for(let t=1024;t<2048;t++)e[t]=939524096+(t-1024<<13);return e}function HD(){let r=new Uint32Array(64);r[0]=0,r[31]=1199570944,r[32]=2147483648,r[63]=3347054592;for(let e=1;e<31;e++)r[e]=e<<23;for(let e=33;e<63;e++)r[e]=2147483648+(e-32<<23);return r}function jD(){let r=new Uint32Array(64);for(let e=0;e<64;e++)r[e]=1024;return r[0]=r[32]=0,r}function KD(){let r=WD(),e=HD(),t=jD();return o=>{let n=new ArrayBuffer(4*o.length),s=new Uint32Array(n);for(let i=0;i<o.length;i++){let a=o[i],u=r[t[a>>10]+(a&1023)]+e[a>>10];s[i]=u}return new Float32Array(n)}}var ht=class r{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return r.instance==null&&(r.instance=new r),r.instance}static registerSaveRouter(e){r.getInstance().saveRouters.push(e)}static registerLoadRouter(e){r.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return r.getHandlers(e,"save")}static getLoadHandlers(e,t){return r.getHandlers(e,"load",t)}static getHandlers(e,t,o){let n=[];return(t==="load"?r.getInstance().loadRouters:r.getInstance().saveRouters).forEach(i=>{let a=i(e,o);a!==null&&n.push(a)}),n}},D2=r=>ht.registerSaveRouter(r),F2=r=>ht.registerLoadRouter(r),P2=r=>ht.getSaveHandlers(r),L2=(r,e)=>ht.getLoadHandlers(r,e);var vx="tensorflowjs",wx=1,Ps="models_store",Sn="model_info_store";function B2(){if(!P().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");let r=typeof window>"u"?self:window,e=r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB||r.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function Sx(r){let e=r.result;e.createObjectStore(Ps,{keyPath:"modelPath"}),e.createObjectStore(Sn,{keyPath:"modelPath"})}var Io=class{constructor(e){if(this.indexedDB=B2(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise((o,n)=>{let s=this.indexedDB.open(vx,wx);s.onupgradeneeded=()=>Sx(s),s.onsuccess=()=>{let i=s.result;if(t==null){let a=i.transaction(Ps,"readonly"),c=a.objectStore(Ps).get(this.modelPath);c.onsuccess=()=>{if(c.result==null)return i.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));o(c.result.modelArtifacts)},c.onerror=l=>(i.close(),n(c.error)),a.oncomplete=()=>i.close()}else{t.weightData=Rt.join(t.weightData);let a=Co(t),u=i.transaction(Sn,"readwrite"),c=u.objectStore(Sn),l;try{l=c.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(f){return n(f)}let p;l.onsuccess=()=>{p=i.transaction(Ps,"readwrite");let f=p.objectStore(Ps),d;try{d=f.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:a})}catch(h){return n(h)}d.onsuccess=()=>o({modelArtifactsInfo:a}),d.onerror=h=>{c=u.objectStore(Sn);let x=c.delete(this.modelPath);x.onsuccess=()=>(i.close(),n(d.error)),x.onerror=g=>(i.close(),n(d.error))}},l.onerror=f=>(i.close(),n(l.error)),u.oncomplete=()=>{p==null?i.close():p.oncomplete=()=>i.close()}}},s.onerror=i=>n(s.error)})}};Io.URL_SCHEME="indexeddb://";var M2=r=>P().getBool("IS_BROWSER")&&!Array.isArray(r)&&r.startsWith(Io.URL_SCHEME)?qD(r.slice(Io.URL_SCHEME.length)):null;ht.registerSaveRouter(M2);ht.registerLoadRouter(M2);function qD(r){return new Io(r)}function XD(r){return r.startsWith(Io.URL_SCHEME)?r.slice(Io.URL_SCHEME.length):r}var am=class{constructor(){this.indexedDB=B2()}async listModels(){return new Promise((e,t)=>{let o=this.indexedDB.open(vx,wx);o.onupgradeneeded=()=>Sx(o),o.onsuccess=()=>{let n=o.result,s=n.transaction(Sn,"readonly"),a=s.objectStore(Sn).getAll();a.onsuccess=()=>{let u={};for(let c of a.result)u[c.modelPath]=c.modelArtifactsInfo;e(u)},a.onerror=u=>(n.close(),t(a.error)),s.oncomplete=()=>n.close()},o.onerror=n=>t(o.error)})}async removeModel(e){return e=XD(e),new Promise((t,o)=>{let n=this.indexedDB.open(vx,wx);n.onupgradeneeded=()=>Sx(n),n.onsuccess=()=>{let s=n.result,i=s.transaction(Sn,"readwrite"),a=i.objectStore(Sn),u=a.get(e),c;u.onsuccess=()=>{if(u.result==null)return s.close(),o(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{let l=a.delete(e),p=()=>{c=s.transaction(Ps,"readwrite");let d=c.objectStore(Ps).delete(e);d.onsuccess=()=>t(u.result.modelArtifactsInfo),d.onerror=h=>o(u.error)};l.onsuccess=p,l.onerror=f=>(p(),s.close(),o(u.error))}},u.onerror=l=>(s.close(),o(u.error)),i.oncomplete=()=>{c==null?s.close():c.oncomplete=()=>s.close()}},n.onerror=s=>o(n.error)})}};var qo="/",Ki="tensorflowjs_models",V2="info",YD="model_topology",ZD="weight_specs",QD="weight_data",JD="model_metadata";function U2(r){return{info:[Ki,r,V2].join(qo),topology:[Ki,r,YD].join(qo),weightSpecs:[Ki,r,ZD].join(qo),weightData:[Ki,r,QD].join(qo),modelMetadata:[Ki,r,JD].join(qo)}}function G2(r){for(let e of Object.values(r))window.localStorage.removeItem(e)}function eF(r){let e=r.split(qo);if(e.length<3)throw new Error(`Invalid key format: ${r}`);return e.slice(1,e.length-1).join(qo)}function tF(r){return r.startsWith(Eo.URL_SCHEME)?r.slice(Eo.URL_SCHEME.length):r}var Eo=class{constructor(e){if(!P().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=U2(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{let t=JSON.stringify(e.modelTopology),o=JSON.stringify(e.weightSpecs),n=Co(e),s=Rt.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(n)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,o),this.LS.setItem(this.keys.weightData,R2(s));let i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:n}}catch{throw G2(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${n.modelTopologyBytes}, weightSpecsBytes=${n.weightSpecsBytes}, weightDataBytes=${n.weightDataBytes}.`)}}}async load(){let e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");let t={},o=JSON.parse(this.LS.getItem(this.keys.topology));if(o==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=o;let n=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(n==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=n;let s=this.LS.getItem(this.keys.modelMetadata);if(s!=null){let a=JSON.parse(s);t.format=a.format,t.generatedBy=a.generatedBy,t.convertedBy=a.convertedBy,a.signature!=null&&(t.signature=a.signature),a.userDefinedMetadata!=null&&(t.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(t.modelInitializer=a.modelInitializer),a.initializerSignature!=null&&(t.initializerSignature=a.initializerSignature),a.trainingConfig!=null&&(t.trainingConfig=a.trainingConfig)}let i=this.LS.getItem(this.keys.weightData);if(i==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=_2(i),t}};Eo.URL_SCHEME="localstorage://";var z2=r=>P().getBool("IS_BROWSER")&&!Array.isArray(r)&&r.startsWith(Eo.URL_SCHEME)?rF(r.slice(Eo.URL_SCHEME.length)):null;ht.registerSaveRouter(z2);ht.registerLoadRouter(z2);function rF(r){return new Eo(r)}var um=class{constructor(){$(P().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),$(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){let e={},t=Ki+qo,o=qo+V2;for(let n=0;n<this.LS.length;++n){let s=this.LS.key(n);if(s.startsWith(t)&&s.endsWith(o)){let i=eF(s);e[i]=JSON.parse(this.LS.getItem(s))}}return e}async removeModel(e){e=tF(e);let t=U2(e);if(this.LS.getItem(t.info)==null)throw new Error(`Cannot find model at path '${e}'`);let o=JSON.parse(this.LS.getItem(t.info));return G2(t),o}};var qi="://",eo=class r{constructor(){this.managers={}}static getInstance(){return r.instance==null&&(r.instance=new r),r.instance}static registerManager(e,t){$(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(qi)&&(e=e.slice(0,e.indexOf(qi))),$(e.length>0,()=>"scheme must not be an empty string.");let o=r.getInstance();$(o.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),o.managers[e]=t}static getManager(e){let t=r.getInstance().managers[e];if(t==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(r.getInstance().managers)}};function cm(r){if(r.indexOf(qi)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${eo.getSchemes().join(",")}`);return{scheme:r.split(qi)[0],path:r.split(qi)[1]}}async function W2(r,e,t=!1){$(r!==e,()=>`Old path and new path are the same: '${r}'`);let o=ht.getLoadHandlers(r);$(o.length>0,()=>`Copying failed because no load handler is found for source URL ${r}.`),$(o.length<2,()=>`Copying failed because more than one (${o.length}) load handlers for source URL ${r}.`);let n=o[0],s=ht.getSaveHandlers(e);$(s.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),$(s.length<2,()=>`Copying failed because more than one (${o.length}) save handlers for destination URL ${e}.`);let i=s[0],a=cm(r).scheme,u=cm(r).path,c=a===cm(r).scheme,l=await n.load();t&&c&&await eo.getManager(a).removeModel(u);let p=await i.save(l);return t&&!c&&await eo.getManager(a).removeModel(u),p.modelArtifactsInfo}async function H2(){let r=eo.getSchemes(),e={};for(let t of r){let o=await eo.getManager(t).listModels();for(let n in o){let s=t+qi+n;e[s]=o[n]}}return e}async function j2(r){let e=cm(r);return eo.getManager(e.scheme).removeModel(e.path)}async function K2(r,e){return W2(r,e,!1)}async function q2(r,e){return W2(r,e,!0)}var Tx=class{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if(t!=="utf-8"&&t!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){if(typeof window>"u"||!P().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,t);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",o=>{if(o.source===window&&o.data.name===this.messageName){o.stopPropagation();let n=this.functionRefs[o.data.index];n(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return qf(e)}};if(P().get("IS_BROWSER")){P().setPlatform("browser",new Tx);try{eo.registerManager(Eo.URL_SCHEME,new um)}catch{}try{eo.registerManager(Io.URL_SCHEME,new am)}catch{}}var oF={importFetch:()=>X2()},Cx;var Ix=class{constructor(){this.util=Z2(),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return P().global.fetch!=null?P().global.fetch(e,t):(Cx==null&&(Cx=oF.importFetch()),Cx(e,t))}now(){let e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,t){if(t!=="utf-8"&&t!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return e.length===0?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}};P().get("IS_NODE")&&!P().get("IS_BROWSER")&&P().setPlatform("node",new Ix);function xe(r,e="float32",t){return e=e||"float32",Xe(r),new Sr(r,e,t)}function nF(r,e){let t=w(r,"x","cast");if(!Bg(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&t.dtype!=="string"||e!=="string"&&t.dtype==="string")throw new Error("Only strings can be casted to strings");let o={x:t},n={dtype:e};return E.runKernel(gn,o,n)}var le=T({cast_:nF});function sF(r){let t={x:w(r,"x","clone","string_or_numeric")};return E.runKernel(xn,t)}var ir=T({clone_:sF});function jl(r,e=!1){console.log(r.toString(e))}mx();var iF={buffer:xe,cast:le,clone:ir,print:jl};w2(iF);function aF(r,e){let t=w(r,"a","add"),o=w(e,"b","add");[t,o]=de(t,o);let n={a:t,b:o};return E.runKernel(Wo,n)}var J=T({add_:aF});function uF(r,e){let t=w(r,"a","floorDiv"),o=w(e,"b","floorDiv");[t,o]=de(t,o);let n={a:t,b:o};return E.runKernel(fs,n)}var Kl=T({floorDiv_:uF});function cF(r,e){let t=w(r,"a","div"),o=w(e,"b","div");if([t,o]=de(t,o),t.dtype==="int32"&&o.dtype==="int32")return Kl(t,o);let n={a:t,b:o},s={};return E.runKernel(nc,n,s)}var be=T({div_:cF});function lF(r,e){let t=w(r,"a","mul"),o=w(e,"b","mul");[t,o]=de(t,o);let n={a:t,b:o};return E.runKernel(vs,n)}var K=T({mul_:lF});function pF(r){let e=w(r,"x","abs");if(e.dtype==="complex64"){let t={x:e};return E.runKernel(Mu,t)}else{let t={x:e};return E.runKernel(Ai,t)}}var gt=T({abs_:pF});function fF(r){let t={x:w(r,"x","acos")};return E.runKernel(vu,t)}var Ex=T({acos_:fF});function mF(r){let t={x:w(r,"x","acosh")};return E.runKernel(wu,t)}var Nx=T({acosh_:mF});function dF(r){$(Array.isArray(r),()=>"The argument passed to tf.addN() must be a list of tensors"),$(r.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${r.length}`);let e=r.map((n,s)=>w(n,`tensors${s}`,"addN")),t=e[0];e.forEach(n=>{if(n.dtype!==t.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(n=>{if(!zt(n.shape,t.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});let o=e;return E.runKernel(Su,o)}var $x=T({addN_:dF});function hF(r,e=null,t=!1){let n={x:w(r,"x","all","bool")},s={axis:e,keepDims:t};return E.runKernel(Tu,n,s)}var kx=T({all_:hF});function gF(r,e=null,t=!1){let n={x:w(r,"x","any","bool")},s={axis:e,keepDims:t};return E.runKernel(Cu,n,s)}var Ax=T({any_:gF});function xF(r,e=0){let o={x:w(r,"x","argMax")},n={axis:e};return E.runKernel(Iu,o,n)}var ql=T({argMax_:xF});function yF(r,e=0){let o={x:w(r,"x","argMin")},n={axis:e};return E.runKernel(Eu,o,n)}var Rx=T({argMin_:yF});function bF(r){let t={x:w(r,"x","asin")};return E.runKernel(Nu,t)}var _x=T({asin_:bF});function vF(r){let t={x:w(r,"x","asinh")};return E.runKernel($u,t)}var Ox=T({asinh_:vF});function wF(r){let t={x:w(r,"x","atan")};return E.runKernel(ku,t)}var Dx=T({atan_:wF});function SF(r,e){let t=w(r,"a","atan2"),o=w(e,"b","atan2");[t,o]=de(t,o);let n={a:t,b:o};return E.runKernel(Ru,n)}var Fx=T({atan2_:SF});function TF(r){let t={x:w(r,"x","atanh")};return E.runKernel(Au,t)}var Px=T({atanh_:TF});function CF(r,e,t,o,n="NHWC",s){let i=r[3],a=[...e,i],u=J2(n);return Bs(r,a,t,s,o,null,null,u)}function Bx(r,e,t,o,n,s,i="channelsLast"){let[a,u]=Xl(e),c;if(i==="channelsLast")c=[a,u,r[3],r[3]];else if(i==="channelsFirst")c=[a,u,r[1],r[1]];else throw new Error(`Unknown dataFormat ${i}`);return Bs(r,c,t,o,n,s,!1,i)}function IF(r,e,t,o,n,s,i="NDHWC"){let[a,u,c]=Lx(e),l,p;if(i==="NDHWC")p="channelsLast",l=[a,u,c,r[4],r[4]];else if(i==="NCDHW")p="channelsFirst",l=[a,u,c,r[1],r[1]];else throw new Error(`Unknown dataFormat ${i}`);return Q2(r,l,t,o,n,!1,p,s)}function Bs(r,e,t,o,n,s,i=!1,a="channelsLast"){let[u,c,l,p]=[-1,-1,-1,-1];if(a==="channelsLast")[u,c,l,p]=r;else if(a==="channelsFirst")[u,p,c,l]=r;else throw new Error(`Unknown dataFormat ${a}`);let[f,d,,h]=e,[x,g]=Xl(t),[b,C]=Xl(o),k=Xi(f,b),A=Xi(d,C),{padInfo:D,outHeight:L,outWidth:M}=$F(n,c,l,x,g,k,A,s,a),V=i?h*p:h,z;return a==="channelsFirst"?z=[u,V,L,M]:a==="channelsLast"&&(z=[u,L,M,V]),{batchSize:u,dataFormat:a,inHeight:c,inWidth:l,inChannels:p,outHeight:L,outWidth:M,outChannels:V,padInfo:D,strideHeight:x,strideWidth:g,filterHeight:f,filterWidth:d,effectiveFilterHeight:k,effectiveFilterWidth:A,dilationHeight:b,dilationWidth:C,inShape:r,outShape:z,filterShape:e}}function Q2(r,e,t,o,n,s=!1,i="channelsLast",a){let[u,c,l,p,f]=[-1,-1,-1,-1,-1];if(i==="channelsLast")[u,c,l,p,f]=r;else if(i==="channelsFirst")[u,f,c,l,p]=r;else throw new Error(`Unknown dataFormat ${i}`);let[d,h,x,,g]=e,[b,C,k]=Lx(t),[A,D,L]=Lx(o),M=Xi(d,A),V=Xi(h,D),z=Xi(x,L),{padInfo:W,outDepth:H,outHeight:X,outWidth:oe}=kF(n,c,l,p,b,C,k,M,V,z,a),ae=s?g*f:g,ce;return i==="channelsFirst"?ce=[u,ae,H,X,oe]:i==="channelsLast"&&(ce=[u,H,X,oe,ae]),{batchSize:u,dataFormat:i,inDepth:c,inHeight:l,inWidth:p,inChannels:f,outDepth:H,outHeight:X,outWidth:oe,outChannels:ae,padInfo:W,strideDepth:b,strideHeight:C,strideWidth:k,filterDepth:d,filterHeight:h,filterWidth:x,effectiveFilterDepth:M,effectiveFilterHeight:V,effectiveFilterWidth:z,dilationDepth:A,dilationHeight:D,dilationWidth:L,inShape:r,outShape:ce,filterShape:e}}function EF(r,e,t,o,n){o==null&&(o=Mx(r,e,t));let s=r[0],i=r[1],a=Yl((s-e+2*o)/t+1,n),u=Yl((i-e+2*o)/t+1,n);return[a,u]}function NF(r,e,t,o,n,s){n==null&&(n=Mx(r,e[0],o[0]));let i=[0,0,0,t];for(let a=0;a<3;a++)r[a]+2*n>=e[a]&&(i[a]=Yl((r[a]-e[a]+2*n)/o[a]+1,s));return i}function Mx(r,e,t,o=1){let n=Xi(e,o);return Math.floor((r[0]*(t-1)-t+n)/2)}function Xl(r){return typeof r=="number"?[r,r,r]:r.length===2?[r[0],r[1],1]:r}function Lx(r){return typeof r=="number"?[r,r,r]:r}function Xi(r,e){return e<=1?r:r+(r-1)*(e-1)}function $F(r,e,t,o,n,s,i,a,u){let c,l,p;if(typeof r=="number"){c={top:r,bottom:r,left:r,right:r,type:r===0?"VALID":"NUMBER"};let d=EF([e,t],s,o,r,a);l=d[0],p=d[1]}else if(r==="same"){l=Math.ceil(e/o),p=Math.ceil(t/n);let f=Math.max(0,(l-1)*o+s-e),d=Math.max(0,(p-1)*n+i-t),h=Math.floor(f/2),x=f-h,g=Math.floor(d/2),b=d-g;c={top:h,bottom:x,left:g,right:b,type:"SAME"}}else if(r==="valid")c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((e-s+1)/o),p=Math.ceil((t-i+1)/n);else if(typeof r=="object"){let f=u==="channelsLast"?r[1][0]:r[2][0],d=u==="channelsLast"?r[1][1]:r[2][1],h=u==="channelsLast"?r[2][0]:r[3][0],x=u==="channelsLast"?r[2][1]:r[3][1];c={top:f,bottom:d,left:h,right:x,type:f===0&&d===0&&h===0&&x===0?"VALID":"EXPLICIT"},l=Yl((e-s+f+d)/o+1,a),p=Yl((t-i+h+x)/n+1,a)}else throw Error(`Unknown padding parameter: ${r}`);return{padInfo:c,outHeight:l,outWidth:p}}function kF(r,e,t,o,n,s,i,a,u,c,l){let p,f,d,h;if(r==="valid"&&(r=0),typeof r=="number"){p={top:r,bottom:r,left:r,right:r,front:r,back:r,type:r===0?"VALID":"NUMBER"};let g=NF([e,t,o,1],[a,u,c],1,[n,s,i],r,l);f=g[0],d=g[1],h=g[2]}else if(r==="same"){f=Math.ceil(e/n),d=Math.ceil(t/s),h=Math.ceil(o/i);let x=(f-1)*n+a-e,g=(d-1)*s+u-t,b=(h-1)*i+c-o,C=Math.floor(x/2),k=x-C,A=Math.floor(g/2),D=g-A,L=Math.floor(b/2),M=b-L;p={top:A,bottom:D,left:L,right:M,front:C,back:k,type:"SAME"}}else throw Error(`Unknown padding parameter: ${r}`);return{padInfo:p,outDepth:f,outHeight:d,outWidth:h}}function Yl(r,e){if(!e)return Math.trunc(r);switch(e){case"round":return Math.round(r);case"ceil":return Math.ceil(r);case"floor":return Math.floor(r);default:throw new Error(`Unknown roundingMode ${e}`)}}function Ls(r){let[e,t,o]=Xl(r);return e===1&&t===1&&o===1}function Bt(r,e){return Ls(r)||Ls(e)}function No(r){return Xl(r).every(e=>e>0)}function J2(r){if(r==="NHWC")return"channelsLast";if(r==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${r}`)}function ut(r,e,t){if(t!=null){if(typeof e=="string")throw Error(`Error in ${r}: pad must be an integer when using dimRoundingMode ${t} but got pad ${e}.`);if(typeof e=="number")$(zo(e),()=>`Error in ${r}: pad must be an integer when using dimRoundingMode ${t} but got pad ${e}.`);else if(typeof e=="object")e.forEach(o=>{o.forEach(n=>{$(zo(n),()=>`Error in ${r}: pad must be an integer when using dimRoundingMode ${t} but got pad ${n}.`)})});else throw Error(`Error in ${r}: Unknown padding parameter: ${e}`)}}function AF(r,e){let o={x:w(r,"x","reshape","string_or_numeric")},n={shape:e};return E.runKernel(Zc,o,n)}var U=T({reshape_:AF});function RF(r,e,t,o,n){let s=w(r,"x","avgPool","float32"),i=1;$(Bt(t,i),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${t} and dilations '${i}'`);let a=s,u=!1;s.rank===3&&(u=!0,a=U(s,[1,s.shape[0],s.shape[1],s.shape[2]])),$(a.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`),ut("avgPool",o,n);let c={x:a},l={filterSize:e,strides:t,pad:o,dimRoundingMode:n},p=E.runKernel(_u,c,l);return p=le(p,s.dtype),u?U(p,[p.shape[1],p.shape[2],p.shape[3]]):p}var Zl=T({avgPool_:RF});function _F(r,e,t,o,n,s="NDHWC"){let i=w(r,"x","avgPool3d","float32"),a=i,u=!1;i.rank===4&&(u=!0,a=U(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),$(a.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${a.rank}.`),$(s==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`),$(typeof t=="number"&&t>0||Array.isArray(t)&&t[0]>0&&t[1]>0&&t[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${t}'`),ut("avgPool3d",o,n);let c={x:a},l={filterSize:e,strides:t,pad:o,dimRoundingMode:n,dataFormat:s},p=E.runKernel(Ou,c,l);return p=le(p,a.dtype),u?U(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}var Vx=T({avgPool3d_:_F});function OF(r,e=0){$(r.length>=1,()=>"Pass at least one tensor to concat");let t=jo(r,"tensors","concat","string_or_numeric");if(t[0].dtype==="complex64"&&t.forEach(s=>{if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${s.dtype}. `)}),t.length===1)return ir(t[0]);let o=t,n={axis:e};return E.runKernel(Vu,o,n)}var We=T({concat_:OF});function DF(r,e,t=!1,o=!1){let n=w(r,"a","matMul"),s=w(e,"b","matMul");[n,s]=de(n,s);let i={a:n,b:s},a={transposeA:t,transposeB:o};return E.runKernel(Du,i,a)}var we=T({matMul_:DF});function FF(r){let t={x:w(r,"x","sigmoid","float32")};return E.runKernel(Ts,t)}var ar=T({sigmoid_:FF});function PF(r,e,t){let o=w(r,"x","slice","string_or_numeric");if(o.rank===0)throw new Error("Slicing scalar is not possible");let n={x:o},s={begin:e,size:t};return E.runKernel(Fi,n,s)}var ve=T({slice_:PF});function LF(r){let t={x:w(r,"x","tanh","float32")};return E.runKernel(El,t)}var Yi=T({tanh_:LF});function BF(r,e,t,o,n,s){let i=w(r,"forgetBias","basicLSTMCell"),a=w(e,"lstmKernel","basicLSTMCell"),u=w(t,"lstmBias","basicLSTMCell"),c=w(o,"data","basicLSTMCell"),l=w(n,"c","basicLSTMCell"),p=w(s,"h","basicLSTMCell"),f=We([c,p],1),d=we(f,a),h=J(d,u),x=h.shape[0],g=h.shape[1]/4,b=[x,g],C=ve(h,[0,0],b),k=ve(h,[0,g],b),A=ve(h,[0,g*2],b),D=ve(h,[0,g*3],b),L=J(K(ar(C),Yi(k)),K(l,ar(J(i,A)))),M=K(Yi(L),ar(D));return[L,M]}var Ux=T({basicLSTMCell_:BF});function MF(r,e,t){let o=w(r,"x","batchToSpaceND"),n=e.reduce((a,u)=>a*u);$(o.rank>=1+e.length,()=>`input rank is ${o.rank} but should be > than blockShape.length ${e.length}`),$(t.length===e.length,()=>`crops.length is ${t.length} but should be equal to blockShape.length  ${e.length}`),$(o.shape[0]%n===0,()=>`input tensor batch is ${o.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${n}`);let s={x:o},i={blockShape:e,crops:t};return E.runKernel(Fu,s,i)}var Ql=T({batchToSpaceND_:MF});function eS(r){let e;return r.rank===0||r.rank===1?e=U(r,[1,1,1,r.size]):r.rank===2?e=U(r,[1,1,r.shape[0],r.shape[1]]):r.rank===3?e=U(r,[1,r.shape[0],r.shape[1],r.shape[2]]):e=r,e}function VF(r,e,t,o,n,s){s==null&&(s=.001);let i=w(r,"x","batchNorm"),a=w(e,"mean","batchNorm"),u=w(t,"variance","batchNorm"),c;n!=null&&(c=w(n,"scale","batchNorm"));let l;o!=null&&(l=w(o,"offset","batchNorm")),$(a.rank===u.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),$(l==null||a.rank===l.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),$(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let f={x:eS(i),scale:c,offset:l,mean:a,variance:u},d={varianceEpsilon:s},h=E.runKernel(fc,f,d);return U(h,i.shape)}var Xo=T({batchNorm_:VF});function UF(r,e,t,o,n,s){let i=w(r,"x","batchNorm"),a=w(e,"mean","batchNorm"),u=w(t,"variance","batchNorm"),c;n!=null&&(c=w(n,"scale","batchNorm"));let l;return o!=null&&(l=w(o,"offset","batchNorm")),$(i.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`),$(a.rank===2||a.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${a.rank}.`),$(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&$(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`),l!=null&&$(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${l.rank}.`),Xo(i,a,u,l,c,s)}var Gx=T({batchNorm2d_:UF});function GF(r,e,t,o,n,s){let i=w(r,"x","batchNorm"),a=w(e,"mean","batchNorm"),u=w(t,"variance","batchNorm"),c;n!=null&&(c=w(n,"scale","batchNorm"));let l;return o!=null&&(l=w(o,"offset","batchNorm")),$(i.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`),$(a.rank===3||a.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${a.rank}.`),$(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&$(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`),l!=null&&$(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${l.rank}.`),Xo(i,a,u,l,c,s)}var zx=T({batchNorm3d_:GF});function zF(r,e,t,o,n,s){let i=w(r,"x","batchNorm"),a=w(e,"mean","batchNorm"),u=w(t,"variance","batchNorm"),c;n!=null&&(c=w(n,"scale","batchNorm"));let l;return o!=null&&(l=w(o,"offset","batchNorm")),$(i.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`),$(a.rank===4||a.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${a.rank}.`),$(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&$(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`),l!=null&&$(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${l.rank}.`),Xo(i,a,u,l,c,s)}var Wx=T({batchNorm4d_:zF});function WF(r,e,t){let o=w(r,"x","bincount"),n=w(e,"weights","bincount");$(o.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${o.dtype}`),$(t>=0,()=>`size must be non-negative, but got ${t}.`),$(n.size===o.size||n.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${o.shape}, weights shape: ${n.shape}.`);let s={x:o,weights:n},i={size:t};return E.runKernel(Pu,s,i)}var Jl=T({bincount_:WF});function HF(r,e){let t=w(r,"x","bitwiseAnd"),o=w(e,"y","bitwiseAnd");if(!zt(t.shape,o.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${t.shape}, y: ${o.shape}`);if(t.dtype!=="int32"||o.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${t.dtype} and type of y: ${o.dtype}`);let n={a:t,b:o};return E.runKernel(is,n)}var Hx=T({bitwiseAnd_:HF});function jF(r,e){let t=w(r,"s0","broadcastArgs","int32"),o=w(e,"s1","broadcastArgs","int32");if(t.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${t.rank}`);if(o.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${o.rank}`);let n={s0:t,s1:o};return E.runKernel(Lu,n)}var jx=T({broadcastArgs_:jF});function KF(r,e){let t=w(r,"broadcastTo","x"),o=t.shape;if(Xe(e),e.length<t.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${t.rank}.`);if(e.length>t.rank){let c=t.shape.slice();for(;c.length<e.length;)c.unshift(1);t=U(t,c)}let n=t.shape,s=Array.from(e);for(let c=e.length-1;c>=0;c--)if(n[c]===e[c])s[c]=1;else if(t.shape[c]!==1)throw new Error(`broadcastTo(): [${o}] cannot be broadcast to [${e}].`);if(s.map((c,l)=>c>1?l:-1).filter(c=>c>=0).length===0)return ir(t);let a={x:t},u={reps:s};return E.runKernel($s,a,u)}var Yo=T({broadcastTo_:KF});function qF(r){let t={x:w(r,"x","ceil","float32")};return E.runKernel(as,t)}var Kx=T({ceil_:qF});function to(r,e,t){Xe(r),t=t||hn(e);let o={shape:r,value:e,dtype:t};return E.runKernel(lc,{},o)}function XF(r,e,t){let o=w(r,"x","clipByValue");if($(e<=t,()=>`Error in clip: min (${e}) must be less than or equal to max (${t}).`),e===t)return to(o.shape,e,o.dtype);let n={x:o},s={clipValueMin:e,clipValueMax:t};return E.runKernel(Bu,n,s)}var qx=T({clipByValue_:XF});function YF(r){return We(r,0)}var Xx=T({concat1d_:YF});function ZF(r,e){return We(r,e)}var Yx=T({concat2d_:ZF});function QF(r,e){return We(r,e)}var Zx=T({concat3d_:QF});function JF(r,e){return We(r,e)}var Qx=T({concat4d_:JF});function e3(r,e,t,o,n="NHWC",s=[1,1],i){let a=w(r,"x","conv2d","float32"),u=w(e,"filter","conv2d","float32"),c=a,l=!1;a.rank===3&&(l=!0,c=U(a,[1,a.shape[0],a.shape[1],a.shape[2]])),$(c.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`),$(u.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${u.rank}.`),ut("conv2d",o,i);let p=n==="NHWC"?c.shape[3]:c.shape[1];$(p===u.shape[2],()=>`Error in conv2d: depth of input (${p}) must match input depth for filter ${u.shape[2]}.`),$(Bt(t,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${t} and dilations '${s}'`),$(No(s),()=>"Error in conv2D: Dilated rates should be larger than 0."),$(No(t),()=>"Error in conv2D: Strides should be larger than 0.");let f={x:c,filter:u},d={strides:t,pad:o,dataFormat:n,dilations:s,dimRoundingMode:i},h=E.runKernel(Uu,f,d);return l?U(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var Zo=T({conv2d_:e3});function t3(r,e,t,o,n="NWC",s=1,i){let a=w(r,"x","conv1d"),u=w(e,"filter","conv1d"),c=a,l=!1;a.rank===2&&(l=!0,c=U(a,[1,a.shape[0],a.shape[1]])),$(c.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`),$(u.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${u.rank}.`),ut("conv1d",o,i),$(c.shape[2]===u.shape[1],()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${u.shape[1]}.`),$(Bt(t,s),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${t} and dilation '${s}'`),$(No(s),()=>"Error in conv1D: Dilated rates should be larger than 0."),$(No(t),()=>"Error in conv1D: Stride should be larger than 0."),$(n==="NWC",()=>`Error in conv1d: got dataFormat of ${n} but only NWC is currently supported.`);let p=U(u,[1,u.shape[0],u.shape[1],u.shape[2]]),f=U(c,[c.shape[0],1,c.shape[1],c.shape[2]]),g=Zo(f,p,[1,t],o,"NHWC",[1,s],i);return l?U(g,[g.shape[2],g.shape[3]]):U(g,[g.shape[0],g.shape[2],g.shape[3]])}var Jx=T({conv1d_:t3});function r3(r,e,t,o,n,s="NHWC",i){$(r.length===e.rank,()=>`Length of inShape (${r.length}) and rank of dy (${e.rank}) must match`);let a=r,u=e,c=!1;e.rank===3&&(c=!0,u=U(e,[1,e.shape[0],e.shape[1],e.shape[2]]),a=[1,r[0],r[1],r[2]]),$(a.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${a.length}.`),$(u.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${u.rank}`),$(t.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${t.rank}`);let l=s==="NHWC"?a[3]:a[1],p=s==="NHWC"?u.shape[3]:u.shape[1];$(l===t.shape[2],()=>`Error in conv2dDerInput: depth of input (${l}) must match input depth for filter ${t.shape[2]}.`),$(p===t.shape[3],()=>`Error in conv2dDerInput: depth of output (${p}) must match output depth for filter ${t.shape[3]}.`),ut("conv2dDerInput",n,i);let f={dy:u,filter:t},d={strides:o,pad:n,dataFormat:s,dimRoundingMode:i,inputShape:a},h=E.runKernel(zu,f,d);return c?U(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var lm=T({conv2DBackpropInput_:r3});function o3(r,e,t,o,n,s){let i=w(r,"x","conv2dTranspose"),a=w(e,"filter","conv2dTranspose");return lm(t,i,a,o,n,"NHWC",s)}var e0=T({conv2dTranspose_:o3});function n3(r,e,t,o,n="NDHWC",s=[1,1,1]){let i=w(r,"x","conv3d"),a=w(e,"filter","conv3d"),u=i,c=!1;i.rank===4&&(c=!0,u=U(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),$(u.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${u.rank}.`),$(a.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${a.rank}.`),$(u.shape[4]===a.shape[3],()=>`Error in conv3d: depth of input (${u.shape[4]}) must match input depth for filter ${a.shape[3]}.`),$(Bt(t,s),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${t} and dilations '${s}'`),$(n==="NDHWC",()=>`Error in conv3d: got dataFormat of ${n} but only NDHWC is currently supported.`),$(No(s),()=>"Error in conv3D: Dilated rates should be larger than 0."),$(No(t),()=>"Error in conv3D: Strides should be larger than 0.");let l={x:u,filter:a},p={strides:t,pad:o,dataFormat:n,dilations:s},f=E.runKernel(Wu,l,p);return c?U(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}var t0=T({conv3d_:n3});function s3(r,e,t,o,n){$(r.length===e.rank,()=>`Length of inShape (${r.length}) and rank of dy (${e.rank}) must match`);let s=r,i=e,a=!1;e.rank===4&&(a=!0,i=U(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),s=[1,r[0],r[1],r[2],r[3]]);let u=s[4],c=i.shape[4];$(s.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${s.length}.`),$(i.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`),$(t.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${t.rank}`),$(u===t.shape[3],()=>`Error in conv3dDerInput: depth of input (${u}) must match input depth for filter ${t.shape[3]}.`),$(c===t.shape[4],()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${t.shape[4]}.`);let l={dy:i,filter:t},p={pad:n,strides:o,inputShape:s},f=E.runKernel(Hu,l,p);return a?U(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}var tS=T({conv3DBackpropInput_:s3});function i3(r,e,t,o,n){let s=w(r,"x","conv3dTranspose"),i=w(e,"filter","conv3dTranspose");return tS(t,s,i,o,n)}var r0=T({conv3dTranspose_:i3});function a3(r){let t={x:w(r,"x","cos","float32")};return E.runKernel(ju,t)}var o0=T({cos_:a3});function u3(r){let t={x:w(r,"x","cosh","float32")};return E.runKernel(Ku,t)}var n0=T({cosh_:u3});function c3(r,e=0,t=!1,o=!1){let s={x:w(r,"x","cumprod")},i={axis:e,exclusive:t,reverse:o};return E.runKernel(qu,s,i)}var s0=T({cumprod_:c3});function l3(r,e=0,t=!1,o=!1){let s={x:w(r,"x","cumsum")},i={axis:e,exclusive:t,reverse:o};return E.runKernel(Xu,s,i)}var i0=T({cumsum_:l3});function p3(r,e,t,o=!1){let n=w(r,"x","denseBincount"),s=w(e,"weights","denseBincount");$(n.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${n.dtype}`),$(n.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${n.rank}.`),$(t>=0,()=>`size must be non-negative, but got ${t}.`),$(s.size===n.size||s.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${n.shape}, weights shape: ${s.shape}.`);let i={x:n,weights:s},a={size:t,binaryOutput:o};return E.runKernel(Zu,i,a)}var a0=T({denseBincount_:p3});function f3(r,e,t="NHWC"){let o=w(r,"x","depthToSpace","float32"),n=t==="NHWC"?o.shape[1]:o.shape[2],s=t==="NHWC"?o.shape[2]:o.shape[3],i=t==="NHWC"?o.shape[3]:o.shape[1];$(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),$(n*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${n} and ${e}  for depthToSpace with input shape
    ${o.shape}`),$(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e} for depthToSpace with input shape
        ${o.shape}`),$(i%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${i} for depthToSpace with input shape ${o.shape}`);let a={x:o},u={blockSize:e,dataFormat:t};return E.runKernel(Qu,a,u)}var u0=T({depthToSpace_:f3});function m3(r,e,t,o,n="NHWC",s=[1,1],i){let a=w(r,"x","depthwiseConv2d","float32"),u=w(e,"filter","depthwiseConv2d","float32"),c=a,l=!1;a.rank===3&&(l=!0,c=U(a,[1,a.shape[0],a.shape[1],a.shape[2]])),$(c.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`),$(u.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${u.rank}.`);let p=n==="NHWC"?c.shape[3]:c.shape[1];$(p===u.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${p}) must match the inChannels dimension in filter ${u.shape[2]}.`),ut("depthwiseConv2d",o,i);let f={x:c,filter:u},d={strides:t,pad:o,dataFormat:n,dilations:s,dimRoundingMode:i},h=E.runKernel(Ju,f,d);return l?U(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var Ms=T({depthwiseConv2d_:m3});function d3(r){let t={x:w(r,"x","diag")};return E.runKernel(rc,t)}var c0=T({diag_:d3});function h3(r,e,t,o,n=[1,1],s="NHWC"){let i=w(r,"x","dilation2d"),a=w(e,"filter","dilation2d");$(i.rank===3||i.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`),$(a.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${a.rank}.`),$(s==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${s}`);let u=i,c=!1;i.rank===3&&(u=U(i,[1,i.shape[0],i.shape[1],i.shape[2]]),c=!0),$(u.shape[3]===a.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${u.shape[3]} vs ${a.shape[2]}`);let l={x:u,filter:a},p={strides:t,pad:o,dilations:n},f=E.runKernel(oc,l,p);return c?U(f,[f.shape[1],f.shape[2],f.shape[3]]):f}var l0=T({dilation2d_:h3});var Qo={};Ee(Qo,{assertAndGetBroadcastShape:()=>Re,getBroadcastDims:()=>rS,getReductionAxes:()=>pm});function rS(r,e){let t=r.length,o=[];for(let n=0;n<t;n++){let s=t-1-n,i=r[s]||1;(e[e.length-1-n]||1)>1&&i===1&&o.unshift(s)}return o}function pm(r,e){let t=[];for(let o=0;o<e.length;o++){let n=r[r.length-o-1],s=e.length-o-1,i=e[s];(n==null||n===1&&i>1)&&t.unshift(s)}return t}function Re(r,e){let t=Math.max(r.length,e.length),o=new Array(t);for(let n=0;n<t;n++){let s=r[r.length-n-1];s==null&&(s=1);let i=e[e.length-n-1];if(i==null&&(i=1),s===1)o[t-n-1]=i;else if(i===1)o[t-n-1]=s;else if(s!==i){let a=`Operands could not be broadcast together with shapes ${r} and ${e}.`;throw Error(a)}else o[t-n-1]=s}return o}function g3(r,e){let t=w(r,"a","equal","string_or_numeric"),o=w(e,"b","equal","string_or_numeric");[t,o]=de(t,o),Re(t.shape,o.shape);let n={a:t,b:o};return E.runKernel(us,n)}var Tn=T({equal_:g3});function x3(r,e,t){let o=w(e,"a","where"),n=w(t,"b","where"),s=w(r,"condition","where","bool"),i=Re(Re(s.shape,o.shape),n.shape),a=Yo(s,i),u=Yo(o,i),c=Yo(n,i),l={condition:a,t:u,e:c};return E.runKernel(il,l)}var Tr=T({where_:x3});function y3(r){let t={x:w(r,"x","zerosLike")};return E.runKernel(_l,t)}var lt=T({zerosLike_:y3});function b3(r,e){let t=w(r,"a","div"),o=w(e,"b","div");[t,o]=de(t,o);let n=be(t,o),s=lt(n),i=Tn(o,s);return Tr(i,s,n)}var p0=T({divNoNan_:b3});function v3(r,e){let t=w(r,"t1","dot"),o=w(e,"t2","dot");$((t.rank===1||t.rank===2)&&(o.rank===1||o.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${t.rank} and ${o.rank}.`);let n=t.rank===1?t.size:t.shape[1],s=o.rank===1?o.size:o.shape[0];if($(n===s,()=>`Error in dot: inner dimensions of inputs must match, but got ${n} and ${s}.`),t.rank===1&&o.rank===1){let i=U(t,[1,-1]),a=U(o,[-1,1]),u=we(i,a);return U(u,[])}else if(t.rank===1&&o.rank===2){let i=U(t,[1,-1]),a=U(o,[o.shape[0],o.shape[1]]),u=we(i,a);return U(u,[u.size])}else if(t.rank===2&&o.rank===1){let i=U(o,[-1,1]),a=we(t,i);return U(a,[a.size])}else{let i=U(o,[o.shape[0],o.shape[1]]);return we(t,i)}}var f0=T({dot_:v3});function w3(r,...e){let t=e.map((n,s)=>w(n,`tensors${s}`,"einsum")),o={equation:r};return E.runKernel(sc,t,o)}var Jo=T({einsum_:w3});function S3(r){let t={x:w(r,"x","elu","float32")};return E.runKernel(ic,t)}var ep=T({elu_:S3});function T3(r,e){let t=w(r,"x","ensureShape","string_or_numeric");if(!Dg(t.shape,e))throw new Error(`EnsureShape: Shape of tensor ${t.shape} is not compatible with expected shape ${e}`);return r}var m0=T({ensureShape_:T3});function C3(r){let e=w(r,"x","erf");$(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=le(e,"float32"));let t={x:e};return E.runKernel(ac,t)}var d0=T({erf_:C3});function h0(r,e){for(let t=0;t<r.length;++t)if(r[r.length-t-1]!==e-1-t)return!1;return!0}function oS(r,e,t){let o=r.length+e.length,n=[],s=0,i=0;for(let a=0;a<o;a++)t.indexOf(a)===-1?n.push(r[s++]):n.push(e[i++]);return n}function I3(r,e){let t=[],o=r.length;for(let s=0;s<o;s++)e.indexOf(s)===-1&&t.push(r[s]);let n=e.map(s=>r[s]);return[t,n]}function en(r,e){let t=e.map(o=>1);return oS(r,t,e)}function E3(r,e,t){$(h0(e,t),()=>`${r} supports only inner-most axes for now. Got axes ${e} and rank-${t} input.`)}function N3(r,e){if(h0(r,e))return null;let t=[];for(let o=0;o<e;++o)r.indexOf(o)===-1&&t.push(o);return r.forEach(o=>t.push(o)),t}function $3(r){return r.map((e,t)=>[t,e]).sort((e,t)=>e[1]-t[1]).map(e=>e[0])}function k3(r,e){let t=[];for(let o=e-r;o<e;++o)t.push(o);return t}function R3(r,e=null,t=!1){let n={x:w(r,"x","max")},s={reductionIndices:e,keepDims:t};return E.runKernel(Nc,n,s)}var ro=T({max_:R3});function _3(r,e=null,t=!1){let n={x:w(r,"x","min")},s={axis:e,keepDims:t};return E.runKernel(_c,n,s)}var Zi=T({min_:_3});function O3(r,e){let t=w(r,"base","pow"),o=w(e,"exp","pow");[t,o]=de(t,o);let n={a:t,b:o};return E.runKernel(zc,n)}var ko=T({pow_:O3});function ne(r,e){if((it(r)&&e!=="string"||Array.isArray(r))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&it(r)&&!(r instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return jt(r,[],[],e)}function D3(r){let t={x:w(r,"x","sqrt","float32")};return E.runKernel(Cs,t)}var qt=T({sqrt_:D3});function F3(r){let e=w(r,"x","square"),t={};return E.runKernel("Square",{x:e},t)}var xt=T({square_:F3});function P3(r,e=null,t=!1){let o=w(r,"x","sum");o.dtype==="bool"&&(o=le(o,"int32"));let n={x:o},s={axis:e,keepDims:t};return E.runKernel(fl,n,s)}var _e=T({sum_:P3});function L3(r,e="euclidean",t=null,o=!1){r=w(r,"x","norm");let n=nS(r,e,t),s=n.shape;if(o){let i=dn(t,r.shape);s=en(n.shape,i)}return U(n,s)}function nS(r,e,t=null){if(r.rank===0)return gt(r);if(r.rank!==1&&t===null)return nS(U(r,[-1]),e,t);if(r.rank===1||typeof t=="number"||Array.isArray(t)&&t.length===1){if(e===1)return _e(gt(r),t);if(e===1/0)return ro(gt(r),t);if(e===-1/0)return Zi(gt(r),t);if(e==="euclidean"||e===2)return qt(_e(ko(gt(r),ne(2,"int32")),t));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(t)&&t.length===2){if(e===1)return ro(_e(gt(r),t[0]),t[1]-1);if(e===1/0)return ro(_e(gt(r),t[1]),t[0]);if(e===-1/0)return Zi(_e(gt(r),t[1]),t[0]);if(e==="fro"||e==="euclidean")return qt(_e(xt(r),t));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${t}`)}var Cn=T({norm_:L3});function B3(r,e=null,t=!1){return Cn(r,"euclidean",e,t)}var g0=T({euclideanNorm_:B3});function M3(r){let t={x:w(r,"x","exp")};return E.runKernel(cs,t)}var Dr=T({exp_:M3});function V3(r,e=0){let t=w(r,"x","expandDims","string_or_numeric");$(e<=t.rank,()=>"Axis must be <= rank of the tensor");let o={input:t},n={dim:e};return E.runKernel(uc,o,n)}var Tt=T({expandDims_:V3});function U3(r){let t={x:w(r,"x","expm1")};return E.runKernel(ls,t)}var x0=T({expm1_:U3});function G3(r,e){let t=w(r,"x","tile","string_or_numeric");$(t.rank===e.length,()=>`Error in transpose: rank of input ${t.rank} must match length of reps ${e}.`);let o={x:t},n={reps:e};return E.runKernel($s,o,n)}var tn=T({tile_:G3});function z3(r,e,t,o="float32"){e==null&&(e=r);let n=xe([r,e],o),s=r<=e?r:e;for(let a=0;a<s;++a)n.set(1,a,a);let i=U(n.toTensor(),[r,e]);if(t==null)return i;if(t.length===1)return tn(Tt(i,0),[t[0],1,1]);if(t.length===2)return tn(Tt(Tt(i,0),0),[t[0],t[1],1,1]);if(t.length===3)return tn(Tt(Tt(Tt(i,0),0),0),[t[0],t[1],t[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${t.length}D.`)}var tp=T({eye_:z3});function W3(r){let t={x:w(r,"x","floor","float32")};return E.runKernel(ps,t)}var rp=T({floor_:W3});function H3(r,e,t=0,o=0){let n=w(r,"x","gather"),s=w(e,"indices","gather","int32"),i={x:n,indices:s},a={axis:t,batchDims:o};return E.runKernel(mc,i,a)}var op=T({gather_:H3});function j3(r,e){let t=w(r,"a","greater","string_or_numeric"),o=w(e,"b","greater","string_or_numeric");[t,o]=de(t,o),Re(t.shape,o.shape);let n={a:t,b:o};return E.runKernel(ms,n)}var Ao=T({greater_:j3});function K3(r,e){let t=w(r,"a","greaterEqual","string_or_numeric"),o=w(e,"b","greaterEqual","string_or_numeric");[t,o]=de(t,o),Re(t.shape,o.shape);let n={a:t,b:o};return E.runKernel(ds,n)}var np=T({greaterEqual_:K3});function q3(r){let t={input:w(r,"input","imag")};return E.runKernel(gc,t)}var rn=T({imag_:q3});function X3(r){let t={x:w(r,"x","isFinite")};return E.runKernel(xc,t)}var y0=T({isFinite_:X3});function Y3(r){let t={x:w(r,"x","isInf")};return E.runKernel(yc,t)}var b0=T({isInf_:Y3});function Z3(r){let t={x:w(r,"x","isNaN")};return E.runKernel(bc,t)}var v0=T({isNaN_:Z3});function Q3(r,e=.2){let o={x:w(r,"x","leakyRelu")},n={alpha:e};return E.runKernel(vc,o,n)}var sp=T({leakyRelu_:Q3});function J3(r,e){let t=w(r,"a","less","string_or_numeric"),o=w(e,"b","less","string_or_numeric");[t,o]=de(t,o),Re(t.shape,o.shape);let n={a:t,b:o};return E.runKernel(hs,n)}var Qi=T({less_:J3});function eP(r,e){let t=w(r,"a","lessEqual","string_or_numeric"),o=w(e,"b","lessEqual","string_or_numeric");[t,o]=de(t,o),Re(t.shape,o.shape);let n={a:t,b:o};return E.runKernel(gs,n)}var Vs=T({lessEqual_:eP});function w0(r,e,t){if(t<=0)throw new Error("The number of values should be positive.");let o={start:r,stop:e,num:t};return E.runKernel(wc,{},o)}function tP(r,e=5,t=1,o=1,n=.5){let s=w(r,"x","localResponseNormalization");$(s.rank===4||s.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${s.rank}.`),$(zo(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let i=s,a=!1;s.rank===3&&(a=!0,i=U(s,[1,s.shape[0],s.shape[1],s.shape[2]]));let u={x:i},c={depthRadius:e,bias:t,alpha:o,beta:n},l=E.runKernel(Ec,u,c);return a?U(l,[l.shape[1],l.shape[2],l.shape[3]]):l}var S0=T({localResponseNormalization_:tP});function rP(r){let t={x:w(r,"x","log","float32")};return E.runKernel(xs,t)}var Ro=T({log_:rP});function oP(r){let t={x:w(r,"x","log1p")};return E.runKernel(Sc,t)}var ip=T({log1p_:oP});function sS(r){return $(vo(r),()=>"The f passed in grad(f) must be a function"),(e,t)=>{let o=w(e,"x","tf.grad","string_or_numeric"),n=t!=null?w(t,"dy","tf.grad"):null;return E.tidy(()=>{let{value:s,grads:i}=E.gradients(()=>r(o),[o],n);return n!=null&&He(s.shape,n.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),mm(i),i[0]})}}function iS(r){return $(vo(r),()=>"The f passed in grads(f) must be a function"),(e,t)=>{$(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");let o=jo(e,"args","tf.grads","string_or_numeric"),n=t!=null?w(t,"dy","tf.grads"):null;return E.tidy(()=>{let{value:s,grads:i}=E.gradients(()=>r(...o),o,n);return n!=null&&He(s.shape,n.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),mm(i),i})}}function aS(r){return $(vo(r),()=>"The f passed in valueAndGrad(f) must be a function"),(e,t)=>{$(e instanceof ye,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),$(t==null||t instanceof ye,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");let{grads:o,value:n}=E.gradients(()=>r(e),[e],t);return mm(o),{grad:o[0],value:n}}}function uS(r){return $(vo(r),()=>"The f passed in valueAndGrads(f) must be a function"),(e,t)=>{$(Array.isArray(e)&&e.every(n=>n instanceof ye),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),$(t==null||t instanceof ye,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");let o=E.gradients(()=>r(...e),e,t);return t!=null&&He(o.value.shape,t.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),mm(o.grads),o}}function fm(r,e){$(vo(r),()=>"The f passed in variableGrads(f) must be a function"),$(e==null||Array.isArray(e)&&e.every(c=>c instanceof To),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");let t=e!=null;if(!t){e=[];for(let c in E.registeredVariables)e.push(E.registeredVariables[c])}let o=t?e.filter(c=>!c.trainable):null,n=e.length;e=e.filter(c=>c.trainable),$(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${n} variables is trainable.`);let s=!0,{value:i,grads:a}=E.gradients(r,e,null,s);$(a.some(c=>c!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),$(i.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`);let u={};return e.forEach((c,l)=>{a[l]!=null&&(u[c.name]=a[l])}),o?.forEach(c=>u[c.name]=null),{value:i,grads:u}}function Mt(r){return E.customGrad(r)}function mm(r){if(r.filter(t=>t==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}function nP(r){let t={x:w(r,"x","neg")};return E.runKernel(_i,t)}var Ct=T({neg_:nP});function sP(r){let t={x:w(r,"x","softplus")};return E.runKernel(pl,t)}var ap=T({softplus_:sP});function iP(r){let e=w(r,"x","logSigmoid");return Mt(o=>({value:Ct(ap(Ct(o))),gradFunc:i=>K(i,ar(Ct(o)))}))(e)}var T0=T({logSigmoid_:iP});function aP(r,e){let t=w(r,"a","sub"),o=w(e,"b","sub");[t,o]=de(t,o);let n={a:t,b:o};return E.runKernel(Ns,n)}var ie=T({sub_:aP});function uP(r,e=-1){let t=w(r,"logits","logSoftmax");if(e===-1&&(e=t.rank-1),e!==t.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${t.rank} and axis was ${e}`);return Mt((n,s)=>{let a=ro(n,e,!0),u=ie(n,a),c=ie(le(u,"float32"),Ro(_e(Dr(u),e,!0)));return s([c]),{value:c,gradFunc:(p,f)=>{let[d]=f,h=!0,x=Dr(d);return ie(p,K(_e(p,e,h),x))}}})(t)}var C0=T({logSoftmax_:uP});function cP(r,e=null,t=!1){let o=w(r,"x","logSumExp"),n=dn(e,o.shape),s=ro(o,n,!0),i=ie(o,s),a=Dr(i),u=_e(a,n),c=Ro(u),l=J(U(s,c.shape),c);if(t){let p=en(l.shape,n);return U(l,p)}return l}var up=T({logSumExp_:cP});function lP(r,e){let t=w(r,"a","logicalAnd","bool"),o=w(e,"b","logicalAnd","bool");Re(t.shape,o.shape);let n={a:t,b:o};return E.runKernel(Tc,n)}var In=T({logicalAnd_:lP});function pP(r){let t={x:w(r,"x","logicalNot","bool")};return E.runKernel(Cc,t)}var cp=T({logicalNot_:pP});function fP(r,e){let t=w(r,"a","logicalOr","bool"),o=w(e,"b","logicalOr","bool");Re(t.shape,o.shape);let n={a:t,b:o};return E.runKernel(Ic,n)}var lp=T({logicalOr_:fP});function mP(r,e){let t=w(r,"a","logicalXor","bool"),o=w(e,"b","logicalXor","bool");return Re(t.shape,o.shape),In(lp(r,e),cp(In(r,e)))}var I0=T({logicalXor_:mP});var dm=2147483648;function dP(r,e,t="left"){let o=w(r,"sortedSequence","searchSorted"),n=w(e,"values","searchSorted"),s=o.shape[o.shape.length-1],i=n.shape[n.shape.length-1],a=U(o,[-1,s]),u=U(n,[-1,i]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==u.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(ge(u.shape)>=dm)throw new Error(`values tensor size must less than ${dm}`);if(a.shape[1]>=dm)throw new Error(`trailing dim_size must less than ${dm} for int32 output type, was ${a.shape[1]}`);let c={sortedSequence:a,values:u},l={side:t};return E.runKernel(sl,c,l)}var Ji=T({searchSorted_:dP});function E0(r,e){return Ji(r,e,"left")}function hP(r,e,t,o,n){let s=w(r,"x","maxPool"),i=1,a=s,u=!1;s.rank===3&&(u=!0,a=U(s,[1,s.shape[0],s.shape[1],s.shape[2]])),$(a.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`),$(Bt(t,i),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${t} and dilations '${i}'`),ut("maxPool",o,n);let c={x:a},l={filterSize:e,strides:t,pad:o,dimRoundingMode:n},p=E.runKernel($c,c,l);return u?U(p,[p.shape[1],p.shape[2],p.shape[3]]):p}var pp=T({maxPool_:hP});function gP(r,e=[1,1,1],t,o,n,s="NDHWC"){let i=w(r,"x","maxPool3d"),a=i,u=!1;i.rank===4&&(u=!0,a=U(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),$(a.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${a.rank}.`),$(s==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`),ut("maxPool3d",o,n);let c={x:a},l={filterSize:e,strides:t,pad:o,dimRoundingMode:n,dataFormat:s},p=E.runKernel(kc,c,l);return u?U(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}var N0=T({maxPool3d_:gP});function xP(r,e,t,o,n=!1){let i={x:w(r,"x","maxPoolWithArgmax")},a={filterSize:e,strides:t,pad:o,includeBatchInIndex:n},u=E.runKernel(Ac,i,a);return{result:u[0],indexes:u[1]}}var $0=T({maxPoolWithArgmax_:xP});function yP(r,e){let t=w(r,"a","maximum"),o=w(e,"b","maximum");[t,o]=de(t,o),t.dtype==="bool"&&(t=le(t,"int32"),o=le(o,"int32")),Re(t.shape,o.shape);let n={a:t,b:o};return E.runKernel(ys,n)}var fp=T({maximum_:yP});function bP(r,e=null,t=!1){let n={x:w(r,"x","mean")},s={axis:e,keepDims:t};return E.runKernel(Rc,n,s)}var En=T({mean_:bP});function Fr(r,e="float32"){if(Xe(r),e==="complex64"){let o=Fr(r,"float32"),n=Fr(r,"float32");return Ht(o,n)}let t=$i(ge(r),e);return E.makeTensor(t,r,e)}function oo(r,e="float32"){if(Xe(r),e==="complex64"){let o=oo(r,"float32"),n=Fr(r,"float32");return Ht(o,n)}let t=yu(ge(r),e);return E.makeTensor(t,r,e)}function k0(r,e,{indexing:t="xy"}={}){if(t!=="xy"&&t!=="ij")throw new TypeError(`${t} is not a valid third argument to meshgrid`);if(r===void 0)return[];let o=w(r,"x","meshgrid",r instanceof ye?r.dtype:"float32");if(e===void 0)return[o];let n=w(e,"y","meshgrid",e instanceof ye?e.dtype:"float32"),s=ge(o.shape),i=ge(n.shape);return t==="xy"?(o=U(o,[1,-1]),n=U(n,[-1,1]),[we(oo([i,1],o.dtype),o),we(n,oo([1,s],n.dtype))]):(o=U(o,[-1,1]),n=U(n,[1,-1]),[we(o,oo([1,i],o.dtype)),we(oo([s,1],n.dtype),n)])}function vP(r,e){let t=w(r,"a","minimum"),o=w(e,"b","minimum");[t,o]=de(t,o),t.dtype==="bool"&&(t=le(t,"int32"),o=le(o,"int32")),Re(t.shape,o.shape);let n={a:t,b:o};return E.runKernel(bs,n)}var Nn=T({minimum_:vP});function wP(r,e,t){$(t==="reflect"||t==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${t}.`);let o=w(r,"x","mirrorPad");if(o.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");$(e.length===o.rank,()=>`Padding doesn't match input. Must be ${o.rank}. Got ${e.length}.`);let n=t==="reflect"?1:0;for(let a=0;a<o.rank;a++)$(e[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),$(e[a][0]>=0&&e[a][0]<=o.shape[a]-n&&e[a][1]>=0&&e[a][1]<=o.shape[a]-n,()=>`Padding in dimension ${a} cannot be greater than or equal to ${o.shape[a]-n} or less than 0 for input of shape ${o.shape}`);let s={paddings:e,mode:t},i={x:o};return E.runKernel(Oc,i,s)}var mp=T({mirrorPad_:wP});function SP(r,e){let t=w(r,"a","mod"),o=w(e,"b","mod");[t,o]=de(t,o);let n={a:t,b:o};return E.runKernel(Dc,n)}var A0=T({mod_:SP});function TP(r,e=null,t=!1){r=w(r,"x","moments");let o=dn(e,r.shape),n=En(r,o,t),s=n.shape;t||(s=en(n.shape,o));let i=xt(ie(le(r,"float32"),U(n,s))),a=En(i,o,t);return{mean:n,variance:a}}var R0=T({moments_:TP});function CP(r,e,t,o){let n=w(e,"data","multiRNNCell"),s=jo(t,"c","multiRNNCell"),i=jo(o,"h","multiRNNCell"),a=n,u=[];for(let p=0;p<r.length;p++){let f=r[p](a,s[p],i[p]);u.push(f[0]),u.push(f[1]),a=f[1]}let c=[],l=[];for(let p=0;p<u.length;p+=2)c.push(u[p]),l.push(u[p+1]);return[c,l]}var _0=T({multiRNNCell_:CP});function IP(r,e,t,o=!1){let n=w(r,"logits","multinomial"),s=n.size,i=n.rank;if(s<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${s}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);t=t||Math.random();let u={logits:i===1?U(n,[1,-1]):n},c={numSamples:e,seed:t,normalized:o},l=E.runKernel(Fc,u,c);return i===1?U(l,[l.size]):l}var O0=T({multinomial_:IP});function EP(r,e){let t=w(r,"a","notEqual","string_or_numeric"),o=w(e,"b","notEqual","string_or_numeric");[t,o]=de(t,o),Re(t.shape,o.shape);let n={a:t,b:o};return E.runKernel(ws,n)}var dp=T({notEqual_:EP});function NP(r,e,t=1,o=0,n="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);let i={indices:w(r,"indices","oneHot","int32")},a={dtype:n,depth:e,onValue:t,offValue:o};return E.runKernel(Vc,i,a)}var $n=T({oneHot_:NP});function $P(r){let t={x:w(r,"x","onesLike")};return E.runKernel(Mc,t)}var D0=T({onesLike_:$P});function kP(r,e){let t=w(r,"v1","outerProduct"),o=w(e,"v2","outerProduct");$(t.rank===1&&o.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${t.rank} and ${o.rank}.`);let n=U(t,[-1,1]),s=U(o,[1,-1]);return we(n,s)}var F0=T({outerProduct_:kP});function AP(r,e,t=0){let o=w(r,"x","pad");if(o.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");let n={paddings:e,constantValue:t},s={x:o};return E.runKernel(Gc,s,n)}var Pr=T({pad_:AP});function RP(r,e,t=0){return $(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Pr(r,[e],t)}var P0=T({pad1d_:RP});function _P(r,e,t=0){return $(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Pr(r,e,t)}var L0=T({pad2d_:_P});function OP(r,e,t=0){return $(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Pr(r,e,t)}var hp=T({pad3d_:OP});function DP(r,e,t=0){return $(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Pr(r,e,t)}var B0=T({pad4d_:DP});function FP(r,e,t){let o=w(r,"x","spaceToBatchND");$(o.rank>=1+e.length,()=>`input rank ${o.rank} should be > than [blockShape] ${e.length}`),$(t.length===e.length,()=>`paddings.shape[0] ${t.length} must be equal to [blockShape] ${e.length}`),$(o.shape.reduce((i,a,u)=>u>0&&u<=e.length?i&&(a+t[u-1][0]+t[u-1][1])%e[u-1]===0:i,!0),()=>`input spatial dimensions ${o.shape.slice(1)} with paddings ${t.toString()} must be divisible by blockShapes ${e.toString()}`);let n={x:o},s={blockShape:e,paddings:t};return E.runKernel(ml,n,s)}var gp=T({spaceToBatchND_:FP});function PP(r,e,t,o,n,s,i){n==null&&(n=[1,1]),s==null&&(s=1),o===0&&(o="valid");let a=w(r,"x","maxPool"),u=a,c=!1;a.rank===3&&(c=!0,u=U(a,[1,a.shape[0],a.shape[1],a.shape[2]])),$(Bt(s,n),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${s} and dilations '${n}'`);let l=Bx(u.shape,e,s,n,o),p=[l.dilationHeight,l.dilationWidth],f;o==="same"?f=BP([l.filterHeight,l.filterWidth],p):f=[[0,0],[0,0]];let d=p[0]===1&&p[1]===1,[h,x]=LP([l.inHeight,l.inWidth],p,f),g=d?o:"valid",b=d?u:gp(u,p,h),k=(t==="avg"?()=>Zl(b,e,s,g,i):()=>pp(b,e,s,g,i))(),A=d?k:Ql(k,p,x);return c?U(A,[A.shape[1],A.shape[2],A.shape[3]]):A}function LP(r,e,t){let o=t.map(l=>l[0]),n=t.map(l=>l[1]),s=r.concat(o,n),i=e.map((l,p)=>(l-s[p]%l)%l),a=n.map((l,p)=>l+i[p]),u=e.map((l,p)=>[o[p],a[p]]),c=e.map((l,p)=>[0,i[p]]);return[u,c]}function BP(r,e){let o=r.map((i,a)=>i+(i-1)*(e[a]-1)).map(i=>i-1),n=o.map(i=>Math.floor(i/2)),s=o.map((i,a)=>i-n[a]);return o.map((i,a)=>[n[a],s[a]])}var M0=T({pool_:PP});function MP(r,e){let t=w(r,"x","prelu"),o=w(e,"alpha","prelu"),n={x:t,alpha:o};return E.runKernel(Wc,n)}var xp=T({prelu_:MP});function VP(r,e=null,t=!1){let o=w(r,"x","prod");o.dtype==="bool"&&(o=le(o,"int32"));let n={x:o},s={axis:e,keepDims:t};return E.runKernel(Oi,n,s)}var V0=T({prod_:VP});function UP(r,e,t,o){let n=r.map((l,p)=>w(l,`tensors${p}`,"raggedGather","int32")),s=w(e,"paramsDenseValues","raggedGather"),i=w(t,"indices","raggedGather","int32"),a={paramsNestedSplits:n,paramsDenseValues:s,indices:i},u={outputRaggedRank:o},c=E.runKernel(Hc,a,u);return{outputNestedSplits:c.slice(0,c.length-1),outputDenseValues:c[c.length-1]}}var U0=T({raggedGather_:UP});function GP(r,e,t){let o=w(r,"starts","raggedRange"),n=w(e,"limits","raggedRange",o.dtype),s=w(t,"deltas","raggedRange",o.dtype),i={starts:o,limits:n,deltas:s},a=E.runKernel(jc,i);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}var G0=T({raggedRange_:GP});function zP(r,e,t,o,n){let s=w(r,"shape","raggedTensorToTensor","int32"),i=w(e,"values","raggedTensorToTensor"),a=w(t,"defaultValue","raggedTensorToTensor",i.dtype),u=o.map((p,f)=>w(p,`tensors${f}`,"raggedTensorToTensor","int32")),c={shape:s,values:i,defaultValue:a,rowPartitionTensors:u},l={rowPartitionTypes:n};return E.runKernel(Kc,c,l)}var z0=T({raggedTensorToTensor_:zP});function WP(r,e,t){Xe(r);let o=ge(r),n=null;if(t==null||t==="float32")n=new Float32Array(o);else if(t==="int32")n=new Int32Array(o);else if(t==="bool")n=new Uint8Array(o);else throw new Error(`Unknown data type ${t}`);for(let s=0;s<o;s++)n[s]=e();return E.makeTensor(n,r,t)}var W0=T({rand_:WP});var ym=De(ES());var ey={};Ee(ey,{TEST_EPSILON_FLOAT16:()=>NS,createVideoElement:()=>n4,encodeStrings:()=>$S,expectArrayBuffersEqual:()=>o4,expectArraysClose:()=>QP,expectArraysEqual:()=>e4,expectNumbersClose:()=>t4,expectPromiseToFail:()=>JP,expectValuesInRange:()=>r4,play:()=>s4,testEpsilon:()=>Q0});var ZP=.001,NS=.1;function QP(r,e,t){return t==null&&(t=Q0()),Z0(r,e,(o,n)=>J0(o,n,t))}function Q0(){return E.backend.floatPrecision()===32?ZP:NS}function Z0(r,e,t){let o=!0;if((it(r)||it(e))&&(o=!1),it(r)&&it(e)&&(o=!0),o){let i=r.constructor.name,a=e.constructor.name;if(i!==a)throw new Error(`Arrays are of different type. Actual: ${i}. Expected: ${a}`)}if(Array.isArray(r)&&Array.isArray(e)){let i=At(r),a=At(e);if(!zt(i,a))throw new Error(`Arrays have different shapes. Actual: [${i}]. Expected: [${a}]`)}let n=it(r)?r:Qr(r),s=it(e)?e:Qr(e);if(n.length!==s.length)throw new Error(`Arrays have different lengths actual: ${n.length} vs expected: ${s.length}.
Actual:   ${n}.
Expected: ${s}.`);for(let i=0;i<s.length;++i){let a=n[i],u=s[i];if(!t(a,u))throw new Error(`Arrays differ: actual[${i}] = ${a}, expected[${i}] = ${u}.
Actual:   ${n}.
Expected: ${s}.`)}typeof expect<"u"&&expect().nothing()}function JP(r,e){r().then(()=>e.fail(),()=>e()),typeof expect<"u"&&expect().nothing()}function e4(r,e){let t=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return Yr(r)||Yr(r[0])||Yr(e)||Yr(e[0])?Z0(r,t,(o,n)=>o==n):Z0(r,e,(o,n)=>J0(o,n,0))}function t4(r,e,t){if(t==null&&(t=Q0()),!J0(r,e,t))throw new Error(`Numbers differ: actual === ${r}, expected === ${e}`);typeof expect<"u"&&expect().nothing()}function J0(r,e,t){return!isFinite(r)&&!isFinite(e)?!0:!(isNaN(r)||isNaN(e)||Math.abs(r-e)>t)}function r4(r,e,t){for(let o=0;o<r.length;o++)if(r[o]<e||r[o]>t)throw new Error(`Value out of range:${r[o]} low: ${e}, high: ${t}`)}function o4(r,e){let t=new Float32Array(r),o=new Float32Array(e);if(t.length!==o.length)throw new Error(`Expected ArrayBuffer to be of length ${o.length}, but it was ${t.length}`);for(let n=0;n<o.length;n++)if(t[n]!==o[n])throw new Error(`Expected ArrayBuffer value at ${n} to be ${o[n]} but got ${t[n]} instead`)}function $S(r){for(let e=0;e<r.length;e++){let t=r[e];Array.isArray(t)?$S(t):r[e]=bn(t)}return r}function n4(r){let e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(r),new Promise(t=>{e.addEventListener("loadeddata",o=>t(e)),e.load()})}async function s4(r){await r.play(),"requestVideoFrameCallback"in r&&await new Promise(e=>{r.requestVideoFrameCallback(e)})}var Gs=class{constructor(e,t,o,n,s){this.mean=e,this.stdDev=t,this.dtype=o,this.nextVal=NaN,this.truncated=n,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);let i=s||Math.random();this.random=ym.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){let n=this.nextVal;return this.nextVal=NaN,n}let e,t,o=!1;for(;!o;){let n,s,i;do n=2*this.random()-1,s=2*this.random()-1,i=n*n+s*s;while(i>=1||i===0);let a=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*n*a,t=this.mean+this.stdDev*s*a,(!this.truncated||this.isValidTruncated(e))&&(o=!0)}return(!this.truncated||this.isValidTruncated(t))&&(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}},gm=class{constructor(e,t,o,n){this.alpha=e,this.beta=1/t,this.dtype=o;let s=n||Math.random();this.randu=ym.alea(s.toString()),this.randn=new Gs(0,1,o,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,o,n,s,i;for(;;){do n=this.randn.nextValue(),i=1+this.c*n;while(i<=0);if(i*=i*i,e=n*n,t=1-.331*e*e,o=.5*e+this.d*(1-i+Math.log(i)),s=this.randu(),s<t||Math.log(s)<o)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}},xm=class{constructor(e=0,t=1,o,n){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=t-e,this.dtype=o,n==null&&(n=Math.random()),typeof n=="number"&&(n=n.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=ym.alea(n)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}};function i4(r,e,t=1,o="float32",n){if(Xe(r),t==null&&(t=1),o==null&&(o="float32"),o!=="float32"&&o!=="int32")throw new Error(`Unsupported data type ${o}`);let s=new gm(e,t,o,n),i=xe(r,o);for(let a=0;a<i.values.length;a++)i.values[a]=s.nextValue();return i.toTensor()}var ty=T({randomGamma_:i4});function a4(r,e=0,t=1,o,n){if(Xe(r),o!=null&&o==="bool")throw new Error(`Unsupported data type ${o}`);let s=new Gs(e,t,o,!1,n),i=xe(r,o);for(let a=0;a<i.values.length;a++)i.values[a]=s.nextValue();return i.toTensor()}var yp=T({randomNormal_:a4});function u4(r,e,t){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return yp(r,0,1,e,t)}var ry=T({randomStandardNormal_:u4});function c4(r,e=0,t=1,o="float32",n){Xe(r);let s=xe(r,o),i=new xm(e,t,null,n);for(let a=0;a<s.values.length;a++)s.values[a]=i.nextValue();return s.toTensor()}var zs=T({randomUniform_:c4});function l4(r,e,t,o){return zs(r,e,t,"int32",o)}var oy=T({randomUniformInt_:l4});function zr(r,e,t=1,o="float32"){if(t===0)throw new Error("Cannot have a step of zero");let n={start:r,stop:e,step:t,dtype:o};return E.runKernel(qc,{},n)}function p4(r){let t={input:w(r,"input","real")};return E.runKernel(Di,t)}var _o=T({real_:p4});function f4(r){let t={x:w(r,"x","reciprocal")};return E.runKernel(Xc,t)}var ny=T({reciprocal_:f4});function m4(r){let t={x:w(r,"x","relu")};return E.runKernel(Yc,t)}var on=T({relu_:m4});function d4(r){let t={x:w(r,"x","relu6")};return E.runKernel(el,t)}var bp=T({relu6_:d4});function h4(r,e){let o={x:w(r,"x","reverse")},n={dims:e};return E.runKernel(tl,o,n)}var Cr=T({reverse_:h4});function g4(r){let e=w(r,"x","reverse");return $(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),Cr(e,0)}var sy=T({reverse1d_:g4});function x4(r,e){let t=w(r,"x","reverse");return $(t.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${t.rank}.`),Cr(t,e)}var iy=T({reverse2d_:x4});function y4(r,e){let t=w(r,"x","reverse");return $(t.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${t.rank}.`),Cr(t,e)}var ay=T({reverse3d_:y4});function b4(r,e){let t=w(r,"x","reverse");return $(t.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${t.rank}.`),Cr(t,e)}var uy=T({reverse4d_:b4});function v4(r){let t={x:w(r,"x","round")};return E.runKernel(rl,t)}var vp=T({round_:v4});function w4(r){let t={x:w(r,"x","rsqrt","float32")};return E.runKernel(Ss,t)}var cy=T({rsqrt_:w4});function S4(r){let t={x:w(r,"x","selu")};return E.runKernel(al,t)}var ly=T({selu_:S4});function T4(r,e,t,o,n,s=[1,1],i="NHWC"){let a=w(r,"x","separableConv2d"),u=w(e,"depthwiseFilter","separableConv2d"),c=w(t,"pointwiseFilter","separableConv2d"),l=a,p=!1;if(a.rank===3&&(p=!0,l=U(a,[1,a.shape[0],a.shape[1],a.shape[2]])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");$(l.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${l.rank}.`),$(u.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${u.rank}.`),$(c.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${u.rank}.`),$(c.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`),$(c.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`);let f=u.shape[2],d=u.shape[3];$(c.shape[2]===f*d,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${f*d}, but got ${c.shape[2]}.`);let h=Ms(l,u,o,n,i,s),g=Zo(h,c,1,"valid",i);return p?U(g,[g.shape[1],g.shape[2],g.shape[3]]):g}var py=T({separableConv2d_:T4});async function C4(r,e){let t=w(r,"x","setdiff1d"),o=w(e,"y","setdiff1d");$(t.dtype===o.dtype,()=>`x and y should have the same dtype, but got x (${t.dtype}) and y (${o.dtype}).`),$(t.rank===1,()=>`x should be 1D tensor, but got x (${t.shape}).`),$(o.rank===1,()=>`y should be 1D tensor, but got y (${o.shape}).`);let n=await t.data(),s=await o.data(),i=new Set(s),a=0;for(let l=0;l<n.length;l++)i.has(n[l])||a++;let u=new Sr([a],t.dtype),c=new Sr([a],"int32");for(let l=0,p=0;l<n.length;l++)i.has(n[l])||(u.values[p]=n[l],c.values[p]=l,p++);return[u.toTensor(),c.toTensor()]}var fy=C4;function I4(r){let t={x:w(r,"x","sign")};return E.runKernel(ll,t)}var my=T({sign_:I4});function E4(r){let t={x:w(r,"x","sin","float32")};return E.runKernel(ul,t)}var dy=T({sin_:E4});function N4(r){let t={x:w(r,"x","sinh")};return E.runKernel(cl,t)}var hy=T({sinh_:N4});function $4(r,e,t){let o=w(r,"x","slice1d");return $(o.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${o.rank} tensor`),ve(o,[e],[t])}var gy=T({slice1d_:$4});function k4(r,e,t){let o=w(r,"x","slice2d");return $(o.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${o.rank} tensor`),ve(o,e,t)}var xy=T({slice2d_:k4});function A4(r,e,t){let o=w(r,"x","slice3d");return $(o.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${o.rank} tensor`),ve(o,e,t)}var yy=T({slice3d_:A4});function R4(r,e,t){let o=w(r,"x","slice4d");return $(o.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${o.rank} tensor`),ve(o,e,t)}var by=T({slice4d_:R4});function _4(r,e=-1){let t=w(r,"logits","softmax","float32");if(e===-1&&(e=t.rank-1),e!==t.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${t.rank} and dim was ${e}`);let o={logits:t},n={dim:e};return E.runKernel(hl,o,n)}var vy=T({softmax_:_4});function O4(r){$(r.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${r.dtype}.`);let e={input:r};return E.runKernel(cc,e)}var Ws=T({fft_:O4});function D4(r){$(r.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${r.dtype}.`);let e={input:r};return E.runKernel(hc,e)}var kn=T({ifft_:D4});function F4(r){let e=r.shape[r.shape.length-1],t=r.size/e,o;if(e<=2){let n=U(r,[t,e]);o=kn(n)}else{let n=[t,2*(e-1)],s=U(_o(r),[t,e]),i=U(rn(r),[t,e]),a=Cr(ve(s,[0,1],[t,e-2]),1),u=K(Cr(ve(i,[0,1],[t,e-2]),1),ne(-1)),c=We([s,a],1),l=We([i,u],1),p=U(Ht(c,l),[n[0],n[1]]);o=kn(p)}if(o=_o(o),r.rank===3&&r.shape[0]!==0){let n=o,s=r.shape[0];o=U(o,[s,o.shape[0]/s,o.shape[1]]),n.dispose()}return o}var wp=T({irfft_:F4});function P4(r,e,t=0){let n={x:w(r,"x","split")},s={numOrSizeSplits:e,axis:t};return E.runKernel(dl,n,s)}var Oo=T({split_:P4});function L4(r,e){$(r.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${r.dtype}`);let t=r.shape[r.shape.length-1],o=r.size/t,n;if(e!=null&&e<t){let h=r.shape.map(g=>0),x=r.shape.map(g=>g);x[r.shape.length-1]=e,n=ve(r,h,x),t=e}else if(e!=null&&e>t){let h=r.shape.map(x=>x);h[r.shape.length-1]=e-t,n=We([r,Fr(h)],r.shape.length-1),t=e}else n=r;let s=lt(n),i=U(Ht(n,s),[o,t]),a=Ws(i),u=Math.floor(t/2)+1,c=_o(a),l=rn(a),p=Oo(c,[u,t-u],c.shape.length-1),f=Oo(l,[u,t-u],l.shape.length-1),d=n.shape.slice();return d[n.shape.length-1]=u,U(Ht(p[0],f[0]),d)}var Hs=T({rfft_:L4});function B4(r,e){let t=w(r,"a","squaredDifference"),o=w(e,"b","squaredDifference");[t,o]=de(t,o),Re(t.shape,o.shape);let n={a:t,b:o},s={};return E.runKernel(Is,n,s)}var Sp=T({squaredDifference_:B4});function M4(r,e){let t=w(r,"x","squeeze","string_or_numeric");return U(t,Fg(t.shape,e).newShape)}var Xt=T({squeeze_:M4});function V4(r,e=0){let t=jo(r,"tensors","stack","string_or_numeric");$(t.length>=1,()=>"Pass at least one tensor to tf.stack"),t.length>0&&$(e<=t[0].rank,()=>"Axis must be <= rank of the tensor");let o=t,n={axis:e};return E.runKernel(Uc,o,n)}var Vt=T({stack_:V4});function U4(r,e=0){let o={x:w(r,"x","step")},n={alpha:e};return E.runKernel(Ol,o,n)}var Tp=T({step_:U4});function G4(r,e,t,o,n=0,s=0,i=0,a=0,u=0){let l={x:w(r,"x","stridedSlice","string_or_numeric")},p={begin:e,end:t,strides:o,beginMask:n,endMask:s,ellipsisMask:i,newAxisMask:a,shrinkAxisMask:u};return E.runKernel(wl,l,p)}var wy=T({stridedSlice_:G4});function z4(r){let t={x:w(r,"x","tan","float32")};return E.runKernel(Il,t)}var Sy=T({tan_:z4});function yt(r,e){_r(r);let t=At(r,e);if(t.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return jt(r,null,t,e)}function no(r,e,t){if(_r(r),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");let o=At(r,t);if(o.length!==2&&o.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(o.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return jt(r,e,o,t)}function Cp(r,e,t){if(_r(r),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");let o=At(r,t);if(o.length!==3&&o.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(o.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return jt(r,e,o,t)}function Ty(r,e,t){if(_r(r),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");let o=At(r,t);if(o.length!==4&&o.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(o.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return jt(r,e,o,t)}function Cy(r,e,t){if(_r(r),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");let o=At(r,t);if(o.length!==5&&o.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(o.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return jt(r,e,o,t)}function Iy(r,e,t){if(_r(r),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");let o=At(r,t);if(o.length!==6&&o.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(o.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||o,jt(r,e,o,t)}var Ip={};Ee(Ip,{calculateShapes:()=>kS,validateInput:()=>ea,validateUpdateShape:()=>Ey});function Ey(r,e,t){let o=e.rank>1?e.shape[e.rank-1]:1,n=e.rank>1?e.rank-1:1,s=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${t.shape}, indices.shape: ${e.shape}, shape: ${r}, sliceDim: ${o}, and batchDim: ${n}.`;if(t.rank<n)throw new Error(s+` update.rank < ${n}. `);if(r.length<o+(t.rank-n))throw new Error(s+` Output shape length < ${o+(t.rank-n)}`);if(t.rank!==n+r.length-o)throw new Error(s+` update.rank != ${n+r.length-o}`);for(let i=0;i<n;++i)if(t.shape[i]!==e.shape[i])throw new Error(s+` updates.shape[${i}] (${t.shape[i]}) != indices.shape[${i}] (${e.shape[i]}).`);for(let i=0;i<t.rank-n;++i)if(t.shape[i+n]!==r[i+o])throw new Error(s+` updates.shape[${i+n}] (${t.shape[i+n]}) != shape[${i+n}] (${r[i+n]})`)}function ea(r,e,t){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(r.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${r.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(t.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${t}`);if(t.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(r.size===0)throw new Error(`Updates specified for empty output. updates shape: ${r.shape}`)}Ey(t,e,r)}function kS(r,e,t){let o=e.shape.length,n=o>1?e.shape[o-1]:1,s=t.length,i=1;for(let p=n;p<s;++p)i*=t[p];let a=n<1?1:n,u=ge(e.shape)/a,c=[...wo(t.slice(0,n)),1],l=ge(t);return{sliceRank:n,numUpdates:u,sliceSize:i,strides:c,outputSize:l}}function W4(r,e,t){let o=w(r,"tensor","tensorScatterupdate"),n=w(e,"indices","tensorScatterupdate","int32"),s=w(t,"updates","tensorScatterupdate");if(ea(s,n,o.shape),o.dtype!==s.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${o.dtype} and ${s.dtype}.`);let i={tensor:o,indices:n,updates:s},a={};return E.runKernel(nl,i,a)}var Ny=T({tensorScatterUpdate_:W4});function H4(r,e=1,t=!0){let o=w(r,"x","topk");if(o.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");let n=o.shape[o.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>n)throw new Error(`'k' passed to topk() must be <= the last dimension (${n}) but got ${e}`);let s={x:o},i={k:e,sorted:t},[a,u]=E.runKernel(Nl,s,i);return{values:a,indices:u}}var $y=T({topk_:H4});function j4(r,e=0,t=1,o,n){if(Xe(r),o!=null&&o==="bool")throw new Error("Unsupported data type $ { dtype }");let s=new Gs(e,t,o,!0,n),i=xe(r,o);for(let a=0;a<i.values.length;a++)i.values[a]=s.nextValue();return i.toTensor()}var ky=T({truncatedNormal_:j4});function K4(r,e=0){let t=w(r,"x","unique","string_or_numeric");$(t.rank>0,()=>"The input tensor must be at least 1D");let o={x:t},n={axis:e},[s,i]=E.runKernel(kl,o,n);return{values:s,indices:i}}var Ay=T({unique_:K4});function q4(r,e,t){let o=w(r,"x","unsortedSegmentSum"),n=w(e,"segmentIds","unsortedSegmentSum","int32");$(zo(t),()=>"numSegments must be of dtype int");let s={x:o,segmentIds:n},i={numSegments:t};return E.runKernel(Rl,s,i)}var Ry=T({unsortedSegmentSum_:q4});function X4(r,e=0){let t=w(r,"x","unstack","string_or_numeric");$(e>=-t.shape.length&&e<t.shape.length,()=>`Axis = ${e} is not in [-${t.shape.length}, ${t.shape.length})`);let o={value:t},n={axis:e};return E.runKernel(Al,o,n)}var Ir=T({unstack_:X4});function _y(r,e){return Ji(r,e,"right")}function Oy(r,e=!0,t,o){return E.makeVariable(r,e,t,o)}function bm(r,e){let t=[];for(let s=0;s<e.length;s++)e[s]&&t.push(s);let o=xe(r,"int32"),n=xe([t.length,r.length],"int32");for(let s=0;s<t.length;s++){let i=o.indexToLoc(t[s]),a=s*r.length;n.values.set(i,a)}return n.toTensor()}async function Y4(r){let e=w(r,"condition","whereAsync","bool"),t=await e.data(),o=bm(e.shape,t);return r!==e&&e.dispose(),o}var Ep=Y4;async function Z4(r,e,t){let o=w(r,"tensor","boolMask"),n=w(e,"mask","boolMask","bool"),s=t??0,i=n.rank,a=o.shape;$(i>0,()=>"mask cannot be scalar"),He(a.slice(s,s+i),n.shape,"mask's shape must match the first K dimensions of tensor's shape,");let u=1;for(let x=s;x<s+i;x++)u*=a[x];let c=a.slice(0,s).concat([u],a.slice(s+i)),l=U(o,c),p=U(n,[-1]),f=await Ep(p),d=Xt(f,[1]),h=op(l,d,s);return r!==o&&o.dispose(),e!==n&&n.dispose(),d.dispose(),l.dispose(),p.dispose(),f.dispose(),h}var AS=Z4;function Q4(r,e,t){let o=w(r,"x","transpose");if(e==null&&(e=o.shape.map((i,a)=>a).reverse()),$(o.rank===e.length,()=>`Error in transpose: rank of input ${o.rank} must match length of perm ${e}.`),e.forEach(i=>{$(i>=0&&i<o.rank,()=>`All entries in 'perm' must be between 0 and ${o.rank-1} but got ${e}`)}),o.rank<=1)return o.clone();let n={x:o},s={perm:e};return o.dtype==="complex64"?te(()=>{let i=_o(o),a=rn(o);return i=E.runKernel(ks,{x:i},s),a=E.runKernel(ks,{x:a},s),t&&(a=Ct(a)),Ht(i,a)}):E.runKernel(ks,n,s)}var js=T({transpose_:Q4});function J4(r,e,t,o,n=!0){let s=w(r,"v","movingAverage"),i=w(e,"x","movingAverage"),a=w(t,"decay","movingAverage");lx(s,i),$(zt(s.shape,i.shape),()=>"Shape mismatch in v and x");let u=ne(1),c=ie(u,a),l=K(ie(i,s),c);if(n){$(o!=null,()=>"When using zeroDebias: true, step is required.");let p=w(o,"step","movingAverage");l=be(l,ie(u,ko(a,p)))}return J(s,l)}var RS=T({movingAverage_:J4});function eL(r,e,t){Xe(t);let o=w(r,"indices","scatterND","int32"),n=w(e,"updates","scatterND");ea(n,o,t);let s={indices:o,updates:n},i={shape:t};return E.runKernel(ol,s,i)}var _S=T({scatterND_:eL});function OS(r,e,t,o){if(r.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${r.dtype}.`);if(r.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${r.shape}.`);let n=r.rank>0?r.shape[0]:1,s=r.rank>1?r.shape[1]:1;if(t.length!==s)throw new Error(`outputShape has incorrect number of elements:, ${t.length}, should be: ${s}.`);let i=e.size;if(!(e.rank===0||e.rank===1&&i===n))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${n}]`);if(e.dtype!==o.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function rL(r,e,t,o=0){Xe(t);let n=w(r,"sparseIndices","sparseToDense","int32"),s=w(e,"sparseValues","sparseToDense","string_or_numeric"),i=w(o,"defaultValue","sparseToDense",s.dtype);OS(n,s,t,i);let a={sparseIndices:n,sparseValues:s,defaultValue:i},u={outputShape:t};return E.runKernel(vl,a,u)}var DS=T({sparseToDense_:rL});function oL(r,e){let t=w(e,"indices","gatherND","int32"),n={params:w(r,"x","gatherND","string_or_numeric"),indices:t};return E.runKernel(dc,n)}var FS=T({gatherND_:oL});function PS(r,e){if(e==null)return r.shape.slice();if(zt(r.shape,e))return e;if(r.shape.length===e.length){let t=[];for(let o=0;o<r.shape.length;o++)e[o]==null&&r.shape[o]!=null?t.push(r.shape[o]):t.push(e[o]);return t}return e}function nL(r,e,t,o){let n=w(r,"x","dropout");if($(n.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${n.dtype} tensor instead.`),$(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return r instanceof ye?n.clone():n;let s=PS(n,t),i=1-e,a=be(rp(J(zs(s,0,1,"float32",o),i)),i);return K(n,a)}var LS=T({dropout_:nL});function vm(r){return Math.floor(Math.pow(2,Math.ceil(Math.log(r)/Math.log(2))))}function ta(r,e,t){let o=1-r%2,n=new Float32Array(r);for(let s=0;s<r;++s){let i=2*Math.PI*s/(r+o-1);n[s]=e-t*Math.cos(i)}return yt(n,"float32")}async function sL(r,e,t=1){let o=w(r,"predictions","inTopK"),n=w(e,"targets","inTopK");$(o.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${o.rank}`),$(o.rank-1===n.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${o.rank} and targets rank ${n.rank}`),He(o.shape.slice(0,o.shape.length-1),n.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");let s=o.shape[o.shape.length-1];$(t>0&&t<=s,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${s}), but got ${t}`);let i=await o.data(),a=await n.data(),[u,c]=[i.length/s,s],l=Pg("bool",u);for(let p=0;p<u;p++){let f=p*c,d=i.subarray(f,f+c),h=[];for(let x=0;x<d.length;x++)h.push({value:d[x],index:x});h.sort((x,g)=>g.value-x.value),l[p]=0;for(let x=0;x<t;x++)if(h[x].index===a[p]){l[p]=1;break}}return r!==o&&o.dispose(),e!==n&&n.dispose(),St(l,n.shape,"bool")}var BS=sL;var wm={};Ee(wm,{conv2d:()=>VS,depthwiseConv2d:()=>zS,matMul:()=>WS});function iL(r,e,t,o,n,s="NHWC",i){let a=r;r.rank===3&&(a=U(r,[1,r.shape[0],r.shape[1],r.shape[2]]));let u=e;u.rank===3&&(u=U(e,[1,e.shape[0],e.shape[1],e.shape[2]])),$(a.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${a.shape}.`),$(u.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${u.shape}.`),$(t.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${t}.`);let c=s==="NHWC"?a.shape[3]:a.shape[1],l=s==="NHWC"?u.shape[3]:u.shape[1];$(c===t[2],()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${t[2]}.`),$(l===t[3],()=>`Error in conv2dDerFilter: depth of dy (${l}) must match output depth for filter (${t[3]}).`),ut("conv2dDerFilter",n,i);let p={x:a,dy:u},f={strides:o,pad:n,dataFormat:s,dimRoundingMode:i,filterShape:t};return E.runKernel(Gu,p,f)}var MS=T({conv2DBackpropFilter_:iL});function Ks(r,e,t){if(t==null||t==="linear")return r;if(t==="relu")return K(r,Tp(e));throw new Error(`Cannot compute gradient for fused activation ${t}.`)}function qs(r,e){let t=e,o=pm(r.shape,e.shape);return o.length>0&&(t=_e(t,o)),U(t,r.shape)}function Xs(r,e,t,o){if(e==="linear")return r;if(e==="relu")return on(r);if(e==="elu")return ep(r);if(e==="relu6")return bp(r);if(e==="prelu")return xp(r,t);if(e==="leakyrelu")return sp(r,o);if(e==="sigmoid")return ar(r);throw new Error(`Unknown fused activation ${e}.`)}var Ys=(r,e)=>!(r>0)||e==="linear";function aL({x:r,filter:e,strides:t,pad:o,dataFormat:n="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:a,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:l}){if(u=u||"linear",Ys(E.state.gradientDepth,u)===!1){$(n==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${n} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let L=Zo(r,e,t,o,n,s,i);return a!=null&&(L=J(L,a)),Xs(L,u,c,l)}let p=w(r,"x","conv2d","float32"),f=w(e,"filter","conv2d","float32"),d=p,h=!1;p.rank===3&&(h=!0,d=U(p,[1,p.shape[0],p.shape[1],p.shape[2]])),$(d.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${d.rank}.`),$(f.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${f.rank}.`),ut("fused conv2d",o,i);let x=n==="NHWC"?d.shape[3]:d.shape[1];$(f.shape[2]===x,()=>`Error in conv2d: depth of input (${x}) must match input depth for filter ${f.shape[2]}.`),$(Bt(t,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${t} and dilations '${s}'`);let g=Bs(d.shape,f.shape,t,s,o,i),b;a!=null&&(b=w(a,"bias","fused conv2d"),[b]=de(b,p),n==="NHWC"?Re(g.outShape,b.shape):($(b.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${b.shape.length}.`),$(b.shape.length===0||b.shape[0]===g.outChannels||b.shape[0]===1,()=>`Error in fused conv2d: bias shape (${b.shape}) is not compatible with the number of output channels (${g.outChannels})`)));let C;if(c!=null){let L=c.shape;if($(L.length<=1||L.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${L.length}.`),L.length===1)$(L[0]===1||L[0]===g.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${L}) is not compatible with the number of output channels (${g.outChannels}).`);else if(L.length===3)try{Re(L,g.outShape)}catch{let V=`Error in fused conv2d: PReLU activation weights (${L}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(V)}C=w(c,"prelu weights","fused conv2d")}let k=(L,M)=>{$(n==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${n} but only NHWC is currently supported.`);let[V,z,W,H]=M,X=Ks(L,W,u);$(Ls(s),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`);let oe=lm(z.shape,X,V,t,o),ae=MS(z,X,V.shape,t,o),ce=[oe,ae];if(H!=null){let Se=qs(H,X);ce.push(Se)}return ce},A={x:d,filter:f,bias:b,preluActivationWeights:C},D={strides:t,pad:o,dataFormat:n,dilations:s,dimRoundingMode:i,activation:u,leakyreluAlpha:l};return a==null?Mt((M,V,z)=>{let W=E.runKernel(Bi,A,D);return z([V,M,W]),h&&(W=U(W,[W.shape[1],W.shape[2],W.shape[3]])),{value:W,gradFunc:k}})(d,f):Mt((M,V,z,W)=>{let H=E.runKernel(Bi,A,D);return W([V,M,H,z]),h&&(H=U(H,[H.shape[1],H.shape[2],H.shape[3]])),{value:H,gradFunc:k}})(d,f,b)}var VS=T({fusedConv2d_:aL});function uL(r,e,t,o,n,s=[1,1],i){let a=r;r.rank===3&&(a=U(r,[1,r.shape[0],r.shape[1],r.shape[2]]));let u=e;u.rank===3&&(u=U(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let c={x:a,dy:u},l={strides:o,pad:n,dimRoundingMode:i,dilations:s,filterShape:t};return E.runKernel(ec,c,l)}var US=T({depthwiseConv2dNativeBackpropFilter_:uL});function cL(r,e,t,o,n,s=[1,1],i){let a=e,u=!1;e.rank===3&&(u=!0,a=U(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let c={dy:a,filter:t},l={strides:o,pad:n,dimRoundingMode:i,dilations:s,inputShape:r},p=E.runKernel(tc,c,l);return u?U(p,[p.shape[1],p.shape[2],p.shape[3]]):p}var GS=T({depthwiseConv2dNativeBackpropInput_:cL});function lL({x:r,filter:e,strides:t,pad:o,dataFormat:n="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:a,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:l}){if(Ys(E.state.gradientDepth,u)===!1){let D=Ms(r,e,t,o,n,s,i);return a!=null&&(D=J(D,a)),Xs(D,u,c,l)}let p=w(r,"x","depthwiseConv2d","float32"),f=w(e,"filter","depthwiseConv2d","float32"),d=p,h=!1;p.rank===3&&(h=!0,d=U(p,[1,p.shape[0],p.shape[1],p.shape[2]])),$(d.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${d.rank}.`),$(f.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`),$(d.shape[3]===f.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${d.shape[3]}) must match the inChannels dimension in filter ${f.shape[2]}.`),s==null&&(s=[1,1]),$(Bt(t,s),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${t} and dilations '${s}'`),ut("fused depthwiseConv2d",o,i);let x=Bs(d.shape,f.shape,t,s,o,i,!0),g;a!=null&&(g=w(a,"bias","fused conv2d"),[g]=de(g,p),Re(x.outShape,g.shape));let b;c!=null&&(b=w(c,"prelu weights","fused depthwiseConv2d"));let C=(D,L)=>{$(Ls(s),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`);let[M,V,z,W]=L,H=Ks(D,z,u),X=GS(V.shape,H,M,t,o,s,i),oe=US(V,H,M.shape,t,o,s,i);if(W!=null){let ae=qs(g,H);return[X,oe,ae]}return[X,oe]},k={x:d,filter:f,bias:g,preluActivationWeights:b},A={strides:t,pad:o,dataFormat:n,dilations:s,dimRoundingMode:i,activation:u,leakyreluAlpha:l};return a==null?Mt((L,M,V)=>{let z=E.runKernel(Mi,k,A);return V([M,L,z]),h&&(z=U(z,[z.shape[1],z.shape[2],z.shape[3]])),{value:z,gradFunc:C}})(d,f):Mt((L,M,V,z)=>{let W=E.runKernel(Mi,k,A);return z([M,L,W,V]),h&&(W=U(W,[W.shape[1],W.shape[2],W.shape[3]])),{value:W,gradFunc:C}})(d,f,g)}var zS=T({fusedDepthwiseConv2d_:lL});function pL({a:r,b:e,transposeA:t=!1,transposeB:o=!1,bias:n,activation:s="linear",preluActivationWeights:i,leakyreluAlpha:a=.2}){if(Ys(E.state.gradientDepth,s)===!1){let H=we(r,e,t,o);return n!=null&&(H=J(H,n)),Xs(H,s,i,a)}let u=w(r,"a","fused matMul"),c=w(e,"b","fused matMul");[u,c]=de(u,c);let l=t?u.shape[u.rank-2]:u.shape[u.rank-1],p=o?c.shape[c.rank-1]:c.shape[c.rank-2],f=t?u.shape[u.rank-1]:u.shape[u.rank-2],d=o?c.shape[c.rank-2]:c.shape[c.rank-1],h=u.shape.slice(0,-2),x=c.shape.slice(0,-2),g=ge(h),b=ge(x);$(l===p,()=>`Error in fused matMul: inner shapes (${l}) and (${p}) of Tensors with shapes ${u.shape} and ${c.shape} and transposeA=${t} and transposeB=${o} must match.`);let k=Re(u.shape.slice(0,-2),c.shape.slice(0,-2)).concat([f,d]),A=t?U(u,[g,l,f]):U(u,[g,f,l]),D=o?U(c,[b,d,p]):U(c,[b,p,d]),L;n!=null&&(L=w(n,"bias","fused matMul"),[L]=de(L,u),Re(k,L.shape));let M;i!=null&&(M=w(i,"prelu weights","fused matMul"));let V=(H,X)=>{let[oe,ae,ce,Se]=X,Ie=Ks(U(H,ce.shape),ce,s),Oe,Me;if(!t&&!o?(Oe=we(Ie,ae,!1,!0),Me=we(oe,Ie,!0,!1)):!t&&o?(Oe=we(Ie,ae,!1,!1),Me=we(Ie,oe,!0,!1)):t&&!o?(Oe=we(ae,Ie,!1,!0),Me=we(oe,Ie,!1,!1)):(Oe=we(ae,Ie,!0,!0),Me=we(Ie,oe,!0,!0)),n!=null){let Te=qs(Se,Ie);return[Oe,Me,Te]}else return[Oe,Me]},z={a:A,b:D,bias:L,preluActivationWeights:M},W={transposeA:t,transposeB:o,activation:s,leakyreluAlpha:a};return n==null?Mt((X,oe,ae)=>{let ce=E.runKernel(Li,z,W);return ae([X,oe,ce]),{value:U(ce,k),gradFunc:V}})(A,D):Mt((X,oe,ae,ce)=>{let Se=E.runKernel(Li,z,W);return ce([X,oe,Se,ae]),{value:U(Se,k),gradFunc:V}})(A,D,L)}var WS=T({fusedMatMul_:pL});function fL(r){return ta(r,.54,.46)}var HS=T({hammingWindow_:fL});function mL(r){return ta(r,.5,.5)}var Sm=T({hannWindow_:mL});function dL(r,e,t,o=!1,n=0){let s=0,i=[];for(;s+e<=r.size;)i.push(ve(r,s,e)),s+=t;if(o)for(;s<r.size;){let a=s+e-r.size,u=We([ve(r,s,e-a),to([a],n)]);i.push(u),s+=t}return i.length===0?no([],[0,e]):U(We(i),[i.length,e])}var Tm=T({frame_:dL});function hL(r,e,t,o,n=Sm){o==null&&(o=vm(e));let s=Tm(r,e,t),i=K(s,n(e));return Hs(i,o)}var jS=T({stft_:hL});function gL(r,e,t,o,n="bilinear",s=0){let i=w(r,"image","cropAndResize"),a=w(e,"boxes","cropAndResize","float32"),u=w(t,"boxInd","cropAndResize","int32"),c=a.shape[0];$(i.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`),$(a.rank===2&&a.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${a.shape}.`),$(u.rank===1&&u.shape[0]===c,()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${a.shape}.`),$(o.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${o.length}.`),$(o[0]>=1&&o[1]>=1,()=>`cropSize must be atleast [1,1], but was ${o}`),$(n==="bilinear"||n==="nearest",()=>`method must be bilinear or nearest, but was ${n}`);let l={image:i,boxes:a,boxInd:u},p={method:n,extrapolationValue:s,cropSize:o};return E.runKernel(Yu,l,p)}var KS=T({cropAndResize_:gL});function xL(r){let e=w(r,"image","flipLeftRight","float32");$(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);let t={image:e};return E.runKernel(pc,t,{})}var qS=T({flipLeftRight_:xL});function yL(r){let e=w(r,"image","grayscaleToRGB"),t=e.rank-1,o=e.shape[t];$(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),$(o===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${o}.`);let n=new Array(e.rank);return n.fill(1,0,t),n[t]=3,tn(e,n)}var XS=T({grayscaleToRGB_:yL});function bL(r){let e=w(r,"image","RGBToGrayscale"),t=e.rank-1,o=e.shape[t];$(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),$(o===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${o}.`);let n=e.dtype,s=le(e,"float32"),i=yt([.2989,.587,.114]),a;switch(e.rank){case 2:a=Jo("ij,j->i",s,i);break;case 3:a=Jo("ijk,k->ij",s,i);break;case 4:a=Jo("ijkl,l->ijk",s,i);break;case 5:a=Jo("ijklm,m->ijkl",s,i);break;case 6:a=Jo("ijklmn,n->ijklm",s,i);break;default:throw new Error("Not a valid tensor rank.")}return a=Tt(a,-1),le(a,n)}var YS=T({rgbToGrayscale_:bL});function vL(r,e,t=0,o=.5){let n=w(r,"image","rotateWithOffset","float32");$(n.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${n.rank}.`);let s={image:n},i={radians:e,fillValue:t,center:o};return E.runKernel(Dl,s,i)}var ZS=T({rotateWithOffset_:vL});function Wr(r,e,t,o,n,s){o==null&&(o=.5),n==null&&(n=Number.NEGATIVE_INFINITY),s==null&&(s=0);let i=r.shape[0];return t=Math.min(t,i),$(0<=o&&o<=1,()=>`iouThreshold must be in [0, 1], but was '${o}'`),$(r.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${r.rank}'`),$(r.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${r.shape[1]}`),$(e.rank===1,()=>"scores must be a 1D tensor"),$(e.shape[0]===i,()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${e.shape[0]}`),$(0<=s&&s<=1,()=>`softNmsSigma must be in [0, 1], but was '${s}'`),{maxOutputSize:t,iouThreshold:o,scoreThreshold:n,softNmsSigma:s}}function wL(r,e,t,o=.5,n=Number.NEGATIVE_INFINITY){let s=w(r,"boxes","nonMaxSuppression","float32"),i=w(e,"scores","nonMaxSuppression","float32"),a=Wr(s,i,t,o,n);t=a.maxOutputSize,o=a.iouThreshold,n=a.scoreThreshold;let u={maxOutputSize:t,iouThreshold:o,scoreThreshold:n};return E.runKernel(Pc,{boxes:s,scores:i},u)}var QS=T({nonMaxSuppression_:wL});function JS(r,e,t){let o=SL(r,e,t),n=o<0?-(o+1):o;r.splice(n,0,e)}function SL(r,e,t){return CL(r,e,t||TL)}function TL(r,e){return r>e?1:r<e?-1:0}function CL(r,e,t){let o=0,n=r.length,s=0,i=!1;for(;o<n;){s=o+(n-o>>>1);let a=t(e,r[s]);a>0?o=s+1:(n=s,i=!a)}return i?o:-o-1}function Cm(r,e,t,o,n){return Dy(r,e,t,o,n,0)}function Im(r,e,t,o,n,s){return Dy(r,e,t,o,n,0,!1,s,!0)}function Em(r,e,t,o,n,s){return Dy(r,e,t,o,n,s,!0)}function Dy(r,e,t,o,n,s,i=!1,a=!1,u=!1){let c=[];for(let g=0;g<e.length;g++)e[g]>n&&c.push({score:e[g],boxIndex:g,suppressBeginIndex:0});c.sort(eT);let l=s>0?-.5/s:0,p=[],f=[];for(;p.length<t&&c.length>0;){let g=c.pop(),{score:b,boxIndex:C,suppressBeginIndex:k}=g;if(b<n)break;let A=!1;for(let D=p.length-1;D>=k;--D){let L=IL(r,C,p[D]);if(L>=o){A=!0;break}if(g.score=g.score*EL(o,l,L),g.score<=n)break}g.suppressBeginIndex=p.length,A||(g.score===b?(p.push(C),f.push(g.score)):g.score>n&&JS(c,g,eT))}let d=p.length,h=t-d;a&&h>0&&(p.push(...new Array(h).fill(0)),f.push(...new Array(h).fill(0)));let x={selectedIndices:p};return i&&(x.selectedScores=f),u&&(x.validOutputs=d),x}function IL(r,e,t){let o=r.subarray(e*4,e*4+4),n=r.subarray(t*4,t*4+4),s=Math.min(o[0],o[2]),i=Math.min(o[1],o[3]),a=Math.max(o[0],o[2]),u=Math.max(o[1],o[3]),c=Math.min(n[0],n[2]),l=Math.min(n[1],n[3]),p=Math.max(n[0],n[2]),f=Math.max(n[1],n[3]),d=(a-s)*(u-i),h=(p-c)*(f-l);if(d<=0||h<=0)return 0;let x=Math.max(s,c),g=Math.max(i,l),b=Math.min(a,p),C=Math.min(u,f),k=Math.max(b-x,0)*Math.max(C-g,0);return k/(d+h-k)}function EL(r,e,t){let o=Math.exp(e*t*t);return t<=r?o:0}function eT(r,e){return r.score-e.score||r.score===e.score&&e.boxIndex-r.boxIndex}async function NL(r,e,t,o=.5,n=Number.NEGATIVE_INFINITY){let s=w(r,"boxes","nonMaxSuppressionAsync"),i=w(e,"scores","nonMaxSuppressionAsync"),a=Wr(s,i,t,o,n);t=a.maxOutputSize,o=a.iouThreshold,n=a.scoreThreshold;let u=await Promise.all([s.data(),i.data()]),c=u[0],l=u[1],{selectedIndices:p}=Cm(c,l,t,o,n);return s!==r&&s.dispose(),i!==e&&i.dispose(),yt(p,"int32")}var tT=NL;function $L(r,e,t,o=.5,n=Number.NEGATIVE_INFINITY,s=0){let i=w(r,"boxes","nonMaxSuppression"),a=w(e,"scores","nonMaxSuppression"),u=Wr(i,a,t,o,n,s);t=u.maxOutputSize,o=u.iouThreshold,n=u.scoreThreshold,s=u.softNmsSigma;let c={boxes:i,scores:a},l={maxOutputSize:t,iouThreshold:o,scoreThreshold:n,softNmsSigma:s},p=E.runKernel(Bc,c,l);return{selectedIndices:p[0],selectedScores:p[1]}}var rT=T({nonMaxSuppressionWithScore_:$L});async function kL(r,e,t,o=.5,n=Number.NEGATIVE_INFINITY,s=0){let i=w(r,"boxes","nonMaxSuppressionAsync"),a=w(e,"scores","nonMaxSuppressionAsync"),u=Wr(i,a,t,o,n,s);t=u.maxOutputSize,o=u.iouThreshold,n=u.scoreThreshold,s=u.softNmsSigma;let c=await Promise.all([i.data(),a.data()]),l=c[0],p=c[1],{selectedIndices:f,selectedScores:d}=Em(l,p,t,o,n,s);return i!==r&&i.dispose(),a!==e&&a.dispose(),{selectedIndices:yt(f,"int32"),selectedScores:yt(d)}}var oT=kL;function AL(r,e,t,o=.5,n=Number.NEGATIVE_INFINITY,s=!1){let i=w(r,"boxes","nonMaxSuppression"),a=w(e,"scores","nonMaxSuppression"),u=Wr(i,a,t,o,n,null),c=u.maxOutputSize,l=u.iouThreshold,p=u.scoreThreshold,f={boxes:i,scores:a},d={maxOutputSize:c,iouThreshold:l,scoreThreshold:p,padToMaxOutputSize:s},h=E.runKernel(Lc,f,d);return{selectedIndices:h[0],validOutputs:h[1]}}var nT=T({nonMaxSuppressionPadded_:AL});async function RL(r,e,t,o=.5,n=Number.NEGATIVE_INFINITY,s=!1){let i=w(r,"boxes","nonMaxSuppressionAsync"),a=w(e,"scores","nonMaxSuppressionAsync"),u=Wr(i,a,t,o,n,null),c=u.maxOutputSize,l=u.iouThreshold,p=u.scoreThreshold,[f,d]=await Promise.all([i.data(),a.data()]),{selectedIndices:h,validOutputs:x}=Im(f,d,c,l,p,s);return i!==r&&i.dispose(),a!==e&&a.dispose(),{selectedIndices:yt(h,"int32"),validOutputs:ne(x,"int32")}}var sT=RL;function _L(r,e,t=!1,o=!1){let n=w(r,"images","resizeBilinear");$(n.rank===3||n.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${n.rank}.`),$(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),$(o===!1||t===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let s=n,i=!1;n.rank===3&&(i=!0,s=U(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let[]=e,a={images:s},u={alignCorners:t,halfPixelCenters:o,size:e},c=E.runKernel(Jc,a,u);return i?U(c,[c.shape[1],c.shape[2],c.shape[3]]):c}var iT=T({resizeBilinear_:_L});function OL(r,e,t=!1,o=!1){let n=w(r,"images","resizeNearestNeighbor");$(n.rank===3||n.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${n.rank}.`),$(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),$(n.dtype==="float32"||n.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),$(o===!1||t===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let s=n,i=!1;n.rank===3&&(i=!0,s=U(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let[]=e,a={images:s},u={alignCorners:t,halfPixelCenters:o,size:e},c=E.runKernel(Qc,a,u);return i?U(c,[c.shape[1],c.shape[2],c.shape[3]]):c}var aT=T({resizeNearestNeighbor_:OL});function DL(r,e="binary",t=!1,o=.5){let n=w(r,"image","threshold"),s=.2989,i=.587,a=.114,u=n.shape[0]*n.shape[1],c=K(yt([o]),255),l,p,f,d;if($(n.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${n.rank}.`),$(n.shape[2]===3||n.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${n.shape[2]}.`),$(n.dtype==="int32"||n.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${n.dtype}.`),$(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),n.shape[2]===3){[l,p,f]=Oo(n,[1,1,1],-1);let g=K(l,s),b=K(p,i),C=K(f,a);d=J(J(g,b),C)}else d=r;if(e==="otsu"){let g=Jl(le(vp(d),"int32"),St([]),256);c=FL(g,u)}let h=t?Vs(d,c):Ao(d,c);return le(K(h,255),"int32")}function FL(r,e){let t=yt([-1]),o=yt([0]),n=yt([0]),s,i,a,u,c,l;for(let p=0;p<r.size-1;p++){s=ve(r,0,p+1),i=ve(r,p+1),c=be(_e(s),e),l=be(_e(i),e);let f=_e(K(s,zr(0,s.size)));a=be(f,_e(s));let d=to(i.shape,s.size),h=J(zr(0,i.size),d),x=K(i,h);u=be(_e(x),_e(i));let g=ie(a,u),b=ie(a,u),C=K(c,l);n=K(K(C,g),b);let k=Ao(n,o);o=Tr(k,n,o),t=Tr(k,yt([p]),t)}return t}var uT=T({threshold_:DL});function PL(r,e,t="nearest",o="constant",n=0,s){let i=w(r,"image","transform","float32"),a=w(e,"transforms","transform","float32");$(i.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`),$(a.rank===2&&(a.shape[0]===i.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),$(s==null||s.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${s}.`);let u={image:i,transforms:a},c={interpolation:t,fillMode:o,fillValue:n,outputShape:s};return E.runKernel($l,u,c)}var cT=T({transform_:PL});function LL(r,e,t){let o=w(r,"a","bandPart");$(o.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${o.rank}.`);let n=o.shape,[s,i]=o.shape.slice(-2),a,u;typeof e=="number"?($(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),$(e<=s,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${s}).`),a=w(e<0?s:e,"numLower","bandPart")):($(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=Tr(Qi(e,0),s,Nn(e,s))),typeof t=="number"?($(t%1===0,()=>`bandPart(): numUpper must be an integer, got ${t}.`),$(t<=i,()=>`bandPart(): numUpper (${t}) must not be greater than the number of columns (${i}).`),u=w(t<0?i:t,"numUpper","bandPart")):($(t.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),u=Tr(Qi(t,0),i,Nn(t,i)));let c=U(zr(0,s,1,"int32"),[-1,1]),l=zr(0,i,1,"int32"),p=ie(c,l),f=In(Vs(p,a),np(p,Ct(u))),d=Fr([s,i],o.dtype);return U(Vt(Ir(U(o,[-1,s,i])).map(h=>Tr(f,h,d))),n)}var lT=T({bandPart_:LL});function BL(r){let e;if(Array.isArray(r)){e=!1,$(r!=null&&r.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");let n=r[0].shape[0];for(let s=1;s<r.length;++s)$(r[s].shape[0]===n,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${r[s].shape[0]} vs. ${n})`)}else e=!0,r=Oo(r,r.shape[0],0).map(n=>Xt(n,[0]));$(r.length<=r[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${r.length}) exceeds number of dimensions (${r[0].shape[0]}).`);let t=[],o=r;for(let n=0;n<r.length;++n)t.push(E.tidy(()=>{let s=o[n];if(n>0)for(let i=0;i<n;++i){let a=K(_e(K(t[i],s)),t[i]);s=ie(s,a)}return be(s,Cn(s,"euclidean"))}));return e?Vt(t,0):t}var pT=T({gramSchmidt_:BL});function ML(r,e=!1){if($(r.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${r.rank}`),r.rank===2)return fT(r,e);{let t=r.shape.slice(0,r.shape.length-2).reduce((u,c)=>u*c),o=Ir(U(r,[t,r.shape[r.shape.length-2],r.shape[r.shape.length-1]]),0),n=[],s=[];o.forEach(u=>{let[c,l]=fT(u,e);n.push(c),s.push(l)});let i=U(Vt(n,0),r.shape),a=U(Vt(s,0),r.shape);return[i,a]}}function fT(r,e=!1){return E.tidy(()=>{$(r.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${r.shape.length}D Tensor.`);let t=r.shape[0],o=r.shape[1],n=tp(t),s=ir(r),i=no([[1]],[1,1]),a=ir(i),u=t>=o?o:t;for(let c=0;c<u;++c){let l=s,p=a,f=n;[a,s,n]=E.tidy(()=>{let d=ve(s,[c,c],[t-c,1]),h=Cn(d),x=ve(s,[c,c],[1,1]),g=Tr(Ao(x,0),no([[-1]]),no([[1]])),b=ie(x,K(g,h)),C=be(d,b);C.shape[0]===1?a=ir(i):a=We([i,ve(C,[1,0],[C.shape[0]-1,C.shape[1]])],0);let k=Ct(be(we(g,b),h)),A=ve(s,[c,0],[t-c,o]),D=K(k,a),L=js(a);if(c===0)s=ie(A,we(D,we(L,A)));else{let z=ie(A,we(D,we(L,A)));s=We([ve(s,[0,0],[c,o]),z],0)}let M=js(D),V=ve(n,[0,c],[t,n.shape[1]-c]);if(c===0)n=ie(V,we(we(V,a),M));else{let z=ie(V,we(we(V,a),M));n=We([ve(n,[0,0],[t,c]),z],1)}return[a,s,n]}),ot([l,p,f])}return!e&&t>o&&(n=ve(n,[0,0],[t,o]),s=ve(s,[0,0],[o,o])),[n,s]})}var mT=T({qr_:ML});var tt;(function(r){r[r.NONE=0]="NONE",r[r.MEAN=1]="MEAN",r[r.SUM=2]="SUM",r[r.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(tt||(tt={}));function VL(r,e,t=tt.SUM_BY_NONZERO_WEIGHTS){let o=w(r,"losses","computeWeightedLoss"),n=null;e!=null&&(n=w(e,"weights","computeWeightedLoss"));let s=n==null?o:K(o,n);if(t===tt.NONE)return s;if(t===tt.SUM)return _e(s);if(t===tt.MEAN){if(n==null)return En(s);{let i=o.size/n.size,a=be(_e(s),_e(n));return i>1?be(a,ne(i)):a}}if(t===tt.SUM_BY_NONZERO_WEIGHTS){if(n==null)return be(_e(s),ne(o.size));{let i=K(n,oo(o.shape)),a=le(_e(dp(i,ne(0))),"float32");return be(_e(s),a)}}throw Error(`Unknown reduction: ${t}`)}var _t=T({computeWeightedLoss_:VL});function UL(r,e,t,o=tt.SUM_BY_NONZERO_WEIGHTS){let n=w(r,"labels","absoluteDifference"),s=w(e,"predictions","absoluteDifference"),i=null;t!=null&&(i=w(t,"weights","absoluteDifference")),He(n.shape,s.shape,"Error in absoluteDifference: ");let a=gt(ie(n,s));return _t(a,i,o)}var dT=T({absoluteDifference_:UL});function GL(r,e,t,o,n=tt.SUM_BY_NONZERO_WEIGHTS){let s=w(r,"labels","cosineDistance"),i=w(e,"predictions","cosineDistance"),a=null;o!=null&&(a=w(o,"weights","cosineDistance")),He(s.shape,i.shape,"Error in cosineDistance: ");let u=ne(1),c=ie(u,_e(K(s,i),t,!0));return _t(c,a,n)}var hT=T({cosineDistance_:GL});function zL(r,e,t,o=tt.SUM_BY_NONZERO_WEIGHTS){let n=w(r,"labels","hingeLoss"),s=w(e,"predictions","hingeLoss"),i=null;t!=null&&(i=w(t,"weights","hingeLoss")),He(n.shape,s.shape,"Error in hingeLoss: ");let a=ne(1);n=ie(K(ne(2),n),a);let u=on(ie(a,K(n,s)));return _t(u,i,o)}var gT=T({hingeLoss_:zL});function WL(r,e,t,o=1,n=tt.SUM_BY_NONZERO_WEIGHTS){let s=w(r,"labels","huberLoss"),i=w(e,"predictions","huberLoss"),a=null;t!=null&&(a=w(t,"weights","huberLoss")),He(s.shape,i.shape,"Error in huberLoss: ");let u=ne(o),c=gt(ie(i,s)),l=Nn(c,u),p=ie(c,l),f=J(K(ne(.5),xt(l)),K(u,p));return _t(f,a,n)}var xT=T({huberLoss_:WL});function HL(r,e,t,o=1e-7,n=tt.SUM_BY_NONZERO_WEIGHTS){let s=w(r,"labels","logLoss"),i=w(e,"predictions","logLoss"),a=null;t!=null&&(a=w(t,"weights","logLoss")),He(s.shape,i.shape,"Error in logLoss: ");let u=ne(1),c=ne(o),l=Ct(K(s,Ro(J(i,c)))),p=K(ie(u,s),Ro(J(ie(u,i),c))),f=ie(l,p);return _t(f,a,n)}var yT=T({logLoss_:HL});function jL(r,e,t,o=tt.SUM_BY_NONZERO_WEIGHTS){let n=w(r,"labels","meanSquaredError"),s=w(e,"predictions","meanSquaredError"),i=null;t!=null&&(i=w(t,"weights","meanSquaredError")),He(n.shape,s.shape,"Error in meanSquaredError: ");let a=Sp(n,s);return _t(a,i,o)}var bT=T({meanSquaredError_:jL});function KL(r,e){let t=w(r,"labels","sigmoidCrossEntropyWithLogits"),o=w(e,"logits","sigmoidCrossEntropyWithLogits");He(t.shape,o.shape,"Error in sigmoidCrossEntropyWithLogits: ");let n=on(o),s=K(o,t),i=ip(Dr(Ct(gt(o))));return J(ie(n,s),i)}function qL(r,e,t,o=0,n=tt.SUM_BY_NONZERO_WEIGHTS){let s=w(r,"multiClassLabels","sigmoidCrossEntropy"),i=w(e,"logits","sigmoidCrossEntropy"),a=null;if(t!=null&&(a=w(t,"weights","sigmoidCrossEntropy")),He(s.shape,i.shape,"Error in sigmoidCrossEntropy: "),o>0){let c=ne(o),l=ne(1),p=ne(.5);s=J(K(s,ie(l,c)),K(p,c))}let u=KL(s,i);return _t(u,a,n)}var vT=T({sigmoidCrossEntropy_:qL});function XL(r,e,t=-1){if(t===-1&&(t=e.rank-1),t!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${t}`);return Mt((n,s,i)=>{let u=up(s,[t],!0),c=ie(le(s,"float32"),u);i([n,c]);let l=Ct(K(c,n));return{value:_e(l,[t]),gradFunc:(d,h)=>{let[x,g]=h,b=en(d.shape,[t]);return[K(U(d,b),ie(le(x,"float32"),Dr(g))),K(U(d,b),ie(Dr(g),le(x,"float32")))]}}})(r,e)}function YL(r,e,t,o=0,n=tt.SUM_BY_NONZERO_WEIGHTS){let s=w(r,"onehotLabels","softmaxCrossEntropy"),i=w(e,"logits","softmaxCrossEntropy"),a=null;if(t!=null&&(a=w(t,"weights","softmaxCrossEntropy")),He(s.shape,i.shape,"Error in softmaxCrossEntropy: "),o>0){let c=ne(o),l=ne(1),p=ne(s.shape[1]);s=J(K(s,ie(l,c)),be(c,p))}let u=XL(s,i);return _t(u,a,n)}var wT=T({softmaxCrossEntropy_:YL});function ZL(r,e,t,o){let n=w(r,"indices","sparseFillEmptyRows","int32"),s=w(e,"values","sparseFillEmptyRows"),i=w(t,"denseShape","sparseFillEmptyRows","int32"),a=w(o,"defaultValue","sparseFillEmptyRows",s.dtype);if(n.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${n.shape}`);if(s.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${s.shape}`);if(i.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(a.rank!==0)throw new Error(`Default value should be a scalar but received shape ${a.shape}`);let u={indices:n,values:s,denseShape:i,defaultValue:a},c=E.runKernel(gl,u);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}var ST=T({sparseFillEmptyRows_:ZL});function QL(r,e,t){let o=w(r,"inputIndices","sparseReshape","int32"),n=w(e,"inputShape","sparseReshape","int32"),s=w(t,"newShape","sparseReshape","int32");if(o.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${o.shape}`);if(n.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${n.shape}`);if(s.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${s.shape}`);let i={inputIndices:o,inputShape:n,newShape:s},a=E.runKernel(xl,i);return{outputIndices:a[0],outputShape:a[1]}}var TT=T({sparseReshape_:QL});function JL(r,e,t){let o=w(r,"data","sparseSegmentMean"),n=w(e,"indices","sparseSegmentMean","int32"),s=w(t,"segmentIds","sparseSegmentMean","int32");if(o.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(n.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${n.shape}`);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${s.shape}`);let i={data:o,indices:n,segmentIds:s};return E.runKernel(yl,i)}var CT=T({sparseSegmentMean_:JL});function eB(r,e,t){let o=w(r,"data","sparseSegmentSum"),n=w(e,"indices","sparseSegmentSum","int32"),s=w(t,"segmentIds","sparseSegmentSum","int32");if(o.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(n.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${n.shape}`);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${s.shape}`);let i={data:o,indices:n,segmentIds:s};return E.runKernel(bl,i)}var IT=T({sparseSegmentSum_:eB});function tB(r,e,t,o,n,s,i,a){let u=w(r,"data","stringNGrams","string");if(u.dtype!=="string")throw new Error("Data must be of datatype string");if(u.shape.length!==1)throw new Error(`Data must be a vector, saw: ${u.shape}`);let c=w(e,"dataSplits","stringNGrams");if(c.dtype!=="int32")throw new Error("Data splits must be of datatype int32");let l={separator:t,nGramWidths:o,leftPad:n,rightPad:s,padWidth:i,preserveShortSequences:a},p={data:u,dataSplits:c},f=E.runKernel(Sl,p,l);return{nGrams:f[0],nGramsSplits:f[1]}}var ET=T({stringNGrams_:tB});function rB(r,e,t=!0){let o=w(r,"input","stringSplit","string"),n=w(e,"delimiter","stringSplit","string");if(o.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${o.shape}`);if(n.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${n.shape}`);let s={skipEmpty:t},i={input:o,delimiter:n},a=E.runKernel(Tl,i,s);return{indices:a[0],values:a[1],shape:a[2]}}var NT=T({stringSplit_:rB});function oB(r,e){let t=w(r,"input","stringToHashBucketFast","string"),o={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");let n={input:t};return E.runKernel(Cl,n,o)}var $T=T({stringToHashBucketFast_:oB});function nB(r,e,t,o=!0){let n=w(r,"input","staticRegexReplace","string"),s={pattern:e,rewrite:t,replaceGlobal:o};return E.runKernel(Es,{x:n},s)}var kT=T({staticRegexReplace_:nB});var AT={fft:Ws,ifft:kn,rfft:Hs,irfft:wp},RT={hammingWindow:HS,hannWindow:Sm,frame:Tm,stft:jS},An={flipLeftRight:qS,grayscaleToRGB:XS,resizeNearestNeighbor:aT,resizeBilinear:iT,rgbToGrayscale:YS,rotateWithOffset:ZS,cropAndResize:KS,nonMaxSuppression:QS,nonMaxSuppressionAsync:tT,nonMaxSuppressionWithScore:rT,nonMaxSuppressionWithScoreAsync:oT,nonMaxSuppressionPadded:nT,nonMaxSuppressionPaddedAsync:sT,threshold:uT,transform:cT},_T={bandPart:lT,gramSchmidt:pT,qr:mT},OT={absoluteDifference:dT,computeWeightedLoss:_t,cosineDistance:hT,hingeLoss:gT,huberLoss:xT,logLoss:yT,meanSquaredError:bT,sigmoidCrossEntropy:vT,softmaxCrossEntropy:wT},DT={sparseFillEmptyRows:ST,sparseReshape:TT,sparseSegmentMean:CT,sparseSegmentSum:IT},FT={stringNGrams:ET,stringSplit:NT,stringToHashBucketFast:$T,staticRegexReplace:kT};var Ly={};Ee(Ly,{Serializable:()=>Np,SerializationMap:()=>Nm,getRegisteredName:()=>iB,registerClass:()=>Py});var sB=new Map,Fy=new Map,Np=class{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}},Nm=class r{constructor(){this.classNameMap={}}static getMap(){return r.instance==null&&(r.instance=new r),r.instance}static register(e){r.getMap().classNameMap[e.className]=[e,e.fromConfig]}};function Py(r,e,t){$(r.className!=null,()=>"Class being registered does not have the static className property defined."),$(typeof r.className=="string",()=>"className is required to be a string, but got type "+typeof r.className),$(r.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof t>"u"&&(t=r.className);let o=t,n=e+">"+o;return Nm.register(r),sB.set(n,r),Fy.set(r,n),r}function iB(r){return Fy.has(r)?Fy.get(r):r.className}var Ut=class extends Np{minimize(e,t=!1,o){let{value:n,grads:s}=this.computeGradients(e,o);if(o!=null){let i=o.map(a=>({name:a.name,tensor:s[a.name]}));this.applyGradients(i)}else this.applyGradients(s);return ot(s),t?n:(n.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return fm(e,t)}dispose(){this.iterations_!=null&&ot(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:ne(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}};Object.defineProperty(Ut,Symbol.hasInstance,{value:r=>r.minimize!=null&&r.computeGradients!=null&&r.applyGradients!=null});var Rn=class extends Ut{static get className(){return"Adadelta"}constructor(e,t,o=null){super(),this.learningRate=e,this.rho=t,this.epsilon=o,this.accumulatedGrads=[],this.accumulatedUpdates=[],o==null&&(this.epsilon=E.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,n)=>{let s=E.registeredVariables[o],i=!1;this.accumulatedGrads[n]==null&&(this.accumulatedGrads[n]={originalName:`${o}/accum_grad`,variable:te(()=>lt(s).variable(i))}),this.accumulatedUpdates[n]==null&&(this.accumulatedUpdates[n]={originalName:`${o}/accum_var`,variable:te(()=>lt(s).variable(i))});let a=Array.isArray(e)?e[n].tensor:e[o];if(a==null)return;let u=this.accumulatedGrads[n].variable,c=this.accumulatedUpdates[n].variable;te(()=>{let l=J(K(u,this.rho),K(xt(a),1-this.rho)),p=K(be(qt(J(c,this.epsilon)),qt(J(u,this.epsilon))),a),f=J(K(c,this.rho),K(xt(p),1-this.rho));u.assign(l),c.assign(f);let d=J(K(p,-this.learningRate),s);s.assign(d)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(ot(this.accumulatedGrads.map(e=>e.variable)),ot(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){let e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(e){e=await this.extractIterations(e);let t=e.length/2,o=!1;this.accumulatedGrads=e.slice(0,t).map(n=>({originalName:n.name,variable:n.tensor.variable(o)})),this.accumulatedUpdates=e.slice(t,t*2).map(n=>({originalName:n.name,variable:n.tensor.variable(o)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}};var _n=class extends Ut{static get className(){return"Adagrad"}constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,n)=>{let s=E.registeredVariables[o];this.accumulatedGrads[n]==null&&(this.accumulatedGrads[n]={originalName:`${o}/accumulator`,variable:te(()=>to(s.shape,this.initialAccumulatorValue).variable(!1))});let i=Array.isArray(e)?e[n].tensor:e[o];if(i==null)return;let a=this.accumulatedGrads[n].variable;te(()=>{let u=J(a,xt(i));a.assign(u);let c=J(K(be(i,qt(J(u,E.backend.epsilon()))),-this.learningRate),s);s.assign(c)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&ot(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);let t=!1;this.accumulatedGrads=e.map(o=>({originalName:o.name,variable:o.tensor.variable(t)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}};var On=class extends Ut{static get className(){return"Adam"}constructor(e,t,o,n=null){super(),this.learningRate=e,this.beta1=t,this.beta2=o,this.epsilon=n,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],te(()=>{this.accBeta1=ne(t).variable(),this.accBeta2=ne(o).variable()}),n==null&&(this.epsilon=E.backend.epsilon())}applyGradients(e){let t=Array.isArray(e)?e.map(o=>o.name):Object.keys(e);te(()=>{let o=ie(1,this.accBeta1),n=ie(1,this.accBeta2);t.forEach((s,i)=>{let a=E.registeredVariables[s],u=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${s}/m`,variable:te(()=>lt(a).variable(u))}),this.accumulatedSecondMoment[i]==null&&(this.accumulatedSecondMoment[i]={originalName:`${s}/v`,variable:te(()=>lt(a).variable(u))});let c=Array.isArray(e)?e[i].tensor:e[s];if(c==null)return;let l=this.accumulatedFirstMoment[i].variable,p=this.accumulatedSecondMoment[i].variable,f=J(K(l,this.beta1),K(c,1-this.beta1)),d=J(K(p,this.beta2),K(xt(c),1-this.beta2)),h=be(f,o),x=be(d,n);l.assign(f),p.assign(d);let g=J(K(be(h,J(qt(x),this.epsilon)),-this.learningRate),a);a.assign(g)}),this.accBeta1.assign(K(this.accBeta1,this.beta1)),this.accBeta2.assign(K(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&ot(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&ot(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){let e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(e){e=await this.extractIterations(e),te(()=>{this.accBeta1.assign(ko(this.beta1,this.iterations_+1)),this.accBeta2.assign(ko(this.beta2,this.iterations_+1))});let t=e.length/2,o=!1;this.accumulatedFirstMoment=e.slice(0,t).map(n=>({originalName:n.name,variable:n.tensor.variable(o)})),this.accumulatedSecondMoment=e.slice(t,t*2).map(n=>({originalName:n.name,variable:n.tensor.variable(o)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}};var Dn=class extends Ut{static get className(){return"Adamax"}constructor(e,t,o,n=null,s=0){super(),this.learningRate=e,this.beta1=t,this.beta2=o,this.epsilon=n,this.decay=s,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],te(()=>{this.iteration=ne(0).variable(),this.accBeta1=ne(t).variable()}),n==null&&(this.epsilon=E.backend.epsilon())}applyGradients(e){let t=Array.isArray(e)?e.map(o=>o.name):Object.keys(e);te(()=>{let o=ie(1,this.accBeta1),n=be(-this.learningRate,J(K(this.iteration,this.decay),1));t.forEach((s,i)=>{let a=E.registeredVariables[s],u=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${s}/m`,variable:lt(a).variable(u)}),this.accumulatedWeightedInfNorm[i]==null&&(this.accumulatedWeightedInfNorm[i]={originalName:`${s}/v`,variable:lt(a).variable(u)});let c=Array.isArray(e)?e[i].tensor:e[s];if(c==null)return;let l=this.accumulatedFirstMoment[i].variable,p=this.accumulatedWeightedInfNorm[i].variable,f=J(K(l,this.beta1),K(c,1-this.beta1)),d=K(p,this.beta2),h=gt(c),x=fp(d,h);l.assign(f),p.assign(x);let g=J(K(be(n,o),be(f,J(x,this.epsilon))),a);a.assign(g)}),this.iteration.assign(J(this.iteration,1)),this.accBeta1.assign(K(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&ot(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&ot(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}};var Do=class extends Ut{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,n)=>{let s=Array.isArray(e)?e[n].tensor:e[o];if(s==null)return;let i=E.registeredVariables[o];te(()=>{let a=J(K(this.c,s),i);i.assign(a)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Kt(ne(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}};var Fn=class extends Do{static get className(){return"Momentum"}constructor(e,t,o=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=o,this.accumulations=[],this.m=ne(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,n)=>{let s=E.registeredVariables[o];this.accumulations[n]==null&&(this.accumulations[n]={originalName:`${o}/momentum`,variable:te(()=>lt(s).variable(!1))});let i=this.accumulations[n].variable,a=Array.isArray(e)?e[n].tensor:e[o];a!=null&&te(()=>{let u,c=J(K(this.m,i),a);this.useNesterov?u=J(K(this.c,J(a,K(c,this.m))),s):u=J(K(this.c,c),s),i.assign(c),s.assign(u)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&ot(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);let t=!1;this.accumulations=e.map(o=>({originalName:o.name,variable:o.tensor.variable(t)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}};var Pn=class extends Ut{static get className(){return"RMSProp"}constructor(e,t=.9,o=0,n=null,s=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=o,this.epsilon=n,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=s,n==null&&(this.epsilon=E.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,n)=>{let s=E.registeredVariables[o],i=!1;this.accumulatedMeanSquares[n]==null&&(this.accumulatedMeanSquares[n]={originalName:`${o}/rms`,variable:te(()=>lt(s).variable(i))}),this.accumulatedMoments[n]==null&&(this.accumulatedMoments[n]={originalName:`${o}/momentum`,variable:te(()=>lt(s).variable(i))}),this.accumulatedMeanGrads[n]==null&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${o}/mg`,variable:te(()=>lt(s).variable(i))});let a=Array.isArray(e)?e[n].tensor:e[o];if(a==null)return;let u=this.accumulatedMeanSquares[n].variable,c=this.accumulatedMoments[n].variable;te(()=>{let l=J(K(u,this.decay),K(xt(a),1-this.decay));if(this.centered){let p=this.accumulatedMeanGrads[n].variable,f=J(K(p,this.decay),K(a,1-this.decay)),d=be(K(a,this.learningRate),qt(ie(l,J(xt(f),this.epsilon)))),h=J(K(c,this.momentum),d);u.assign(l),p.assign(f),c.assign(h);let x=ie(s,h);s.assign(x)}else{let p=J(K(u,this.decay),K(xt(a),1-this.decay)),f=J(K(c,this.momentum),be(K(a,this.learningRate),qt(J(p,this.epsilon))));u.assign(p),c.assign(f);let d=ie(s,f);s.assign(d)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&ot(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&ot(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&ot(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){let e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(e){e=await this.extractIterations(e);let t=this.centered?e.length/3:e.length/2,o=!1;this.accumulatedMeanSquares=e.slice(0,t).map(n=>({originalName:n.name,variable:n.tensor.variable(o)})),this.accumulatedMoments=e.slice(t,t*2).map(n=>({originalName:n.name,variable:n.tensor.variable(o)})),this.centered&&(this.accumulatedMeanGrads=e.slice(t*2,t*3).map(n=>({originalName:n.name,variable:n.tensor.variable(o)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}};var aB=[Rn,_n,On,Dn,Fn,Pn,Do];function PT(){for(let r of aB)Py(r)}var oa={};Ee(oa,{CompositeArrayBuffer:()=>Rt,browserFiles:()=>BT,browserHTTPRequest:()=>GT,concatenateArrayBuffers:()=>O2,copyModel:()=>K2,decodeWeights:()=>nm,decodeWeightsStream:()=>sm,encodeWeights:()=>k2,fromMemory:()=>zT,fromMemorySync:()=>zy,getLoadHandlers:()=>L2,getModelArtifactsForJSON:()=>ji,getModelArtifactsForJSONSync:()=>bx,getModelArtifactsInfoForJSON:()=>Co,getSaveHandlers:()=>P2,getWeightSpecs:()=>Hl,http:()=>km,isHTTPScheme:()=>$m,listModels:()=>H2,loadWeights:()=>VT,moveModel:()=>q2,registerLoadRouter:()=>F2,registerSaveRouter:()=>D2,removeModel:()=>j2,weightsLoaderFactory:()=>Uy,withSaveHandler:()=>WT,withSaveHandlerSync:()=>HT});var uB="model",cB=".json",lB=".weights.bin";function LT(r){return new Promise(e=>setTimeout(e)).then(r)}var ra=class r{constructor(e){if(!P().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(r.URL_SCHEME)&&(e=e.slice(r.URL_SCHEME.length)),(e==null||e.length===0)&&(e=uB),this.modelJsonFileName=e+cB,this.weightDataFileName=e+lB}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");let t=Rt.join(e.weightData),o=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{let n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],s=im(e,n),i=window.URL.createObjectURL(new Blob([JSON.stringify(s)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=i,await LT(()=>a.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){let u=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;u.download=this.weightDataFileName,u.href=o,await LT(()=>u.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Co(e)}}}};ra.URL_SCHEME="downloads://";var By=class{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,t)=>{let o=new FileReader;o.onload=n=>{let s=JSON.parse(n.target.result),i=s.modelTopology;if(i==null){t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(s.weightsManifest==null){t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:i});return}let u=ji(s,c=>this.loadWeights(c));e(u)},o.onerror=n=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),o.readAsText(this.jsonFile)})}loadWeights(e){let t=[],o=[];for(let i of e)t.push(...i.weights),o.push(...i.paths);let n=this.checkManifestAndWeightFiles(e),s=o.map(i=>this.loadWeightsFile(i,n[i]));return Promise.all(s).then(i=>[t,i])}loadWeightsFile(e,t){return new Promise((o,n)=>{let s=new FileReader;s.onload=i=>{let a=i.target.result;o(a)},s.onerror=i=>n(`Failed to weights data from file of path '${e}'.`),s.readAsArrayBuffer(t)})}checkManifestAndWeightFiles(e){let t=[],o=this.weightsFiles.map(s=>yx(s.name)),n={};for(let s of e)s.paths.forEach(i=>{let a=yx(i);if(t.indexOf(a)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(t.push(a),o.indexOf(a)===-1)throw new Error(`Weight file with basename '${a}' is not provided.`);n[i]=this.weightsFiles[o.indexOf(a)]});if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return n}},pB=r=>P().getBool("IS_BROWSER")&&!Array.isArray(r)&&r.startsWith(ra.URL_SCHEME)?fB(r.slice(ra.URL_SCHEME.length)):null;ht.registerSaveRouter(pB);function fB(r="model"){return new ra(r)}function BT(r){return new By(r)}function My(r,e,t,o){i(r),t=t??0,o=o??1,a(t,o);let n=0,s=u=>(u.then(c=>{let l=t+ ++n/r.length*(o-t);return e(l),c}),u);function i(u){$(u!=null&&Array.isArray(u)&&u.length>0,()=>"promises must be a none empty array")}function a(u,c){$(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${u}`),$(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${c}`),$(c>=u,()=>`startFraction must be no more than endFraction, but got startFraction ${u} and endFraction ${c}`)}return Promise.all(r.map(s))}async function Vy(r,e){e==null&&(e={});let t=e.fetchFunc==null?P().platform.fetch:e.fetchFunc,o=r.map(p=>t(p,e.requestInit,{isBinary:!0})),a=(e.onProgress==null?await Promise.all(o):await My(o,e.onProgress,0,.5)).map(p=>p.arrayBuffer());return e.onProgress==null?await Promise.all(a):await My(a,e.onProgress,.5,1)}function MT(r,e){var t;let o=e.fetchFunc==null?P().platform.fetch:e.fetchFunc,n=0,s;return(t=e.onProgress)===null||t===void 0||t.call(e,0),new ReadableStream({pull:async i=>{for(var a;n<r.length;){s||(s=(await o(r[n],e.requestInit,{isBinary:!0})).body.getReader());let{done:u,value:c}=await s.read();if(u){n++,s=void 0,(a=e.onProgress)===null||a===void 0||a.call(e,n/r.length);continue}i.enqueue(c);return}i.close()}})}async function VT(r,e="",t,o){return Uy(i=>Vy(i,{requestInit:o}))(r,e,t)}function Uy(r){return async(e,t="",o)=>{let n=e.map(()=>!1),s={},i=o!=null?o.map(()=>!1):[],a=[];if(e.forEach((d,h)=>{let x=0;d.weights.forEach(g=>{let b="quantization"in g?g.quantization.dtype:g.dtype,C=Ko[b]*ge(g.shape),k=()=>{n[h]=!0,s[h]==null&&(s[h]=[]),s[h].push({manifestEntry:g,groupOffset:x,sizeBytes:C})};o!=null?o.forEach((A,D)=>{A===g.name&&(k(),i[D]=!0)}):k(),a.push(g.name),x+=C})}),!i.every(d=>d)){let d=o.filter((h,x)=>!i[x]);throw new Error(`Could not find weights in manifest with names: ${d.join(", ")}. 
Manifest JSON has weights with names: ${a.join(", ")}.`)}let u=n.reduce((d,h,x)=>(h&&d.push(x),d),[]),c=[];u.forEach(d=>{e[d].paths.forEach(h=>{let x=t+(t.endsWith("/")?"":"/")+h;c.push(x)})});let l=await r(c),p={},f=0;return u.forEach(d=>{let h=e[d].paths.length,x=new Rt(l.slice(f,f+h));s[d].forEach(b=>{let C=x.slice(b.groupOffset,b.groupOffset+b.sizeBytes),k=nm(C,[b.manifestEntry]);for(let A in k)p[A]=k[A]}),f+=h}),p}}var mB="application/octet-stream",dB="application/json",$p=class{constructor(e,t){if(this.DEFAULT_METHOD="POST",t==null&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,t.fetchFunc!=null?($(typeof t.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=t.fetchFunc):this.fetch=P().platform.fetch,$(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&$(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,t.requestInit!=null&&t.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");let t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;let o=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],n=im(e,o);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:dB}),"model.json"),e.weightData!=null){let i=Rt.join(e.weightData);t.body.append("model.weights.bin",new Blob([i],{type:mB}),"model.weights.bin")}let s=await this.fetch(this.path,t);if(s.ok)return{modelArtifactsInfo:Co(e),responses:[s]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${s.status}.`)}async loadModelJSON(){let e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch{let i=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?i+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":i+=" Please make sure the server is serving valid JSON for this request.",new Error(i)}let o=t.modelTopology,n=t.weightsManifest;if(o==null&&n==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();let e=await this.loadModelJSON();return ji(e,t=>this.loadWeights(t))}async loadStream(){let e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),o=Hl(e.weightsManifest),n=()=>MT(t,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:o,getWeightStream:n})}async getWeightUrls(e){let t=Array.isArray(this.path)?this.path[1]:this.path,[o,n]=hB(t),s=this.weightPathPrefix||o,i=[],a=[];for(let u of e)for(let c of u.paths)this.weightUrlConverter!=null?a.push(this.weightUrlConverter(c)):i.push(s+c+n);return this.weightUrlConverter&&i.push(...await Promise.all(a)),i}async loadWeights(e){let t=await this.getWeightUrls(e),o=Hl(e),n=await Vy(t,this.loadOptions);return[o,n]}};$p.URL_SCHEME_REGEX=/^https?:\/\//;function hB(r){let e=r.lastIndexOf("/"),t=r.lastIndexOf("?"),o=r.substring(0,e),n=t>e?r.substring(t):"";return[o+"/",n]}function $m(r){return r.match($p.URL_SCHEME_REGEX)!=null}var UT=(r,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let t=!0;if(Array.isArray(r)?t=r.every(o=>$m(o)):t=$m(r),t)return km(r,e)}return null};ht.registerSaveRouter(UT);ht.registerLoadRouter(UT);function km(r,e){return new $p(r,e)}function GT(r,e){return km(r,e)}var kp=class{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}},Am=class{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}},Gy=class{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}};function zT(r,e,t,o){let n=arguments;return new Gy(zy(...n))}function zy(r,e,t,o){return arguments.length===1?r.modelTopology!=null||r.weightSpecs!=null?new kp(r):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new kp({modelTopology:r})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new kp({modelTopology:r,weightSpecs:e,weightData:t,trainingConfig:o}))}function WT(r){return new Am(r)}function HT(r){return new Am(r)}var Wy={};Ee(Wy,{confusionMatrix:()=>jT});function gB(r,e,t){let o=w(r,"labels","confusionMatrix"),n=w(e,"predictions","confusionMatrix");$(t==null||t>0&&Number.isInteger(t),()=>`If provided, numClasses must be a positive integer, but got ${t}`),$(o.rank===1,()=>`Expected the rank of labels to be 1, but got ${o.rank}`),$(n.rank===1,()=>`Expected the rank of predictions to be 1, but got ${n.rank}`),$(o.shape[0]===n.shape[0],()=>`Mismatch in the number of examples: ${o.shape[0]} vs. ${n.shape[0]}. Labels and predictions should have the same number of elements.`),$(t>0&&Number.isInteger(t),()=>`numClasses is required to be a positive integer, but got ${t}`);let s=$n(le(o,"int32"),t),i=$n(le(n,"int32"),t),a=js(s),u=we(a,i);return le(u,"int32")}var jT=T({confusionMatrix_:gB});var so={};Ee(so,{draw:()=>CB,fromPixels:()=>IB,fromPixelsAsync:()=>wB,toPixels:()=>TB});var Zs,KT=!1;function qT(r,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(r==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let t=!1,o=!1,n=!1,s=!1,i=!1,a=!1;if(r.data instanceof Uint8Array)t=!0;else if(typeof ImageData<"u"&&r instanceof ImageData)o=!0;else if(typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement)n=!0;else if(typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement)s=!0;else if(r.getContext!=null)i=!0;else if(typeof ImageBitmap<"u"&&r instanceof ImageBitmap)a=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${r.constructor.name}`);if(As(Pi,E.backendName)!=null){let h={pixels:r},x={numChannels:e};return E.runKernel(Pi,h,x)}let[c,l]=n?[r.videoWidth,r.videoHeight]:[r.width,r.height],p;if(i)p=r.getContext("2d").getImageData(0,0,c,l).data;else if(o||t)p=r.data;else if(s||n||a){if(Zs==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Zs=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Zs=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Zs.canvas.width=c,Zs.canvas.height=l,Zs.drawImage(r,0,0,c,l),p=Zs.getImageData(0,0,c,l).data}let f;if(e===4)f=new Int32Array(p);else{let h=c*l;f=new Int32Array(h*e);for(let x=0;x<h;x++)for(let g=0;g<e;++g)f[x*e+g]=p[x*4+g]}return Cp(f,[l,c,e],"int32")}function xB(r){return r!=null&&r.data instanceof Uint8Array}function yB(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function bB(r){return r!=null&&r.width!==0&&r.height!==0}function vB(r){return yB()&&!(r instanceof ImageBitmap)&&bB(r)&&!xB(r)}async function wB(r,e=3){let t=null;if(P().getBool("WRAP_TO_IMAGEBITMAP")&&vB(r)){let o;try{o=await createImageBitmap(r,{premultiplyAlpha:"none"})}catch{o=null}o!=null&&o.width===r.width&&o.height===r.height?t=o:t=r}else t=r;return qT(t,e)}function XT(r){if(r.rank!==2&&r.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${r.rank}.`);let e=r.rank===2?1:r.shape[2];if(e>4||e===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if(r.dtype!=="float32"&&r.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${r.dtype}. Please use float32 or int32 tensors.`)}function SB(r){let e=r?.alpha||1;if(e>1||e<0)throw new Error(`Alpha value ${e} is suppoed to be in range [0 - 1].`)}async function TB(r,e){let t=w(r,"img","toPixels");if(!(r instanceof ye)){let c=t;t=le(c,"int32"),c.dispose()}XT(t);let[o,n]=t.shape.slice(0,2),s=t.rank===2?1:t.shape[2],i=await t.data(),a=t.dtype==="float32"?255:1,u=new Uint8ClampedArray(n*o*4);for(let c=0;c<o*n;++c){let l=[0,0,0,255];for(let f=0;f<s;f++){let d=i[c*s+f];if(t.dtype==="float32"){if(d<0||d>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${d}.`)}else if(t.dtype==="int32"&&(d<0||d>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${d}.`);s===1?(l[0]=d*a,l[1]=d*a,l[2]=d*a):l[f]=d*a}let p=c*4;u[p+0]=Math.round(l[0]),u[p+1]=Math.round(l[1]),u[p+2]=Math.round(l[2]),u[p+3]=Math.round(l[3])}if(e!=null){KT||As(Hf,E.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),KT=!0),e.width=n,e.height=o;let c=e.getContext("2d"),l=new ImageData(u,n,o);c.putImageData(l,0,0)}return t!==r&&t.dispose(),u}function CB(r,e,t){let o=w(r,"img","draw");if(!(r instanceof ye)){let i=o;o=le(i,"int32"),i.dispose()}XT(o),SB(t?.imageOptions);let n={image:o},s={canvas:e,options:t};E.runKernel(Hf,n,s)}var IB=T({fromPixels_:qT});var Hy={};Ee(Hy,{prepareAndValidate:()=>YT});function YT(r,e){let t=r.shape.length,o=e.shape.length;if(t<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${t}.`);if(o<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${o}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[o-1]>t)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[o-1]} vs. ${t}`);if(ge(r.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${r.shape}.`);let n=e.shape,s=n[n.length-1],i=1;for(let p=0;p<n.length-1;++p)i*=n[p];let a=r.shape,u=n.slice();u.pop();let c=1;for(let p=s;p<t;++p)c*=a[p],u.push(a[p]);let l=[...wo(r.shape).map(p=>p/c),1].slice(0,s);return[u,i,c,l]}var Yt={};Ee(Yt,{assertParamsValid:()=>NB,computeFlatOffset:()=>_B,computeOutShape:()=>kB,getNormalizedAxes:()=>AB,isSliceContinous:()=>RB,maskToAxes:()=>$B,parseSliceParams:()=>OB,sliceInfo:()=>DB,startForAxis:()=>nC,startIndicesWithElidedDims:()=>tC,stopForAxis:()=>sC,stopIndicesWithElidedDims:()=>rC,stridesForAxis:()=>oC,stridesWithElidedDims:()=>QT});var jy=-2,EB=-1;function NB(r,e,t){let o=r.shape.length;$(o===e.length,()=>`Error in slice${o}D: Length of begin ${e} must match the rank of the array (${o}).`),$(o===t.length,()=>`Error in slice${o}D: Length of size ${t} must match the rank of the array (${o}).`);for(let n=0;n<o;++n)$(e[n]+t[n]<=r.shape[n],()=>`Error in slice${o}D: begin[${n}] + size[${n}] (${e[n]+t[n]}) would overflow input.shape[${n}] (${r.shape[n]})`)}function $B(r){let e=[],t=0;for(;r>0;)r&1&&e.push(t),r/=2,t++;return e}function kB(r,e,t){let o=[];for(let n=0;n<r.length;n++)o[n]=Math.ceil((e[n]-r[n])/t[n]);return o}function QT(r,e,t,o){let n=[...r];for(let s=n.length;s<o.length;s++)n.push(1);for(let s=0;s<t;s++)s===0?n[e]=1:(n.splice(e,0,1),n.pop());return n}function JT(r,e,t){return t<=r?t:t-(e-1)}function eC(r,e){let t=[];for(let o=0;o<r;o++)t.push(e+o);return t}function AB(r,e,t,o,n,s,i,a,u){let c=r.length,l=new Array(c),p=new Array(c),f=new Array(c);if(e.length&&t>0){let d=e[0],h=t+1;l=tC(i,d,h,o,r),p=rC(a,d,h,n,r),f=QT(s,d,h,r)}else for(let d=0;d<c;d++)l[d]=nC(i,o,s,r,d,u),p[d]=sC(a,n,s,r,d,u),f[d]=oC(s,d,u);return{begin:l,end:p,strides:f}}function tC(r,e,t,o,n){let s=[...n],i=eC(t,e);for(let a=0;a<s.length;a++)if(i.indexOf(a)>-1)s[a]=0;else{let u=JT(e,t,a),c=o[u];r&1<<u&&(c=0),s[a]=c}return s}function rC(r,e,t,o,n){let s=[...n],i=eC(t,e);for(let a=0;a<s.length;a++)if(i.indexOf(a)>-1)s[a]=Number.MAX_SAFE_INTEGER;else{let u=JT(e,t,a),c=o[u];r&1<<u&&(c=Number.MAX_SAFE_INTEGER),s[a]=c}for(let a=0;a<s.length;a++){let u=n[a];s[a]<0&&(s[a]+=u),s[a]=Ii(0,s[a],n[a])}return s}function oC(r,e,t){let o=r[e];return(t&1<<e||o==null)&&(o=1),o}function nC(r,e,t,o,n,s){let i=e[n],a=t[n]||1;(r&1<<n||s&1<<n||i==null)&&(a>0?i=Number.MIN_SAFE_INTEGER:i=Number.MAX_SAFE_INTEGER);let u=o[n];return i<0&&(i+=u),i=Ii(0,i,u-1),i}function sC(r,e,t,o,n,s){let i=e[n],a=t[n]||1;(r&1<<n||s&1<<n||i==null)&&(a>0?i=Number.MAX_SAFE_INTEGER:i=Number.MIN_SAFE_INTEGER);let u=o[n];return i<0&&(i+=u),a>0?i=Ii(0,i,u):i=Ii(-1,i,u-1),i}function RB(r,e,t){let o=t.length;for(let n=0;n<t.length;n++)if(t[n]>1){o=n;break}for(let n=o+1;n<t.length;n++)if(e[n]>0||t[n]!==r[n])return!1;return!0}function _B(r,e){let t=r.length>0?r[r.length-1]:1;for(let o=0;o<r.length-1;o++)t+=r[o]*e[o];return t}function OB(r,e,t){let o,n=r.shape.length;typeof e=="number"?o=[e,...new Array(n-1).fill(0)]:e.length<n?o=e.concat(new Array(n-e.length).fill(0)):o=e.slice(),o.forEach(i=>{$(i!==-1,()=>"slice() does not support negative begin indexing.")});let s;return t==null?s=new Array(n).fill(-1):typeof t=="number"?s=[t,...new Array(n-1).fill(-1)]:t.length<n?s=t.concat(new Array(n-t.length).fill(-1)):s=t,s=s.map((i,a)=>i>=0?i:($(i===-1,()=>`Negative size values should be exactly -1 but got ${i} for the slice() size at index ${a}.`),r.shape[a]-o[a])),[o,s]}function DB(r,e,t,o,n,s,i,a,u){let c;if(o==null?(c=new Array(e.length),c.fill(1)):c=o,i!=null&&i&i-1)throw new Error("Multiple ellipses in slice is not allowed.");let l=!1,p={dims:c.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:t.slice(),strides:c.slice(),beginMask:n,endMask:s,ellipsisMask:i,newAxisMask:a,shrinkAxisMask:u};for(let k=0;k<p.dims;k++)l&&1<<k&a&&p.numAddAxisAfterEllipsis++,1<<k&i&&(l=!0);l||(p.ellipsisMask|=1<<p.dims,p.dims++);let f={dims:r.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};FB(p,f);let d=!0,h=!0,x=!0,g=[],b=[];for(let k=0;k<r.length;++k){if(f.strides[k]===0)throw Error(`strides[${k}] must be non-zero`);let A=!!(f.shrinkAxisMask&1<<k),D=r[k];if(D===-1){g.push(A?1:-1);continue}let L=[f.beginMask&1<<k,f.endMask&1<<k],M=[f.strides[k]>0?0:-1,f.strides[k]>0?D:D-1];if(A&&f.strides[k]<=0)throw Error("only stride 1 allowed on non-range indexing.");x=x&&f.strides[k]===1;let V=!!(f.beginMask&1<<k&&f.endMask&1<<k);if(f.beginValid&&f.endValid){if(A){let X=f.begin[k]<0?D+f.begin[k]:f.begin[k];if(f.begin[k]=X,f.end[k]=f.begin[k]+1,X<0||X>=D)throw Error(`slice index ${f.begin[k]} of dimension ${k} out of bounds.`)}else f.begin[k]=ZT(f.begin[k],0,f.strides[k],D,L,M),f.end[k]=ZT(f.end[k],1,f.strides[k],D,L,M);let H=f.strides[k]===1&&f.begin[k]===0&&f.end[k]===D;d=d&&H,h=h&&(k===0&&f.strides[k]===1||H)}else d=d&&f.strides[k]===1&&V,h=h&&(k===0&&f.strides[k]===1||V);let z,W=!1;if(f.beginValid&&f.endValid?(z=f.end[k]-f.begin[k],W=!0):A?(z=1,W=!0):V&&D>=0&&(f.strides[k]<0?z=-D:z=D,W=!0),W){let H;z===0||z<0!=f.strides[k]<0?H=0:H=Math.trunc(z/f.strides[k])+(z%f.strides[k]!==0?1:0),g.push(H)}else g.push(-1)}for(let k=0;k<f.finalShapeGatherIndices.length;++k){let A=f.finalShapeGatherIndices[k];A>=0?b.push(g[A]):A===jy&&b.push(1)}return{finalShapeSparse:b.filter((k,A)=>f.finalShapeGatherIndices[A]!==jy),finalShape:b,isIdentity:d,sliceDim0:h,isSimpleSlice:x,begin:f.begin,end:f.end,strides:f.strides}}function FB(r,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let t=0;e.beginValid=r.begin!=null,e.endValid=r.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let o=0;o<r.dims;o++)if(1<<o&r.ellipsisMask){let n=Math.min(e.dims-(r.dims-o)+1+r.numAddAxisAfterEllipsis,e.dims);for(;t<n;t++)e.begin[t]=0,e.end[t]=0,e.strides[t]=1,e.beginMask|=1<<t,e.endMask|=1<<t,e.finalShapeGatherIndices.push(t),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[t]=o}else if(1<<o&r.newAxisMask)e.finalShapeGatherIndices.push(jy),e.finalShapeGatherIndicesSparse.push(-1);else{if(t===e.begin.length)throw Error(`Index out of range using input dim ${t}; input has only ${e.dims} dims, ${e.begin.length}.`);r.begin!=null&&(e.begin[t]=r.begin[o]),r.end!=null&&(e.end[t]=r.end[o]),e.strides[t]=r.strides[o],r.beginMask&1<<o&&(e.beginMask|=1<<t),r.endMask&1<<o&&(e.endMask|=1<<t),r.shrinkAxisMask&1<<o?(e.finalShapeGatherIndices.push(EB),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<t):(e.finalShapeGatherIndices.push(t),e.finalShapeGatherIndicesSparse.push(o)),e.inputShapeGatherIndicesSparse[t]=o,t++}}function ZT(r,e,t,o,n,s){if(n[e])return t>0?s[e]:s[e+1&1];{let i=r<0?o+r:r;return i<s[0]?s[0]:i>s[1]?s[1]:i}}var iC="4.15.0";var na=class{static sgd(e){return new Do(e)}static momentum(e,t,o=!1){return new Fn(e,t,o)}static rmsprop(e,t=.9,o=0,n=null,s=!1){return new Pn(e,t,o,n,s)}static adam(e=.001,t=.9,o=.999,n=null){return new On(e,t,o,n)}static adadelta(e=.001,t=.95,o=null){return new Rn(e,t,o)}static adamax(e=.002,t=.9,o=.999,n=null,s=0){return new Dn(e,t,o,n,s)}static adagrad(e,t=.1){return new _n(e,t)}};var PB=na;var LB=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:r=>r();function Rm(){return new Promise(r=>LB(()=>r()))}var O={};Ee(O,{ERF_A1:()=>e5,ERF_A2:()=>t5,ERF_A3:()=>r5,ERF_A4:()=>o5,ERF_A5:()=>n5,ERF_P:()=>JB,PARALLELIZE_THRESHOLD:()=>_m,RowPartitionType:()=>Fo,SELU_SCALE:()=>QB,SELU_SCALEALPHA:()=>ZB,applyActivation:()=>Xs,assertAndGetBroadcastShape:()=>Re,assertAxesAreInnerMostDims:()=>E3,assertParamsConsistent:()=>BB,assignToTypedArray:()=>l5,axesAreInnerMostDims:()=>h0,calculateShapes:()=>kS,checkEinsumDimSizes:()=>g5,checkPadOnDimRoundingMode:()=>ut,combineLocations:()=>oS,combineRaggedTensorToTensorShapes:()=>VB,complexWithEvenIndex:()=>a5,complexWithOddIndex:()=>u5,computeConv2DInfo:()=>Bs,computeConv3DInfo:()=>Q2,computeDefaultPad:()=>Mx,computeDilation2DInfo:()=>CF,computeOptimalWindowSize:()=>WB,computeOutAndReduceShapes:()=>I3,computeOutShape:()=>MB,computePool2DInfo:()=>Bx,computePool3DInfo:()=>IF,convertConv2DDataFormat:()=>J2,decodeEinsumEquation:()=>d5,eitherStridesOrDilationsAreOne:()=>Bt,expandShapeToKeepDim:()=>en,exponent:()=>f5,exponents:()=>p5,fromStringArrayToUint8:()=>L5,fromUint8ToStringArray:()=>P5,getAxesPermutation:()=>N3,getBroadcastDims:()=>rS,getComplexWithIndex:()=>c5,getEinsumComputePath:()=>x5,getEinsumPermutation:()=>h5,getFusedBiasGradient:()=>qs,getFusedDyActivation:()=>Ks,getImageCenter:()=>HB,getInnerMostAxes:()=>k3,getPermuted:()=>KB,getRaggedRank:()=>GB,getReductionAxes:()=>pm,getReshaped:()=>jB,getReshapedPermuted:()=>qB,getRowPartitionTypesHelper:()=>UB,getSliceBeginCoords:()=>XB,getSliceSize:()=>YB,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>w5,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>S5,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>T5,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>E5,getSparseReshapeInputOutputMismatchErrorMessage:()=>$5,getSparseReshapeInputOutputMultipleErrorMessage:()=>N5,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>C5,getSparseReshapeNegativeOutputDimErrorMessage:()=>I5,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>_5,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>k5,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>A5,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>R5,getUndoAxesPermutation:()=>$3,isIdentityPermutation:()=>y5,log:()=>tD,mergeRealAndImagArrays:()=>s5,prepareAndValidate:()=>YT,prepareSplitSize:()=>v5,segment_util:()=>qy,shouldFuse:()=>Ys,slice_util:()=>Yt,splitRealAndImagArrays:()=>i5,stridesOrDilationsArePositive:()=>No,tupleValuesAreOne:()=>Ls,upcastType:()=>kt,validateDefaultValueShape:()=>zB,validateInput:()=>ea,validateUpdateShape:()=>Ey,warn:()=>So});function BB(r,e){let t=r[0].length;r.forEach((n,s)=>{$(n.length===t,()=>`Error in concat${t}D: rank of tensors[${s}] must be the same as the rank of the rest (${t})`)}),$(e>=0&&e<t,()=>`Error in concat${t}D: axis must be between 0 and ${t-1}.`);let o=r[0];r.forEach((n,s)=>{for(let i=0;i<t;i++)$(i===e||n[i]===o[i],()=>`Error in concat${t}D: Shape of tensors[${s}] (${n}) does not match the shape of the rest (${o}) along the non-concatenated axis ${s}.`)})}function MB(r,e){let t=r[0].slice();for(let o=1;o<r.length;o++)t[e]+=r[o][e];return t}var Fo;(function(r){r[r.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",r[r.VALUE_ROWIDS=1]="VALUE_ROWIDS",r[r.ROW_LENGTHS=2]="ROW_LENGTHS",r[r.ROW_SPLITS=3]="ROW_SPLITS",r[r.ROW_LIMITS=4]="ROW_LIMITS",r[r.ROW_STARTS=5]="ROW_STARTS"})(Fo||(Fo={}));function VB(r,e,t){let o=new Array;if(t==null&&e==null)return o;if(e==null)for(;o.length<r+t.length;)o.push(-1);else o=e.slice();if(t==null)return o;if(r+t.length!==o.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${r+t.length}, but shape.rank = ${o.length}`);for(let n=1;n<t.length;++n){let s=t[n],i=o[o.length-t.length+n],a=o[i];if(s>=0)if(a>=0){if(a!==s)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${n+r}] = ${s} but shape[${n+r}] = ${a}`)}else o[i]=s}return o}function UB(r){let e={FIRST_DIM_SIZE:Fo.FIRST_DIM_SIZE,VALUE_ROWIDS:Fo.VALUE_ROWIDS,ROW_LENGTHS:Fo.ROW_LENGTHS,ROW_SPLITS:Fo.ROW_SPLITS,ROW_LIMITS:Fo.ROW_LIMITS,ROW_STARTS:Fo.ROW_STARTS},t=[];for(let o of r)if(o in e)t.push(e[o]);else break;return t}function GB(r){return r.length===0?0:r[0]===Fo.FIRST_DIM_SIZE?r.length-1:r.length}function zB(r,e){if(r==null||e==null)return;let t=r.length,o=e.length;if(t>=o)throw new Error(`defaultValue.shape=${r} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${t} must be less than ragged tensor input flatValues.rank = ${o})`);for(let n=0;n<Math.min(t,o-1);++n){let s=r[n],i=e[n+1];if(s>=0&&i>=0&&s!==1&&s!==i)throw new Error(`defaultValue.shape=${r}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${n-r.length}] = ${s} but ragged tensor input.flatValues.shape[${n-r.length}] = ${i}`)}}var _m=30;function WB(r){return r<=_m?r:Ni(r,Math.floor(Math.sqrt(r)))}function HB(r,e,t){let o=t*(typeof r=="number"?r:r[0]),n=e*(typeof r=="number"?r:r[1]);return[o,n]}function jB(r,e,t,o=!0){let n=[];if(o)n=n.concat(e.slice(0)),n.push(r[0]/t),n=n.concat(r.slice(1));else{n=n.concat(r[0]);let s=e.length;for(let i=0;i<s;++i)n=n.concat([r[i+1]/e[i],e[i]]);n=n.concat(r.slice(s+1))}return n}function KB(r,e,t=!0){let o=[];if(t){o.push(e);for(let n=e+1;n<r;++n)n<=2*e?(o.push(n),o.push(n-(e+1))):o.push(n)}else{let n=[],s=[];for(let i=1;i<r;++i)i>=e*2+1||i%2===1?s.push(i):n.push(i);o.push(...n),o.push(0),o.push(...s)}return o}function qB(r,e,t,o=!0){let n=[];o?n.push(r[0]/t):n.push(r[0]*t);for(let s=1;s<r.length;++s)s<=e.length?o?n.push(e[s-1]*r[s]):n.push(r[s]/e[s-1]):n.push(r[s]);return n}function XB(r,e){let t=[0];for(let o=0;o<e;++o)t.push(r[o][0]);return t}function YB(r,e,t){let o=r.slice(0,1);for(let n=0;n<t;++n)o.push(r[n+1]-e[n][0]-e[n][1]);return o}var ZB=1.7580993408473768,QB=1.0507009873554805;var JB=.3275911,e5=.254829592,t5=-.284496736,r5=1.421413741,o5=-1.453152027,n5=1.061405429;function s5(r,e){if(r.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${r.length}, imag: ${e.length}.`);let t=new Float32Array(r.length*2);for(let o=0;o<t.length;o+=2)t[o]=r[o/2],t[o+1]=e[o/2];return t}function i5(r){let e=new Float32Array(r.length/2),t=new Float32Array(r.length/2);for(let o=0;o<r.length;o+=2)e[o/2]=r[o],t[o/2]=r[o+1];return{real:e,imag:t}}function a5(r){let e=Math.ceil(r.length/4),t=new Float32Array(e),o=new Float32Array(e);for(let n=0;n<r.length;n+=4)t[Math.floor(n/4)]=r[n],o[Math.floor(n/4)]=r[n+1];return{real:t,imag:o}}function u5(r){let e=Math.floor(r.length/4),t=new Float32Array(e),o=new Float32Array(e);for(let n=2;n<r.length;n+=4)t[Math.floor(n/4)]=r[n],o[Math.floor(n/4)]=r[n+1];return{real:t,imag:o}}function c5(r,e){let t=r[e*2],o=r[e*2+1];return{real:t,imag:o}}function l5(r,e,t,o){r[o*2]=e,r[o*2+1]=t}function p5(r,e){let t=new Float32Array(r/2),o=new Float32Array(r/2);for(let n=0;n<Math.ceil(r/2);n++){let s=(e?2:-2)*Math.PI*(n/r);t[n]=Math.cos(s),o[n]=Math.sin(s)}return{real:t,imag:o}}function f5(r,e,t){let o=(t?2:-2)*Math.PI*(r/e),n=Math.cos(o),s=Math.sin(o);return{real:n,imag:s}}var Ky="->",m5=/->/g,aC=",",uC="...";function d5(r,e){r=r.replace(/\s/g,"");let t=(r.length-r.replace(m5,"").length)/Ky.length;if(t<1)throw new Error("Equations without an arrow are not supported.");if(t>1)throw new Error(`Equation must contain exactly one arrow ("${Ky}").`);let[o,n]=r.split(Ky);$(o.indexOf(uC)===-1,()=>`The ellipsis notation ("${uC}") is not supported yet.`);let s=o.split(aC),i=s.length;if(e!==i)throw new Error(`Expected ${i} input tensors, received ${e}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");let a=[];for(let f=0;f<n.length;++f){let d=n[f];if(!s.some(h=>h.indexOf(d)!==-1))throw new Error(`Output subscripts contain the label ${d} not present in the input subscripts.`);a.indexOf(d)===-1&&a.push(d)}for(let f=0;f<o.length;++f){let d=o[f];a.indexOf(d)===-1&&d!==aC&&a.push(d)}let u=new Array(s.length);for(let f=0;f<i;++f){if(new Set(s[f].split("")).size!==s[f].length)throw new Error(`Found duplicate axes in input component ${s[f]}. Support for duplicate axes in input is not implemented yet.`);u[f]=[];for(let d=0;d<s[f].length;++d)u[f].push(a.indexOf(s[f][d]))}let c=a.length,l=n.length,p=[];for(let f=l;f<c;++f)p.push(f);return{allDims:a,summedDims:p,idDims:u}}function h5(r,e){let t=new Array(r);t.fill(-1);for(let n=0;n<e.length;++n)t[e[n]]=n;let o=[];for(let n=0;n<r;++n)t[n]===-1&&o.push(n);return t=t.filter(n=>n!==-1),{permutationIndices:t,expandDims:o}}function g5(r,e,t){let o=new Array(r);for(let n=0;n<t.length;++n){let s=t[n].shape;for(let i=0;i<e[n].length;++i)o[e[n][i]]===void 0?o[e[n][i]]=s[i]:$(o[e[n][i]]===s[i],()=>`Expected dimension ${o[e[n][i]]} at axis ${i} of input shaped ${JSON.stringify(s)}, but got dimension ${s[i]}`)}}function x5(r,e){let t=r,o=[],n=0;r.length===0&&t.push(-1),n=r.length+1;for(let i=0;i<n;++i)o.push([]);let s=[];for(let i=0;i<t.length;++i){let a=t[i],u=b5(e,a);for(let c of u)s.indexOf(c)===-1&&(o[i].push(c),s.push(c))}return{path:t,steps:o}}function y5(r){return r.every((e,t)=>e===t)}function b5(r,e){let t=[];for(let o=0;o<r.length;++o)(r[o].length===0||r[o].indexOf(e)!==-1||e===-1)&&t.push(o);return t}function v5(r,e,t=0){let o=[];if(typeof e=="number")$(r.shape[t]%e===0,()=>"Number of splits must evenly divide the axis."),o=new Array(e).fill(r.shape[t]/e);else{let n=e.reduce((i,a)=>(a===-1&&(i+=1),i),0);$(n<=1,()=>"There should be only one negative value in split array.");let s=e.indexOf(-1);if(s!==-1){let i=e.reduce((a,u)=>u>0?a+u:a);e[s]=r.shape[t]-i}$(r.shape[t]===e.reduce((i,a)=>i+a),()=>"The sum of sizes must match the size of the axis dimension."),o=e}return o}function w5(r){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${r}`}function S5(r,e){return`indices(${r}, 0) is invalid: ${e} < 0`}function T5(r,e,t){return`indices(${r}, 0) is invalid: ${e} >= ${t}`}function C5(r,e){return`only one output dimension may be -1, not both ${r} and ${e}`}function I5(r,e){return`size ${r} must be non-negative, not ${e}`}function E5(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function N5(r,e){let t=ge(r),o=ge(e);return`Input to reshape is a SparseTensor with ${t}
  dense values, but the requested shape requires a multiple of ${o}. inputShape=${r} outputShape= ${e}`}function $5(r,e){let t=ge(r),o=ge(e);return`Input to reshape is a tensor with ${t} dense values, but the requested shape has ${o}. inputShape=${r} outputShape=${e}`}function k5(){return"segment ids must be >= 0"}function A5(){return"segment ids are not increasing"}function R5(r,e){return`Segment id ${r} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function _5(r,e,t){return`Bad: indices[${r}] == ${e} out of range [0, ${t})`}var qy={};Ee(qy,{collectGatherOpShapeInfo:()=>F5,computeOutShape:()=>D5,segOpComputeOptimalWindowSize:()=>O5});function O5(r,e){let t=!1,o;for(r<=_m?(o=r,t=!0):o=Ni(r,Math.floor(Math.sqrt(r)));!t;)o>e||o===r?t=!0:o=Ni(r,o+1);return o}function D5(r,e,t){let o=[],n=r.length;for(let s=0;s<n;s++)s!==e?o.push(r[s]):o.push(t);return o}function F5(r,e,t,o){let n=e.shape.length,s=r.shape.length;if(o!==0&&(o<-n||o>n))throw new Error(`Expect batchDims in the range of [-${n}, ${n}], but got ${o}`);if(o<0&&(o+=n),o>s)throw new Error(`batchDims (${o}) must be less than rank(x) (
    ${s}).`);if(t<o)throw new Error(`batchDims (${o}) must be less than or equal to axis (${t}).`);for(let p=0;p<o;++p)if(r.shape[p]!==e.shape[p])throw new Error(`x.shape[${p}]: ${r.shape[p]} should be equal to indices.shape[${p}]: ${e.shape[p]}.`);let i=r.shape[t],a=[],u=1,c=1,l=1;for(let p=0;p<o;++p)a.push(r.shape[p]),u*=r.shape[p];for(let p=o;p<t;p++)a.push(r.shape[p]),c*=r.shape[p];for(let p=o;p<n;p++)a.push(e.shape[p]);for(let p=t+1;p<s;p++)a.push(r.shape[p]),l*=r.shape[p];return{batchSize:u,sliceSize:l,outerSize:c,dimSize:i,outputShape:a}}function P5(r){try{return r.map(e=>Wi(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function L5(r){return r.map(e=>bn(e))}var io={};Ee(io,{nonMaxSuppressionV3Impl:()=>Cm,nonMaxSuppressionV4Impl:()=>Im,nonMaxSuppressionV5Impl:()=>Em,whereImpl:()=>bm});PT();var B5=P();B5.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,r=>{r&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var ur;(function(r){r[r.DT_INVALID=0]="DT_INVALID",r[r.DT_FLOAT=1]="DT_FLOAT",r[r.DT_DOUBLE=2]="DT_DOUBLE",r[r.DT_INT32=3]="DT_INT32",r[r.DT_UINT8=4]="DT_UINT8",r[r.DT_INT16=5]="DT_INT16",r[r.DT_INT8=6]="DT_INT8",r[r.DT_STRING=7]="DT_STRING",r[r.DT_COMPLEX64=8]="DT_COMPLEX64",r[r.DT_INT64=9]="DT_INT64",r[r.DT_BOOL=10]="DT_BOOL",r[r.DT_QINT8=11]="DT_QINT8",r[r.DT_QUINT8=12]="DT_QUINT8",r[r.DT_QINT32=13]="DT_QINT32",r[r.DT_BFLOAT16=14]="DT_BFLOAT16",r[r.DT_QINT16=15]="DT_QINT16",r[r.DT_QUINT16=16]="DT_QUINT16",r[r.DT_UINT16=17]="DT_UINT16",r[r.DT_COMPLEX128=18]="DT_COMPLEX128",r[r.DT_HALF=19]="DT_HALF",r[r.DT_RESOURCE=20]="DT_RESOURCE",r[r.DT_VARIANT=21]="DT_VARIANT",r[r.DT_UINT32=22]="DT_UINT32",r[r.DT_UINT64=23]="DT_UINT64",r[r.DT_FLOAT_REF=101]="DT_FLOAT_REF",r[r.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",r[r.DT_INT32_REF=103]="DT_INT32_REF",r[r.DT_UINT8_REF=104]="DT_UINT8_REF",r[r.DT_INT16_REF=105]="DT_INT16_REF",r[r.DT_INT8_REF=106]="DT_INT8_REF",r[r.DT_STRING_REF=107]="DT_STRING_REF",r[r.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",r[r.DT_INT64_REF=109]="DT_INT64_REF",r[r.DT_BOOL_REF=110]="DT_BOOL_REF",r[r.DT_QINT8_REF=111]="DT_QINT8_REF",r[r.DT_QUINT8_REF=112]="DT_QUINT8_REF",r[r.DT_QINT32_REF=113]="DT_QINT32_REF",r[r.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",r[r.DT_QINT16_REF=115]="DT_QINT16_REF",r[r.DT_QUINT16_REF=116]="DT_QUINT16_REF",r[r.DT_UINT16_REF=117]="DT_UINT16_REF",r[r.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",r[r.DT_HALF_REF=119]="DT_HALF_REF",r[r.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",r[r.DT_VARIANT_REF=121]="DT_VARIANT_REF",r[r.DT_UINT32_REF=122]="DT_UINT32_REF",r[r.DT_UINT64_REF=123]="DT_UINT64_REF"})(ur||(ur={}));var cC;(function(r){let e;(function(t){t[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"})(e=r.CheckpointFormatVersion||(r.CheckpointFormatVersion={}))})(cC||(cC={}));var V5={};function Om(r){return V5[r]}function v(r,e,t,o,n){let s=e.inputParams[r];if(s&&s.inputIndexStart!==void 0){let a=s.inputIndexStart,u=s.inputIndexEnd===0?void 0:s.inputIndexEnd===void 0?a+1:s.inputIndexEnd,c=a<0?e.inputNames.length+a:a;if(s.type==="tensor")return ct(e.inputNames[c],t,o,n);if(s.type==="tensors"){let f=e.inputs.slice(a,u);return e.inputNames.slice(a,u).filter((h,x)=>{var g;return((g=f[x])===null||g===void 0?void 0:g.op)!=="NoOp"}).map(h=>ct(h,t,o,n))}let l=ct(e.inputNames[c],t,o,n),p=l.dataSync();return s.type==="number"?p[0]:I.toNestedArray(l.shape,p)}let i=e.attrParams[r];return i&&i.value}function ct(r,e,t,o){let[n,s]=Zt(r,t);if(o!=null){let a=o.getHashTableHandleByName(n);if(a!=null)return a}let i=t.currentContextIds.find(a=>!!e[Dm(n,a)]);return i!==void 0?e[Dm(n,i)][s]:void 0}function Xy(r,e,t){return e[Dm(r,t.currentContextId)]}function ao(r,e){let[t,o,n]=Zt(r,e);return[Dm(t,e&&e.currentContextId),o,n]}function Dm(r,e){return e?`${r}-${e}`:r}function Zt(r,e){if(r==="")return["",0,void 0];let t=e!=null&&e.parseNodeNameCache!=null;if(t){let s=e.parseNodeNameCache.get(r);if(s!=null)return s}let o=r.split(":"),n;if(o.length===1)n=[r,0,void 0];else{let s=o[0],i=o.length===3?o[1]:void 0,a=Number(o[o.length-1]);n=[s,a,i]}return t&&e.parseNodeNameCache.set(r,n),n}function Ap(r,e,t){let o=v("pad",r,e,t);if(o==="explicit"){o=v("explicitPaddings",r,e,t);let n=[[0,0],[0,0],[0,0],[0,0]];for(let s=0;s<4;s++)n[s][0]=o[s*2],n[s][1]=o[s*2+1];return n}return o}function uo(r){return r.kept?r:ir(r)}var Yy={};Ee(Yy,{json:()=>U5});var U5=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var Zy={};Ee(Zy,{json:()=>G5});var G5=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var Qy={};Ee(Qy,{json:()=>z5});var z5=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}];var Jy={};Ee(Jy,{json:()=>W5});var W5=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}];var e1={};Ee(e1,{json:()=>H5});var H5=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}];var t1={};Ee(t1,{json:()=>j5});var j5=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var r1={};Ee(r1,{json:()=>K5});var K5=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}];var o1={};Ee(o1,{json:()=>q5});var q5=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}];var n1={};Ee(n1,{json:()=>X5});var X5=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}];var s1={};Ee(s1,{json:()=>Y5});var Y5=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}];var i1={};Ee(i1,{json:()=>Z5});var Z5=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}];var a1={};Ee(a1,{json:()=>Q5});var Q5=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}];var u1={};Ee(u1,{json:()=>J5});var J5=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}];var c1={};Ee(c1,{json:()=>eM});var eM=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}];var l1={};Ee(l1,{json:()=>tM});var tM=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}];var p1={};Ee(p1,{json:()=>rM});var rM=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}];var f1={};Ee(f1,{json:()=>oM});var oM=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}];var m1={};Ee(m1,{json:()=>nM});var nM=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}];var d1={};Ee(d1,{json:()=>sM});var sM=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];var Rp=class{static get Instance(){return this._instance||(this._instance=new this)}constructor(){let e=[Yy,Zy,Qy,Jy,e1,t1,r1,o1,n1,s1,i1,a1,u1,c1,l1,p1,f1,m1,d1],t=[].concat(...e.map(o=>o.json));this.opMappers=t.reduce((o,n)=>(o[n.tfOpName]=n,o),{})}transformGraph(e,t={}){let o=e.node,n=[],s=[],i=[],a=o.reduce((x,g)=>(x[g.name]=this.mapNode(g),g.op.startsWith("Placeholder")?n.push(x[g.name]):g.op==="Const"?s.push(x[g.name]):(g.input==null||g.input.length===0)&&i.push(x[g.name]),x),{}),u=[],c=[],l={},p={};t!=null&&(l=this.mapSignatureEntries(t.inputs),p=this.mapSignatureEntries(t.outputs));let f=Object.keys(a);f.forEach(x=>{let g=a[x];g.inputNames.forEach((b,C)=>{let[k,,A]=ao(b),D=a[k];if(D.outputs!=null){let L=D.outputs.indexOf(A);if(L!==-1){let M=`${k}:${L}`;g.inputNames[C]=M}}g.inputs.push(D),D.children.push(g)})}),Object.keys(p).length===0?f.forEach(x=>{let g=a[x];g.children.length===0&&c.push(g)}):Object.keys(p).forEach(x=>{let[g]=ao(x),b=a[g];b!=null&&(b.signatureKey=p[x],c.push(b))}),Object.keys(l).length>0?Object.keys(l).forEach(x=>{let[g]=ao(x),b=a[g];b&&(b.signatureKey=l[x],u.push(b))}):u=n;let d={};e.library!=null&&e.library.function!=null&&(d=e.library.function.reduce((x,g)=>(x[g.signature.name]=this.mapFunction(g),x),{}));let h={nodes:a,inputs:u,outputs:c,weights:s,placeholders:n,signature:t,functions:d};return i.length>0&&(h.initNodes=i),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce((t,o)=>(t[e[o].name]=o,t),{})}mapNode(e){let t=Om(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});let o={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map(n=>n.startsWith("^")?n.slice(1):n),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return t.inputs!=null&&(o.inputParams=t.inputs.reduce((n,s)=>(n[s.name]={type:s.type,inputIndexStart:s.start,inputIndexEnd:s.end},n),{})),t.attrs!=null&&(o.attrParams=t.attrs.reduce((n,s)=>{let i=s.type,a;switch(s.type){case"string":a=Fm(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Fm(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"string[]":a=Gm(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Gm(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number":a=Lm(e.attr,s.tfName,s.defaultValue||0),a===void 0&&s.tfDeprecatedName&&(a=Lm(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number[]":a=Um(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Um(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool":a=Pm(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Pm(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool[]":a=Wm(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Wm(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape":a=Vm(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Vm(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape[]":a=zm(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=zm(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype":a=Bm(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Bm(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype[]":a=Mm(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Mm(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"func":a=lC(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=lC(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${s.type} for op: ${e.op}`)}return n[s.name]={value:a,type:i},n},{})),o}mapFunction(e){let t=e.nodeDef,o=[],n=[],s={};t!=null&&(s=t.reduce((p,f)=>(p[f.name]=this.mapNode(f),f.op==="Const"&&n.push(p[f.name]),p),{}));let i=[],a=[];e.signature.inputArg.forEach(p=>{let[f]=ao(p.name),d={name:f,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:h1(p.type),type:"dtype"}},children:[]};d.signatureKey=p.name,i.push(d),s[f]=d}),Object.keys(s).forEach(p=>{let f=s[p];f.inputNames.forEach((d,h)=>{let[x,,g]=ao(d),b=s[x];if(b.outputs!=null){let C=b.outputs.indexOf(g);if(C!==-1){let k=`${x}:${C}`;f.inputNames[h]=k}}f.inputs.push(b),b.children.push(f)})});let c=e.ret;e.signature.outputArg.forEach(p=>{let[f,d]=ao(c[p.name]),h=s[f];h!=null&&(h.defaultOutput=d,a.push(h))});let l=this.mapArgsToSignature(e);return{nodes:s,inputs:i,outputs:a,weights:n,placeholders:o,signature:l}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((t,o)=>(t[o.name]=this.mapArgToTensorInfo(o),t),{}),outputs:e.signature.outputArg.reduce((t,o)=>(t[o.name]=this.mapArgToTensorInfo(o,e.ret),t),{})}}mapArgToTensorInfo(e,t){let o=e.name;return t!=null&&(o=t[o]),{name:o,dtype:e.type}}};function iM(r){let e=P().global;if(typeof e.atob<"u")return e.atob(r);if(typeof Buffer<"u")return new Buffer(r,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function pC(r,e){let t=Array.isArray(r)?String.fromCharCode.apply(null,r):iM(r);return e?t:t.toLowerCase()}function Fm(r,e,t,o=!1){let n=r[e];return n!=null?pC(n.s,o):t}function Pm(r,e,t){let o=r[e];return o?o.b:t}function Lm(r,e,t){let o=r[e]||{},n=o.i!=null?o.i:o.f!=null?o.f:t;return typeof n=="number"?n:parseInt(n,10)}function h1(r){switch(typeof r=="string"&&(r=ur[r]),r){case ur.DT_FLOAT:case ur.DT_HALF:return"float32";case ur.DT_INT32:case ur.DT_INT64:case ur.DT_INT8:case ur.DT_UINT8:return"int32";case ur.DT_BOOL:return"bool";case ur.DT_DOUBLE:return"float32";case ur.DT_STRING:return"string";case ur.DT_COMPLEX64:case ur.DT_COMPLEX128:return"complex64";default:return null}}function lC(r,e,t){let o=r[e];return o&&o.func?o.func.name:t}function Bm(r,e,t){let o=r[e];return o&&o.type?h1(o.type):t}function Mm(r,e,t){let o=r[e];return o&&o.list&&o.list.type?o.list.type.map(n=>h1(n)):t}function fC(r){if(!r.unknownRank)return r.dim!=null?r.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function Vm(r,e,t){let o=r[e];return o&&o.shape?fC(o.shape):t}function Um(r,e,t){let o=r[e];return o?((o.list.f&&o.list.f.length?o.list.f:o.list.i)||[]).map(n=>typeof n=="number"?n:parseInt(n,10)):t}function Gm(r,e,t,o=!1){let n=r[e];return n&&n.list&&n.list.s?n.list.s.map(s=>pC(s,o)):t}function zm(r,e,t){let o=r[e];return o&&o.list&&o.list.shape?o.list.shape.map(n=>fC(n)):t}function Wm(r,e,t){let o=r[e];return o&&o.list&&o.list.b?o.list.b:t}var Hm=class{constructor(e,t,o){this.node=e,this.tensorMap=t,this.context=o,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(n=>this.getInput(n)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((n,s)=>(n[s]=this.getAttr(s),n),{}))}getInput(e){return ct(e,this.tensorMap,this.context)}getAttr(e,t){let o=this.node.rawAttrs[e];if(o.tensor!=null)return ct(e,this.tensorMap,this.context);if(o.i!=null||o.f!=null)return Lm(this.node.rawAttrs,e,t);if(o.s!=null)return Fm(this.node.rawAttrs,e,t);if(o.b!=null)return Pm(this.node.rawAttrs,e,t);if(o.shape!=null)return Vm(this.node.rawAttrs,e,t);if(o.type!=null)return Bm(this.node.rawAttrs,e,t);if(o.list!=null){if(o.list.i!=null||o.list.f!=null)return Um(this.node.rawAttrs,e,t);if(o.list.s!=null)return Gm(this.node.rawAttrs,e,t);if(o.list.shape!=null)return zm(this.node.rawAttrs,e,t);if(o.list.b!=null)return Wm(this.node.rawAttrs,e,t);if(o.list.type!=null)return Mm(this.node.rawAttrs,e,t)}return t}};var $e={};Ee($e,{OP_SCOPE_SUFFIX:()=>om,abs:()=>gt,acos:()=>Ex,acosh:()=>Nx,add:()=>J,addN:()=>$x,all:()=>kx,any:()=>Ax,argMax:()=>ql,argMin:()=>Rx,asin:()=>_x,asinh:()=>Ox,atan:()=>Dx,atan2:()=>Fx,atanh:()=>Px,avgPool:()=>Zl,avgPool3d:()=>Vx,basicLSTMCell:()=>Ux,batchNorm:()=>Xo,batchNorm2d:()=>Gx,batchNorm3d:()=>zx,batchNorm4d:()=>Wx,batchToSpaceND:()=>Ql,bincount:()=>Jl,bitwiseAnd:()=>Hx,booleanMaskAsync:()=>AS,broadcastArgs:()=>jx,broadcastTo:()=>Yo,buffer:()=>xe,cast:()=>le,ceil:()=>Kx,clipByValue:()=>qx,clone:()=>ir,complex:()=>Ht,concat:()=>We,concat1d:()=>Xx,concat2d:()=>Yx,concat3d:()=>Zx,concat4d:()=>Qx,conv1d:()=>Jx,conv2d:()=>Zo,conv2dTranspose:()=>e0,conv3d:()=>t0,conv3dTranspose:()=>r0,cos:()=>o0,cosh:()=>n0,cosineWindow:()=>ta,cumprod:()=>s0,cumsum:()=>i0,denseBincount:()=>a0,depthToSpace:()=>u0,depthwiseConv2d:()=>Ms,diag:()=>c0,dilation2d:()=>l0,div:()=>be,divNoNan:()=>p0,dot:()=>f0,dropout:()=>LS,einsum:()=>Jo,elu:()=>ep,enclosingPowerOfTwo:()=>vm,ensureShape:()=>m0,equal:()=>Tn,erf:()=>d0,euclideanNorm:()=>g0,exp:()=>Dr,expandDims:()=>Tt,expm1:()=>x0,eye:()=>tp,fft:()=>Ws,fill:()=>to,floor:()=>rp,floorDiv:()=>Kl,fused:()=>wm,gather:()=>op,gatherND:()=>FS,greater:()=>Ao,greaterEqual:()=>np,ifft:()=>kn,imag:()=>rn,image:()=>An,inTopKAsync:()=>BS,irfft:()=>wp,isFinite:()=>y0,isInf:()=>b0,isNaN:()=>v0,leakyRelu:()=>sp,less:()=>Qi,lessEqual:()=>Vs,linalg:()=>_T,linspace:()=>w0,localResponseNormalization:()=>S0,log:()=>Ro,log1p:()=>ip,logSigmoid:()=>T0,logSoftmax:()=>C0,logSumExp:()=>up,logicalAnd:()=>In,logicalNot:()=>cp,logicalOr:()=>lp,logicalXor:()=>I0,losses:()=>OT,lowerBound:()=>E0,matMul:()=>we,max:()=>ro,maxPool:()=>pp,maxPool3d:()=>N0,maxPoolWithArgmax:()=>$0,maximum:()=>fp,mean:()=>En,meshgrid:()=>k0,min:()=>Zi,minimum:()=>Nn,mirrorPad:()=>mp,mod:()=>A0,moments:()=>R0,movingAverage:()=>RS,mul:()=>K,multiRNNCell:()=>_0,multinomial:()=>O0,neg:()=>Ct,norm:()=>Cn,notEqual:()=>dp,oneHot:()=>$n,ones:()=>oo,onesLike:()=>D0,op:()=>T,outerProduct:()=>F0,pad:()=>Pr,pad1d:()=>P0,pad2d:()=>L0,pad3d:()=>hp,pad4d:()=>B0,pool:()=>M0,pow:()=>ko,prelu:()=>xp,print:()=>jl,prod:()=>V0,raggedGather:()=>U0,raggedRange:()=>G0,raggedTensorToTensor:()=>z0,rand:()=>W0,randomGamma:()=>ty,randomNormal:()=>yp,randomStandardNormal:()=>ry,randomUniform:()=>zs,randomUniformInt:()=>oy,range:()=>zr,real:()=>_o,reciprocal:()=>ny,relu:()=>on,relu6:()=>bp,reshape:()=>U,reverse:()=>Cr,reverse1d:()=>sy,reverse2d:()=>iy,reverse3d:()=>ay,reverse4d:()=>uy,rfft:()=>Hs,round:()=>vp,rsqrt:()=>cy,scalar:()=>ne,scatterND:()=>_S,searchSorted:()=>Ji,selu:()=>ly,separableConv2d:()=>py,setdiff1dAsync:()=>fy,sigmoid:()=>ar,sign:()=>my,signal:()=>RT,sin:()=>dy,sinh:()=>hy,slice:()=>ve,slice1d:()=>gy,slice2d:()=>xy,slice3d:()=>yy,slice4d:()=>by,softmax:()=>vy,softplus:()=>ap,spaceToBatchND:()=>gp,sparse:()=>DT,sparseToDense:()=>DS,spectral:()=>AT,split:()=>Oo,sqrt:()=>qt,square:()=>xt,squaredDifference:()=>Sp,squeeze:()=>Xt,stack:()=>Vt,step:()=>Tp,stridedSlice:()=>wy,string:()=>FT,sub:()=>ie,sum:()=>_e,tan:()=>Sy,tanh:()=>Yi,tensor:()=>St,tensor1d:()=>yt,tensor2d:()=>no,tensor3d:()=>Cp,tensor4d:()=>Ty,tensor5d:()=>Cy,tensor6d:()=>Iy,tensorScatterUpdate:()=>Ny,tile:()=>tn,topk:()=>$y,transpose:()=>js,truncatedNormal:()=>ky,unique:()=>Ay,unsortedSegmentSum:()=>Ry,unstack:()=>Ir,upperBound:()=>_y,variable:()=>Oy,where:()=>Tr,whereAsync:()=>Ep,zeros:()=>Fr,zerosLike:()=>lt});var mC=(r,e,t,o=$e)=>{switch(r.op){case"BiasAdd":case"AddV2":case"Add":return[o.add(v("a",r,e,t),v("b",r,e,t))];case"AddN":return[o.addN(v("tensors",r,e,t))];case"FloorMod":case"Mod":return[o.mod(v("a",r,e,t),v("b",r,e,t))];case"Mul":return[o.mul(v("a",r,e,t),v("b",r,e,t))];case"RealDiv":case"Div":return[o.div(v("a",r,e,t),v("b",r,e,t))];case"DivNoNan":return[o.divNoNan(v("a",r,e,t),v("b",r,e,t))];case"FloorDiv":return[o.floorDiv(v("a",r,e,t),v("b",r,e,t))];case"Sub":return[o.sub(v("a",r,e,t),v("b",r,e,t))];case"Minimum":return[o.minimum(v("a",r,e,t),v("b",r,e,t))];case"Maximum":return[o.maximum(v("a",r,e,t),v("b",r,e,t))];case"Pow":return[o.pow(v("a",r,e,t),v("b",r,e,t))];case"SquaredDifference":return[o.squaredDifference(v("a",r,e,t),v("b",r,e,t))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};var dC=(r,e,t,o=$e)=>{switch(r.op){case"Abs":case"ComplexAbs":return[o.abs(v("x",r,e,t))];case"Acos":return[o.acos(v("x",r,e,t))];case"Acosh":return[o.acosh(v("x",r,e,t))];case"Asin":return[o.asin(v("x",r,e,t))];case"Asinh":return[o.asinh(v("x",r,e,t))];case"Atan":return[o.atan(v("x",r,e,t))];case"Atan2":return[o.atan2(v("x",r,e,t),v("y",r,e,t))];case"Atanh":return[o.atanh(v("x",r,e,t))];case"Ceil":return[o.ceil(v("x",r,e,t))];case"Complex":return[o.complex(v("real",r,e,t),v("imag",r,e,t))];case"Cos":return[o.cos(v("x",r,e,t))];case"Cosh":return[o.cosh(v("x",r,e,t))];case"Elu":return[o.elu(v("x",r,e,t))];case"Erf":return[o.erf(v("x",r,e,t))];case"Exp":return[o.exp(v("x",r,e,t))];case"Expm1":return[o.expm1(v("x",r,e,t))];case"Floor":return[o.floor(v("x",r,e,t))];case"Log":return[o.log(v("x",r,e,t))];case"Log1p":return[o.log1p(v("x",r,e,t))];case"Imag":return[o.imag(v("x",r,e,t))];case"Neg":return[o.neg(v("x",r,e,t))];case"Reciprocal":return[o.reciprocal(v("x",r,e,t))];case"Real":return[o.real(v("x",r,e,t))];case"Relu":return[o.relu(v("x",r,e,t))];case"Round":return[o.round(v("x",r,e,t))];case"Selu":return[o.selu(v("x",r,e,t))];case"Sigmoid":return[o.sigmoid(v("x",r,e,t))];case"Sin":return[o.sin(v("x",r,e,t))];case"Sign":return[o.sign(v("x",r,e,t))];case"Sinh":return[o.sinh(v("x",r,e,t))];case"Softplus":return[o.softplus(v("x",r,e,t))];case"Sqrt":return[o.sqrt(v("x",r,e,t))];case"Square":return[o.square(v("x",r,e,t))];case"Tanh":return[o.tanh(v("x",r,e,t))];case"Tan":return[o.tan(v("x",r,e,t))];case"ClipByValue":return[o.clipByValue(v("x",r,e,t),v("clipValueMin",r,e,t),v("clipValueMax",r,e,t))];case"Relu6":return[o.relu6(v("x",r,e,t))];case"Rsqrt":return[o.rsqrt(ct(r.inputNames[0],e,t))];case"LeakyRelu":return[o.leakyRelu(v("x",r,e,t),v("alpha",r,e,t))];case"Prelu":return[o.prelu(v("x",r,e,t),v("alpha",r,e,t))];case"IsNan":return[o.isNaN(ct(r.inputNames[0],e,t))];case"IsInf":return[o.isInf(ct(r.inputNames[0],e,t))];case"IsFinite":return[o.isFinite(ct(r.inputNames[0],e,t))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};function Er(r,e,t=""){if(!(typeof r=="number"||typeof e=="number")){I.assert(r.length===e.length,()=>t+` Shapes ${r} and ${e} must match`);for(let o=0;o<r.length;o++){let n=r[o],s=e[o];I.assert(n<0||s<0||n===s,()=>t+` Shapes ${r} and ${e} must match`)}}}function hC(r){return!(typeof r=="number"||r.some(e=>e<0))}function ia(r,e,t){let o=jm(r,t),n=!hC(o);if(n&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${o}`);if(n&&e.forEach(s=>{o=jm(s.shape,o)}),!hC(o))throw new Error(`Non-fully-defined elementShape: ${o}`);return o}function jm(r,e){if(typeof r=="number")return e;if(typeof e=="number")return r;if(r.length!==e.length)throw new Error(`Incompatible ranks during merge: ${r} vs. ${e}`);let t=[];for(let o=0;o<r.length;++o){let n=r[o],s=e[o];if(n>=0&&s>=0&&n!==s)throw new Error(`Incompatible shape during merge: ${r} vs. ${e}`);t[o]=n>=0?n:s}return t}var Km=class{constructor(e,t,o,n,s,i,a){this.name=e,this.dtype=t,this.maxSize=o,this.elementShape=n,this.identicalElementShapes=s,this.dynamicSize=i,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=ne(0),Kt(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(t=>{(e==null||!e.has(t.tensor.id))&&t.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);let t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map(t=>this.read(t))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);let o=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=t.shape),Er(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),o.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(o.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);o.tensor=t,Kt(t),o.written=!0,this.tensors[e]=o}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach((o,n)=>this.write(o,t[n]))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let n=0;n<this.size();n++)e.push(n)}if(e.length===0)return St([],[0].concat(this.elementShape));let o=this.readMany(e);return Er(this.elementShape,o[0].shape,"TensorArray shape mismatch: "),Vt(o,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return St([],[0].concat(this.elementShape));let t=[];for(let n=0;n<this.size();n++)t.push(n);let o=this.readMany(t);return Er(this.elementShape,o[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${o[0].shape})`),We(o,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);let o=Math.max(...e);if(!this.dynamicSize&&o>=this.maxSize)throw new Error(`Max index must be < array size (${o}  vs. ${this.maxSize})`);this.writeMany(e,Ir(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let o=0,n=e.map(u=>(o+=u,o));if(o!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${o}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);let s=o===0?0:t.size/o,i=[];te(()=>{t=U(t,[1,o,s]);for(let u=0;u<e.length;++u){let l=[0,u===0?0:n[u-1],0],p=[1,e[u],s];i[u]=U(ve(t,l,p),this.elementShape)}return i});let a=[];for(let u=0;u<e.length;u++)a[u]=u;this.writeMany(a,i)}};var aa=class r{get id(){return this.idTensor.id}constructor(e,t,o,n=-1){this.tensors=e,this.elementShape=t,this.elementDtype=o,e?.forEach(s=>{if(o!==s.dtype)throw new Error(`Invalid data types; op elements ${o}, but list elements ${s.dtype}`);Er(t,s.shape,"TensorList shape mismatch: "),Kt(s)}),this.idTensor=ne(0),this.maxNumElements=n,Kt(this.idTensor)}copy(){return new r([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(t=>{(e==null||!e.has(t.id))&&t.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,o=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(o!==-1&&this.tensors.length!==o)throw new Error(`Operation expected a list with ${o} elements but got a list with ${this.tensors.length} elements.`);Er(e,this.elementShape,"TensorList shape mismatch: ");let n=ia(this.elementShape,this.tensors,e);return te(()=>{let s=this.tensors.map(i=>U(i,n));return Vt(s,0)})}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");let o=ia(this.elementShape,this.tensors,e),n=this.tensors.pop();return n.kept=!1,Er(n.shape,e,"TensorList shape mismatch: "),U(n,o)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Er(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Kt(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);let t=new r([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let o=0;o<Math.min(this.tensors.length,e);++o)t.tensors[o]=this.tensors[o];return t}getItem(e,t,o){if(o!==this.elementDtype)throw new Error(`Invalid data types; op elements ${o}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);Er(this.tensors[e].shape,t,"TensorList shape mismatch: ");let n=ia(this.elementShape,this.tensors,t);return U(this.tensors[e],n)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Er(this.elementShape,t.shape,"TensorList shape mismatch: "),Kt(t),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,o){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);Er(this.elementShape,o,"TensorList shape mismatch: "),e=e.slice(0,this.size());let n=ia(this.elementShape,this.tensors,o);return e.length===0?St([],[0].concat(n)):te(()=>{let s=e.map(i=>U(this.tensors[i],n));return Vt(s,0)})}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Er(this.elementShape,t,"TensorList shape mismatch: ");let o=ia(this.elementShape,this.tensors,t);return this.size()===0?St([],[0].concat(o)):te(()=>{let n=this.tensors.map(s=>U(s,o));return We(n,0)})}};function gC(r,e,t){let o=r.dtype;if(r.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${r.shape}`);if(r.dtype!==t)throw new Error(`Invalid data types; op elements ${r.dtype}, but list elements ${t}`);let n=r.shape.slice(1);Er(n,e,"TensorList shape mismatch: ");let s=Ir(r);return new aa(s,e,o)}function xC(r,e,t,o){return new aa([],r,e,o)}function yC(r,e,t,o){if(e.length!==r.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${r.shape[0]}`);let n=Math.max(...e);if(o!=null&&o!==-1&&n>=o)throw new Error(`Max index must be < array size (${n}  vs. ${o})`);let s=new aa([],t,r.dtype,o),i=Ir(r,0);return e.forEach((a,u)=>{s.setItem(a,i[u])}),s}function bC(r,e,t){let o=0,n=e.map(l=>(o+=l,o));if(o!==r.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${o}, and tensor's shape is: ${r.shape}`);let s=r.shape.slice(1),i=jm(s,t),a=o===0?0:r.size/o,u=te(()=>{let l=[];r=U(r,[1,o,a]);for(let p=0;p<e.length;++p){let d=[0,p===0?0:n[p-1],0],h=[1,e[p],a];l[p]=U(ve(r,d,h),i)}return r.dispose(),l}),c=new aa([],t,r.dtype,e.length);for(let l=0;l<u.length;l++)c.setItem(l,u[l]);return c}var vC=async(r,e,t)=>{switch(r.op){case"If":case"StatelessIf":{let o=v("thenBranch",r,e,t),n=v("elseBranch",r,e,t),s=v("cond",r,e,t),i=v("args",r,e,t);return(await s.data())[0]?t.functionMap[o].executeFunctionAsync(i,t.tensorArrayMap,t.tensorListMap):t.functionMap[n].executeFunctionAsync(i,t.tensorArrayMap,t.tensorListMap)}case"While":case"StatelessWhile":{let o=v("body",r,e,t),n=v("cond",r,e,t),s=v("args",r,e,t),i=await t.functionMap[n].executeFunctionAsync(s,t.tensorArrayMap,t.tensorListMap),a=s.map(l=>l.id),u=await i[0].data();i.forEach(l=>{!l.kept&&a.indexOf(l.id)===-1&&l.dispose()});let c=s;for(;u[0];){let l=c;c=await t.functionMap[o].executeFunctionAsync(c,t.tensorArrayMap,t.tensorListMap);let p=c.map(d=>d.id);l.forEach(d=>{!d.kept&&a.indexOf(d.id)===-1&&p.indexOf(d.id)===-1&&d.dispose()});let f=await t.functionMap[n].executeFunctionAsync(c,t.tensorArrayMap,t.tensorListMap);u=await f[0].data(),f.forEach(d=>{!d.kept&&a.indexOf(d.id)===-1&&p.indexOf(d.id)===-1&&d.dispose()})}return c}case"LoopCond":{let o=v("pred",r,e,t);return[uo(o)]}case"Switch":{let o=v("pred",r,e,t),n=v("data",r,e,t);return n.kept||(n=uo(n)),(await o.data())[0]?[void 0,n]:[n,void 0]}case"Merge":{let o=r.inputNames.find(n=>ct(n,e,t)!==void 0);if(o){let n=ct(o,e,t);return[uo(n)]}return}case"Enter":{let o=v("frameName",r,e,t),n=v("tensor",r,e,t);return t.enterFrame(o),[uo(n)]}case"Exit":{let o=v("tensor",r,e,t);return t.exitFrame(),[uo(o)]}case"NextIteration":{let o=v("tensor",r,e,t);return t.nextIteration(),[uo(o)]}case"TensorArrayV3":{let o=v("size",r,e,t),n=v("dtype",r,e,t),s=v("elementShape",r,e,t),i=v("dynamicSize",r,e,t),a=v("clearAfterRead",r,e,t),u=v("identicalElementShapes",r,e,t),c=v("name",r,e,t),l=new Km(c,n,o,s,u,i,a);return t.addTensorArray(l),[l.idTensor,ne(1)]}case"TensorArrayWriteV3":{let o=v("tensorArrayId",r,e,t),n=v("index",r,e,t),s=v("tensor",r,e,t),i=t.getTensorArray(o.id);return i.write(n,s),[i.idTensor]}case"TensorArrayReadV3":{let o=v("tensorArrayId",r,e,t),n=v("index",r,e,t);return[t.getTensorArray(o.id).read(n)]}case"TensorArrayGatherV3":{let o=v("tensorArrayId",r,e,t),n=v("indices",r,e,t),s=v("dtype",r,e,t);return[t.getTensorArray(o.id).gather(n,s)]}case"TensorArrayScatterV3":{let o=v("tensorArrayId",r,e,t),n=v("indices",r,e,t),s=v("tensor",r,e,t),i=t.getTensorArray(o.id);return i.scatter(n,s),[i.idTensor]}case"TensorArrayConcatV3":{let o=v("tensorArrayId",r,e,t),n=t.getTensorArray(o.id),s=v("dtype",r,e,t);return[n.concat(s)]}case"TensorArraySplitV3":{let o=v("tensorArrayId",r,e,t),n=v("tensor",r,e,t),s=v("lengths",r,e,t),i=t.getTensorArray(o.id);return i.split(s,n),[i.idTensor]}case"TensorArraySizeV3":{let o=v("tensorArrayId",r,e,t),n=t.getTensorArray(o.id);return[ne(n.size(),"int32")]}case"TensorArrayCloseV3":{let o=v("tensorArrayId",r,e,t),n=t.getTensorArray(o.id);return n.clearAndClose(),[n.idTensor]}case"TensorListSetItem":{let o=v("tensorListId",r,e,t),n=v("index",r,e,t),s=v("tensor",r,e,t),i=t.getTensorList(o.id);return i.setItem(n,s),[i.idTensor]}case"TensorListGetItem":{let o=v("tensorListId",r,e,t),n=v("index",r,e,t),s=v("elementShape",r,e,t),i=v("elementDType",r,e,t);return[t.getTensorList(o.id).getItem(n,s,i)]}case"TensorListScatterV2":case"TensorListScatter":{let o=v("indices",r,e,t),n=v("tensor",r,e,t),s=v("elementShape",r,e,t),i=v("numElements",r,e,t),a=yC(n,o,s,i);return t.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{let o=v("elementShape",r,e,t),n=v("elementDType",r,e,t),s;r.op==="TensorListReserve"?s="numElements":s="maxNumElements";let i=v(s,r,e,t),a=r.op==="TensorListReserve"?-1:i,u=xC(o,n,i,a);return t.addTensorList(u),[u.idTensor]}case"TensorListGather":{let o=v("tensorListId",r,e,t),n=v("indices",r,e,t),s=v("elementShape",r,e,t),i=v("elementDType",r,e,t);return[t.getTensorList(o.id).gather(n,i,s)]}case"TensorListStack":{let o=v("tensorListId",r,e,t),n=v("elementShape",r,e,t),s=v("elementDType",r,e,t),i=v("numElements",r,e,t);return[t.getTensorList(o.id).stack(n,s,i)]}case"TensorListFromTensor":{let o=v("tensor",r,e,t),n=v("elementShape",r,e,t),s=v("elementDType",r,e,t),i=gC(o,n,s);return t.addTensorList(i),[i.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{let o=v("tensorListId",r,e,t),n=t.getTensorList(o.id),s=v("dtype",r,e,t),i=v("elementShape",r,e,t);return[n.concat(s,i)]}case"TensorListPushBack":{let o=v("tensorListId",r,e,t),n=v("tensor",r,e,t),s=t.getTensorList(o.id);return s.pushBack(n),[s.idTensor]}case"TensorListPopBack":{let o=v("tensorListId",r,e,t),n=v("elementShape",r,e,t),s=v("elementDType",r,e,t);return[t.getTensorList(o.id).popBack(n,s)]}case"TensorListSplit":{let o=v("tensor",r,e,t),n=v("elementShape",r,e,t),s=v("lengths",r,e,t),i=bC(o,s,n);return t.addTensorList(i),[i.idTensor]}case"TensorListLength":{let o=v("tensorListId",r,e,t),n=t.getTensorList(o.id);return[ne(n.size(),"int32")]}case"TensorListResize":{let o=v("tensorListId",r,e,t),n=v("size",r,e,t),i=t.getTensorList(o.id).resize(n);return t.addTensorList(i),[i.idTensor]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};function wC(r,e,t){let[o,n]=v("fusedOps",r,e,t),s=o==="biasadd",i=!s,a=n==="prelu",u=o==="fusedbatchnorm",c=v("numArgs",r,e,t);if(s){if(a&&c!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&s&&c!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(u)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");let l=v("strides",r,e,t),p=Ap(r,e,t),f=v("dataFormat",r,e,t).toUpperCase(),d=v("dilations",r,e,t),[h,x]=v("args",r,e,t);i&&(x=h,h=void 0);let g=v("leakyreluAlpha",r,e,t);return{stride:l,pad:p,dataFormat:f,dilations:d,biasArg:h,preluArg:x,activationFunc:n,leakyreluAlpha:g}}var SC=(r,e,t,o=$e)=>{switch(r.op){case"Conv1D":{let n=v("stride",r,e,t),s=v("pad",r,e,t),i=v("dataFormat",r,e,t).toUpperCase(),a=v("dilation",r,e,t);return[o.conv1d(v("x",r,e,t),v("filter",r,e,t),n,s,i,a)]}case"Conv2D":{let n=v("strides",r,e,t),s=Ap(r,e,t),i=v("dataFormat",r,e,t).toUpperCase(),a=v("dilations",r,e,t);return[o.conv2d(v("x",r,e,t),v("filter",r,e,t),[n[1],n[2]],s,i,[a[1],a[2]])]}case"_FusedConv2D":{let{stride:n,pad:s,dataFormat:i,dilations:a,biasArg:u,preluArg:c,activationFunc:l,leakyreluAlpha:p}=wC(r,e,t);return[o.fused.conv2d({x:v("x",r,e,t),filter:v("filter",r,e,t),strides:[n[1],n[2]],pad:s,dataFormat:i,dilations:[a[1],a[2]],bias:u,activation:l,preluActivationWeights:c,leakyreluAlpha:p})]}case"FusedDepthwiseConv2dNative":{let{stride:n,pad:s,dataFormat:i,dilations:a,biasArg:u,preluArg:c,activationFunc:l,leakyreluAlpha:p}=wC(r,e,t);return[o.fused.depthwiseConv2d({x:v("x",r,e,t),filter:v("filter",r,e,t),strides:[n[1],n[2]],pad:s,dataFormat:i,dilations:[a[1],a[2]],bias:u,activation:l,preluActivationWeights:c,leakyreluAlpha:p})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{let n=v("outputShape",r,e,t),s=v("strides",r,e,t),i=Ap(r,e,t);return[o.conv2dTranspose(v("x",r,e,t),v("filter",r,e,t),n,[s[1],s[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{let n=v("strides",r,e,t),s=Ap(r,e,t),i=v("dilations",r,e,t),a=v("dataFormat",r,e,t).toUpperCase();return[o.depthwiseConv2d(v("input",r,e,t),v("filter",r,e,t),[n[1],n[2]],s,a,[i[1],i[2]])]}case"Conv3D":{let n=v("strides",r,e,t),s=v("pad",r,e,t),i=v("dataFormat",r,e,t).toUpperCase(),a=v("dilations",r,e,t);return[o.conv3d(v("x",r,e,t),v("filter",r,e,t),[n[1],n[2],n[3]],s,i,[a[1],a[2],a[3]])]}case"AvgPool":{let n=v("strides",r,e,t),s=v("pad",r,e,t),i=v("kernelSize",r,e,t);return[o.avgPool(v("x",r,e,t),[i[1],i[2]],[n[1],n[2]],s)]}case"MaxPool":{let n=v("strides",r,e,t),s=v("pad",r,e,t),i=v("kernelSize",r,e,t);return[o.maxPool(v("x",r,e,t),[i[1],i[2]],[n[1],n[2]],s)]}case"MaxPoolWithArgmax":{let n=v("strides",r,e,t),s=v("pad",r,e,t),i=v("kernelSize",r,e,t),a=v("includeBatchInIndex",r,e,t),{result:u,indexes:c}=o.maxPoolWithArgmax(v("x",r,e,t),[i[1],i[2]],[n[1],n[2]],s,a);return[u,c]}case"AvgPool3D":{let n=v("strides",r,e,t),s=v("pad",r,e,t),i=v("kernelSize",r,e,t);return[o.avgPool3d(v("x",r,e,t),[i[1],i[2],i[3]],[n[1],n[2],n[3]],s)]}case"MaxPool3D":{let n=v("strides",r,e,t),s=v("pad",r,e,t),i=v("kernelSize",r,e,t);return[o.maxPool3d(v("x",r,e,t),[i[1],i[2],i[3]],[n[1],n[2],n[3]],s)]}case"Dilation2D":{let n=v("strides",r,e,t),s=v("pad",r,e,t),i=v("dilations",r,e,t),a=n[1],u=n[2],c=i[1],l=i[2];return[o.dilation2d(v("x",r,e,t),v("filter",r,e,t),[a,u],s,[c,l],"NHWC")]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};var TC=(r,e,t,o=$e)=>{switch(r.op){case"Fill":{let n=v("shape",r,e,t),s=v("dtype",r,e,t),i=v("value",r,e,t);return[o.fill(n,i,s)]}case"LinSpace":{let n=v("start",r,e,t),s=v("stop",r,e,t),i=v("num",r,e,t);return[o.linspace(n,s,i)]}case"Multinomial":{let n=v("logits",r,e,t),s=v("numSamples",r,e,t),i=v("seed",r,e,t);return[o.multinomial(n,s,i)]}case"OneHot":{let n=v("indices",r,e,t),s=v("depth",r,e,t),i=v("onValue",r,e,t),a=v("offValue",r,e,t),u=v("dtype",r,e,t);return[o.oneHot(n,s,i,a,u)]}case"Ones":return[o.ones(v("shape",r,e,t),v("dtype",r,e,t))];case"OnesLike":return[o.onesLike(v("x",r,e,t))];case"RandomStandardNormal":return[o.randomStandardNormal(v("shape",r,e,t),v("dtype",r,e,t),v("seed",r,e,t))];case"RandomUniform":return[o.randomUniform(v("shape",r,e,t),v("minval",r,e,t),v("maxval",r,e,t),v("dtype",r,e,t))];case"RandomUniformInt":return[o.randomUniformInt(v("shape",r,e,t),v("minval",r,e,t),v("maxval",r,e,t),v("seed",r,e,t))];case"Range":{let n=v("start",r,e,t),s=v("stop",r,e,t),i=v("step",r,e,t);return[o.range(n,s,i,v("dtype",r,e,t))]}case"TruncatedNormal":{let n=v("shape",r,e,t),s=v("mean",r,e,t),i=v("stdDev",r,e,t),a=v("seed",r,e,t);return[o.truncatedNormal(n,s,i,v("dtype",r,e,t),a)]}case"Zeros":return[o.zeros(v("shape",r,e,t),v("dtype",r,e,t))];case"ZerosLike":return[o.zerosLike(v("x",r,e,t))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};function g1(r,e,t){let o=v("boxes",r,e,t),n=v("scores",r,e,t),s=v("maxOutputSize",r,e,t),i=v("iouThreshold",r,e,t),a=v("scoreThreshold",r,e,t),u=v("softNmsSigma",r,e,t);return{boxes:o,scores:n,maxOutputSize:s,iouThreshold:i,scoreThreshold:a,softNmsSigma:u}}var CC=async(r,e,t,o,n=$e)=>{switch(r.op){case"NonMaxSuppressionV5":{let{boxes:s,scores:i,maxOutputSize:a,iouThreshold:u,scoreThreshold:c,softNmsSigma:l}=g1(r,e,t),p=await n.image.nonMaxSuppressionWithScoreAsync(s,i,a,u,c,l);return[p.selectedIndices,p.selectedScores]}case"NonMaxSuppressionV4":{let{boxes:s,scores:i,maxOutputSize:a,iouThreshold:u,scoreThreshold:c}=g1(r,e,t),l=v("padToMaxOutputSize",r,e,t),p=await n.image.nonMaxSuppressionPaddedAsync(s,i,a,u,c,l);return[p.selectedIndices,p.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{let{boxes:s,scores:i,maxOutputSize:a,iouThreshold:u,scoreThreshold:c}=g1(r,e,t);return[await n.image.nonMaxSuppressionAsync(s,i,a,u,c)]}case"Where":{let s=n.cast(v("condition",r,e,t),"bool"),i=[await n.whereAsync(s)];return s.dispose(),i}case"ListDiff":return n.setdiff1dAsync(v("x",r,e,t),v("y",r,e,t));default:throw TypeError(`Node type ${r.op} is not implemented`)}};var IC=(r,e,t,o=$e)=>{switch(r.op){case"LowerBound":{let n=v("sortedSequence",r,e,t),s=v("values",r,e,t);return[o.lowerBound(n,s)]}case"TopKV2":{let n=v("x",r,e,t),s=v("k",r,e,t),i=v("sorted",r,e,t),a=o.topk(n,s,i);return[a.values,a.indices]}case"UpperBound":{let n=v("sortedSequence",r,e,t),s=v("values",r,e,t);return[o.upperBound(n,s)]}case"Unique":{let n=v("x",r,e,t),s=o.unique(n);return[s.values,s.indices]}case"UniqueV2":{let n=v("x",r,e,t),s=v("axis",r,e,t),i=o.unique(n,s);return[i.values,i.indices]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};var EC=(r,e,t,o=$e)=>{switch(r.op){case"Const":return e[r.name];case"PlaceholderWithDefault":let n=v("default",r,e,t);return[ct(r.name,e,t)||n];case"Placeholder":return[ct(r.name,e,t)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{let l=v("x",r,e,t);return[uo(l)]}case"IdentityN":return v("x",r,e,t).map(l=>uo(l));case"Snapshot":let s=v("x",r,e,t);return[uo(s)];case"Shape":return[o.tensor1d(v("x",r,e,t).shape,"int32")];case"ShapeN":return v("x",r,e,t).map(l=>o.tensor1d(l.shape));case"Size":return[o.scalar(v("x",r,e,t).size,"int32")];case"Rank":return[o.scalar(v("x",r,e,t).rank,"int32")];case"NoOp":return[o.scalar(1)];case"Print":let i=v("x",r,e,t),a=v("data",r,e,t),u=v("message",r,e,t),c=v("summarize",r,e,t);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(u);for(let l=0;l<a.length;l++)console.log(Array.prototype.slice.call(a[l].dataSync()).slice(0,c));return[i];default:throw TypeError(`Node type ${r.op} is not implemented`)}};var qm=class{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=ne(0),this.tensorMap=new Map,Kt(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return ne(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);let o=await e.data();return this.tensorMap.forEach(n=>n.dispose()),this.tensorMap.clear(),te(()=>{let n=Ir(t),s=o.length,i=n.length;I.assert(s===i,()=>`The number of elements doesn't match, keys has ${s} elements, the values has ${i} elements.`);for(let a=0;a<s;a++){let u=o[a],c=n[a];Kt(c),this.tensorMap.set(u,c)}return this.handle})}async find(e,t){this.checkKeyAndValueTensor(e,t);let o=await e.data();return te(()=>{let n=[];for(let s=0;s<o.length;s++){let i=o[s],a=this.findWithDefault(i,t);n.push(a)}return Vt(n)})}findWithDefault(e,t){let o=this.tensorMap.get(e);return o??t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}};var NC=async(r,e,t,o)=>{switch(r.op){case"HashTable":case"HashTableV2":{let n=o.getHashTableHandleByName(r.name);if(n!=null)return[n];{let s=v("keyDType",r,e,t),i=v("valueDType",r,e,t),a=new qm(s,i);return o.addHashTable(r.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{let n=v("tableHandle",r,e,t,o),s=v("keys",r,e,t),i=v("values",r,e,t);return[await o.getHashTableById(n.id).import(s,i)]}case"LookupTableFind":case"LookupTableFindV2":{let n=v("tableHandle",r,e,t,o),s=v("keys",r,e,t),i=v("defaultValue",r,e,t);return[await o.getHashTableById(n.id).find(s,i)]}case"LookupTableSize":case"LookupTableSizeV2":{let n=v("tableHandle",r,e,t,o);return[o.getHashTableById(n.id).tensorSize()]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};var $C=(r,e,t,o=$e)=>{switch(r.op){case"ResizeBilinear":{let n=v("images",r,e,t),s=v("size",r,e,t),i=v("alignCorners",r,e,t),a=v("halfPixelCenters",r,e,t);return[o.image.resizeBilinear(n,[s[0],s[1]],i,a)]}case"ResizeNearestNeighbor":{let n=v("images",r,e,t),s=v("size",r,e,t),i=v("alignCorners",r,e,t),a=v("halfPixelCenters",r,e,t);return[o.image.resizeNearestNeighbor(n,[s[0],s[1]],i,a)]}case"CropAndResize":{let n=v("image",r,e,t),s=v("boxes",r,e,t),i=v("boxInd",r,e,t),a=v("cropSize",r,e,t),u=v("method",r,e,t),c=v("extrapolationValue",r,e,t);return[o.image.cropAndResize(n,s,i,a,u,c)]}case"ImageProjectiveTransformV3":{let n=v("images",r,e,t),s=v("transforms",r,e,t),i=v("outputShape",r,e,t),a=v("fillValue",r,e,t),u=v("interpolation",r,e,t),c=v("fillMode",r,e,t);return[o.image.transform(n,s,u.toLowerCase(),c.toLowerCase(),a,i)]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};var kC=(r,e,t,o=$e)=>{switch(r.op){case"Equal":return[o.equal(v("a",r,e,t),v("b",r,e,t))];case"NotEqual":return[o.notEqual(v("a",r,e,t),v("b",r,e,t))];case"Greater":return[o.greater(v("a",r,e,t),v("b",r,e,t))];case"GreaterEqual":return[o.greaterEqual(v("a",r,e,t),v("b",r,e,t))];case"Less":return[o.less(v("a",r,e,t),v("b",r,e,t))];case"LessEqual":return[o.lessEqual(v("a",r,e,t),v("b",r,e,t))];case"LogicalAnd":return[o.logicalAnd(v("a",r,e,t),v("b",r,e,t))];case"LogicalNot":return[o.logicalNot(v("a",r,e,t))];case"LogicalOr":return[o.logicalOr(v("a",r,e,t),v("b",r,e,t))];case"Select":case"SelectV2":return[o.where(v("condition",r,e,t),v("a",r,e,t),v("b",r,e,t))];case"BitwiseAnd":return[o.bitwiseAnd(v("a",r,e,t),v("b",r,e,t))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};var AC=(r,e,t,o=$e)=>{switch(r.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[o.matMul(v("a",r,e,t),v("b",r,e,t),v("transposeA",r,e,t),v("transposeB",r,e,t))];case"Einsum":return[o.einsum(v("equation",r,e,t),...v("tensors",r,e,t))];case"Transpose":return[o.transpose(v("x",r,e,t),v("perm",r,e,t))];case"_FusedMatMul":let[n,s]=v("fusedOps",r,e,t),i=n==="biasadd",a=s==="prelu",u=v("numArgs",r,e,t),c=v("leakyreluAlpha",r,e,t);if(i){if(a&&u!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&u!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}let[l,p]=v("args",r,e,t);return[o.fused.matMul({a:v("a",r,e,t),b:v("b",r,e,t),transposeA:v("transposeA",r,e,t),transposeB:v("transposeB",r,e,t),bias:l,activation:s,preluActivationWeights:p,leakyreluAlpha:c})];case"MatrixBandPart":return[o.linalg.bandPart(v("a",r,e,t),v("numLower",r,e,t),v("numUpper",r,e,t))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};var RC=(r,e,t,o=$e)=>{switch(r.op){case"EuclideanNorm":return[o.euclideanNorm(v("x",r,e,t),v("axis",r,e,t),v("keepDims",r,e,t))];case"FusedBatchNorm":case"FusedBatchNormV2":return[o.batchNorm(v("x",r,e,t),v("mean",r,e,t),v("variance",r,e,t),v("offset",r,e,t),v("scale",r,e,t),v("epsilon",r,e,t))];case"FusedBatchNormV3":return[o.batchNorm(v("x",r,e,t),v("mean",r,e,t),v("variance",r,e,t),v("offset",r,e,t),v("scale",r,e,t),v("epsilon",r,e,t))];case"LRN":return[o.localResponseNormalization(v("x",r,e,t),v("radius",r,e,t),v("bias",r,e,t),v("alpha",r,e,t),v("beta",r,e,t))];case"Softmax":return[o.softmax(v("x",r,e,t))];case"LogSoftmax":return[o.logSoftmax(v("x",r,e,t))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};var _C=(r,e,t,o=$e)=>{switch(r.op){case"RaggedGather":{let{outputNestedSplits:n,outputDenseValues:s}=o.raggedGather(v("paramsNestedSplits",r,e,t),v("paramsDenseValues",r,e,t),v("indices",r,e,t),v("outputRaggedRank",r,e,t));return n.concat(s)}case"RaggedRange":{let{rtNestedSplits:n,rtDenseValues:s}=o.raggedRange(v("starts",r,e,t),v("limits",r,e,t),v("splits",r,e,t));return[n,s]}case"RaggedTensorToTensor":return[o.raggedTensorToTensor(v("shape",r,e,t),v("values",r,e,t),v("defaultValue",r,e,t),v("rowPartitionTensors",r,e,t),v("rowPartitionTypes",r,e,t))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};var OC=(r,e,t,o=$e)=>{switch(r.op){case"Max":{let a=v("axis",r,e,t),u=v("keepDims",r,e,t);return[o.max(v("x",r,e,t),a,u)]}case"Mean":{let a=v("axis",r,e,t),u=v("keepDims",r,e,t);return[o.mean(v("x",r,e,t),a,u)]}case"Min":{let a=v("axis",r,e,t),u=v("keepDims",r,e,t);return[o.min(v("x",r,e,t),a,u)]}case"Sum":{let a=v("axis",r,e,t),u=v("keepDims",r,e,t);return[o.sum(v("x",r,e,t),a,u)]}case"All":{let a=v("axis",r,e,t),u=v("keepDims",r,e,t);return[o.all(v("x",r,e,t),a,u)]}case"Any":{let a=v("axis",r,e,t),u=v("keepDims",r,e,t);return[o.any(v("x",r,e,t),a,u)]}case"ArgMax":{let a=v("axis",r,e,t);return[o.argMax(v("x",r,e,t),a)]}case"ArgMin":{let a=v("axis",r,e,t);return[o.argMin(v("x",r,e,t),a)]}case"Prod":{let a=v("axis",r,e,t),u=v("keepDims",r,e,t);return[o.prod(v("x",r,e,t),a,u)]}case"Cumprod":{let a=v("axis",r,e,t),u=v("exclusive",r,e,t),c=v("reverse",r,e,t);return[o.cumprod(v("x",r,e,t),a,u,c)]}case"Cumsum":{let a=v("axis",r,e,t),u=v("exclusive",r,e,t),c=v("reverse",r,e,t);return[o.cumsum(v("x",r,e,t),a,u,c)]}case"Bincount":let n=v("x",r,e,t),s=v("weights",r,e,t),i=v("size",r,e,t);return[o.bincount(n,s,i)];case"DenseBincount":{let a=v("x",r,e,t),u=v("weights",r,e,t),c=v("size",r,e,t),l=v("binaryOutput",r,e,t);return[o.denseBincount(a,u,c,l)]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};var DC=(r,e,t,o=$e)=>{switch(r.op){case"ConcatV2":case"Concat":{let n=v("n",r,e,t),s=v("axis",r,e,t),i=v("tensors",r,e,t);return i=i.slice(0,n),[o.concat(i,s)]}case"Gather":{let n=v("x",r,e,t),s=v("indices",r,e,t);return[o.gather(n,o.cast(s,"int32"),0)]}case"GatherV2":{let n=v("axis",r,e,t),s=v("batchDims",r,e,t),i=v("x",r,e,t),a=v("indices",r,e,t);return[o.gather(i,o.cast(a,"int32"),n,s)]}case"Reverse":{let n=v("dims",r,e,t),s=[];for(let a=0;a<n.length;a++)n[a]&&s.push(a);let i=v("x",r,e,t);return[o.reverse(i,s)]}case"ReverseV2":{let n=v("axis",r,e,t),s=v("x",r,e,t);return[o.reverse(s,n)]}case"Slice":{let n=v("begin",r,e,t),s=v("size",r,e,t);return[o.slice(v("x",r,e,t),n,s)]}case"StridedSlice":{let n=v("begin",r,e,t),s=v("end",r,e,t),i=v("strides",r,e,t),a=v("beginMask",r,e,t),u=v("endMask",r,e,t),c=v("ellipsisMask",r,e,t),l=v("newAxisMask",r,e,t),p=v("shrinkAxisMask",r,e,t),f=v("x",r,e,t);return[o.stridedSlice(f,n,s,i,a,u,c,l,p)]}case"Pack":return te(()=>{let n=v("axis",r,e,t),s=v("tensors",r,e,t),i=s[0].shape,a=o.squeeze(s[0]).shape,u=s.map(c=>{let l=I.arraysEqual(c.shape,i);if(!l&&!I.arraysEqual(o.squeeze(c).shape,a))throw new Error("the input tensors shape does not match");return l?c:o.reshape(c,i)});return[o.stack(u,n)]});case"Unpack":{let n=v("axis",r,e,t),s=v("tensor",r,e,t);return o.unstack(s,n)}case"Tile":{let n=v("reps",r,e,t);return[o.tile(v("x",r,e,t),n)]}case"Split":case"SplitV":{let n=v("axis",r,e,t),s=v("numOrSizeSplits",r,e,t),i=v("x",r,e,t);return o.split(i,s,n)}case"ScatterNd":{let n=v("indices",r,e,t),s=v("values",r,e,t),i=v("shape",r,e,t);return[o.scatterND(n,s,i)]}case"GatherNd":{let n=v("x",r,e,t),s=v("indices",r,e,t);return[o.gatherND(n,s)]}case"SparseToDense":{let n=v("sparseIndices",r,e,t),s=v("outputShape",r,e,t),i=v("sparseValues",r,e,t),a=v("defaultValue",r,e,t);return[o.sparseToDense(n,i,s,i.dtype===a.dtype?a:o.cast(a,i.dtype))]}case"TensorScatterUpdate":{let n=v("indices",r,e,t),s=v("values",r,e,t),i=v("tensor",r,e,t);return[o.tensorScatterUpdate(i,n,s)]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};var FC=(r,e,t,o=$e)=>{switch(r.op){case"SparseFillEmptyRows":{let{outputIndices:n,outputValues:s,emptyRowIndicator:i,reverseIndexMap:a}=o.sparse.sparseFillEmptyRows(v("indices",r,e,t),v("values",r,e,t),v("denseShape",r,e,t),v("defaultValue",r,e,t));return[n,s,i,a]}case"SparseReshape":{let{outputIndices:n,outputShape:s}=o.sparse.sparseReshape(v("inputIndices",r,e,t),v("inputShape",r,e,t),v("newShape",r,e,t));return[n,s]}case"SparseSegmentMean":return[o.sparse.sparseSegmentMean(v("data",r,e,t),v("indices",r,e,t),v("segmentIds",r,e,t))];case"SparseSegmentSum":return[o.sparse.sparseSegmentSum(v("data",r,e,t),v("indices",r,e,t),v("segmentIds",r,e,t))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};var PC=(r,e,t,o=$e)=>{switch(r.op){case"FFT":return[o.fft(v("x",r,e,t))];case"IFFT":return[o.ifft(v("x",r,e,t))];case"RFFT":return[o.rfft(v("x",r,e,t))];case"IRFFT":return[o.irfft(v("x",r,e,t))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};var LC=(r,e,t,o=$e)=>{switch(r.op){case"StaticRegexReplace":return[o.string.staticRegexReplace(v("input",r,e,t),v("pattern",r,e,t),v("rewrite",r,e,t),v("replaceGlobal",r,e,t))];case"StringNGrams":{let{nGrams:n,nGramsSplits:s}=o.string.stringNGrams(v("data",r,e,t),v("dataSplits",r,e,t),v("separator",r,e,t),v("nGramWidths",r,e,t),v("leftPad",r,e,t),v("rightPad",r,e,t),v("padWidth",r,e,t),v("preserveShortSequences",r,e,t));return[n,s]}case"StringSplit":{let{indices:n,values:s,shape:i}=o.string.stringSplit(v("input",r,e,t),v("delimiter",r,e,t),v("skipEmpty",r,e,t));return[n,s,i]}case"StringToHashBucketFast":return[o.string.stringToHashBucketFast(v("input",r,e,t),v("numBuckets",r,e,t))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};var BC=(r,e,t,o=$e)=>{switch(r.op){case"Cast":return[o.cast(v("x",r,e,t),v("dtype",r,e,t))];case"ExpandDims":{let n=v("axis",r,e,t);return[o.expandDims(v("x",r,e,t),n)]}case"Squeeze":{let n=v("axis",r,e,t);return[o.squeeze(v("x",r,e,t),n)]}case"Reshape":return[o.reshape(v("x",r,e,t),v("shape",r,e,t))];case"EnsureShape":return[o.ensureShape(v("x",r,e,t),v("shape",r,e,t))];case"MirrorPad":return[o.mirrorPad(v("x",r,e,t),v("padding",r,e,t),v("mode",r,e,t))];case"PadV2":case"Pad":return[o.pad(v("x",r,e,t),v("padding",r,e,t),v("constantValue",r,e,t))];case"SpaceToBatchND":{let n=v("blockShape",r,e,t),s=v("paddings",r,e,t);return[o.spaceToBatchND(v("x",r,e,t),n,s)]}case"BatchToSpaceND":{let n=v("blockShape",r,e,t),s=v("crops",r,e,t);return[o.batchToSpaceND(v("x",r,e,t),n,s)]}case"DepthToSpace":{let n=v("blockSize",r,e,t),s=v("dataFormat",r,e,t).toUpperCase();return[o.depthToSpace(v("x",r,e,t),n,s)]}case"BroadcastTo":return[o.broadcastTo(v("x",r,e,t),v("shape",r,e,t))];case"BroadcastArgs":return[o.broadcastArgs(v("s0",r,e,t),v("s1",r,e,t))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};function x1(r,e,t,o,n=te){let s=((i,a,u)=>{switch(i.category){case"arithmetic":return n(()=>mC(i,a,u));case"basic_math":return n(()=>dC(i,a,u));case"control":return vC(i,a,u);case"convolution":return n(()=>SC(i,a,u));case"creation":return n(()=>TC(i,a,u));case"dynamic":return CC(i,a,u);case"evaluation":return n(()=>IC(i,a,u));case"image":return n(()=>$C(i,a,u));case"graph":return n(()=>EC(i,a,u));case"logical":return n(()=>kC(i,a,u));case"matrices":return n(()=>AC(i,a,u));case"normalization":return n(()=>RC(i,a,u));case"ragged":return n(()=>_C(i,a,u));case"reduction":return n(()=>OC(i,a,u));case"slice_join":return n(()=>DC(i,a,u));case"sparse":return n(()=>FC(i,a,u));case"spectral":return n(()=>PC(i,a,u));case"string":return n(()=>LC(i,a,u));case"transformation":return n(()=>BC(i,a,u));case"hash_table":return NC(i,a,u,o);case"custom":let c=Om(i.op);if(c&&c.customExecutor)return c.customExecutor(new Hm(i,a,u));throw TypeError(`Custom op ${i.op} is not registered.`);default:throw TypeError(`Unknown op '${i.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(r,e,t);return I.isPromise(s)?s.then(i=>[].concat(i)):[].concat(s)}var _p=class{constructor(e={},t={},o={},n={},s){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=o,this.functionMap=n,this.parseNodeNameCache=s,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){let e=[];for(let t=0;t<this.contexts.length-1;t++){let o=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(o))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(t=>t.id===0&&t.iterationId===0?"":`${t.frameName}-${t.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;let e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(let t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(let t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}};function y1(r,e,t,o){let n=new Set,s=[],i=null,a=null,u=new Set,c=new Set(Object.keys(r).map(f=>Zt(f)[0]));o=o||[];let l=new Set(o.map(f=>Zt(f.name)[0])),p=[...e];for(;p.length>0;){let f=p.pop();if((Ln(f)||_M(f)||OM(f))&&i==null&&(i=f,a=i.children.map(d=>d.name).filter(d=>n.has(d))),n.add(f.name),t[f.name]==null&&!c.has(f.name)&&!l.has(f.name)){if(f.inputs.length===0){s.push(f.name);continue}f.inputs.forEach(d=>{u.has(d.name)||(u.add(d.name),p.push(d))})}}return{inputs:r,outputs:e,usedNodes:n,missingInputs:s,dynamicNode:i,syncInputs:a}}function MC(r,e){let{usedNodes:t,inputs:o}=e,n=Object.keys(o).map(g=>Zt(g)[0]).map(g=>r.nodes[g]),s=r.initNodes||[],i=g=>t.has(typeof g=="string"?g:g.name);function a(g){return[...new Map(g.map(b=>[b.name,b])).values()]}let u=a([...n,...r.weights,...s]).filter(i),c=a([...u,...Object.values(r.nodes)]).filter(i),l=new Map(c.map(g=>[g.name,g])),p={};for(let g of c){p[g.name]=p[g.name]||0;for(let b of g.children)i(b)||(p[b.name]=Number.POSITIVE_INFINITY),p[b.name]=(p[b.name]||0)+1}let f=Object.entries(p).filter(([,g])=>g===0).map(([g])=>g),d=[...f];for(;f.length>0;){let g=f.pop(),b=l.get(g);for(let C of b.children.filter(i))--p[C.name]===0&&(d.push(C.name),f.push(C.name))}let h=d.map(g=>l.get(g)),x=NM(h,u);return $M(x,u),x}function NM(r,e){let t=new Map(r.map(i=>[i.name,i])),o=e.map(i=>i.name),n=new Set(o);for(;o.length>0;){let i=o.pop(),a=t.get(i);for(let u of a.children)!t.has(u.name)||n.has(u.name)||(n.add(u.name),o.push(u.name))}return r.filter(i=>n.has(i.name))}var ua=class extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}};function $M(r,e){let t=new Map(r.map((a,u)=>[a.name,u])),o=new Set(e.map(a=>a.name)),n=a=>o.has(typeof a=="string"?a:a.name),s=new Set(r.map(a=>a.name)),i=a=>s.has(typeof a=="string"?a:a.name);for(let a of r){for(let u of a.children.filter(i)){if(!t.has(u.name))throw new ua(`Child ${u.name} of node ${a.name} is unreachable.`);if(t.get(a.name)>t.get(u.name))throw new ua(`Node ${a.name} is scheduled to run after its child ${u.name}.`)}if(!n(a))for(let u of a.inputs){if(!t.has(u.name))throw new ua(`Input ${u.name} of node ${a.name} is unreachable.`);if(t.get(u.name)>t.get(a.name))throw new ua(`Node ${a.name} is scheduled to run before its input ${u.name}.`)}}}function VC(r){let e=new Map(r.map((a,u)=>[a.name,u])),t=Number.MAX_SAFE_INTEGER,o=r.map((a,u)=>Ln(a)?t:u),n=a=>{let u=o[e.get(a.name)];return u??-1},s=r.map((a,u)=>a.children.map(n).reduce((c,l)=>Math.max(c,l),o[u])),i=new Map;for(let a=0;a<r.length;++a){let u=s[a];if(u===t)continue;let c=r[a],l=r[u];i.has(l.name)||i.set(l.name,[]),i.get(l.name).push(c)}return i}var kM=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),AM=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),RM=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function Ln(r){return kM.has(r.op)}function _M(r){return AM.has(r.op)}function OM(r){return RM.has(r.op)}var Op=class r{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){let t=Object.keys(e).map(o=>e[o].map(n=>n.id));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{let t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t})}get functions(){return Object.keys(this._functions).reduce((e,t)=>(e[t]=this._functions[t].signature,e),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(o=>{this._functionExecutorMap[o]=new r(e.functions[o],this)})}getCompilationKey(e,t){let o=e.map(s=>s.name).sort(),n=t.map(s=>s.name).sort();return o.join(this.SEPARATOR)+"--"+n.join(this.SEPARATOR)}compile(e,t){let o=y1(e,t,this.weightMap,this._initNodes),{missingInputs:n,dynamicNode:s,syncInputs:i}=o;if(s!=null)throw new Error(`This execution contains the node '${s.name}', which has the dynamic op '${s.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${i}]`);if(n.length>0){let c=t.map(p=>p.name),l=Object.keys(e);throw new Error(`Cannot compute the outputs [${c}] from the provided inputs [${l}]. Missing the following inputs: [${n}]`)}let a=MC(this.graph,o),u=VC(a);return{orderedNodes:a,nodeLiveUntilMap:u}}cloneAndKeepTensor(e){if(e==null)return null;let t=e.clone();return Kt(t),t}cloneTensorList(e){return e?e.map(o=>this.cloneAndKeepTensor(o)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([t,o])=>[t,this.cloneTensorList(o)]))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);let o=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);let n=o.map(f=>this.graph.nodes[Zt(f)[0]]),s=t.map(f=>Zt(f)[0]),i=new Set(s),a=s.map(f=>this.graph.nodes[f]);a.length===0&&(a=this._outputs);let u=this.getCompilationKey(n,a),c=this.compiledMap.get(u);c==null&&(c=this.compile(e,a),this.compiledMap.set(u,c));try{this.keepIntermediateTensors=P().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(f){this.keepIntermediateTensors=!1,console.warn(f.message)}let l={},p={};return te(()=>{let f=new _p(this.weightMap,l,p,this.functionExecutorMap,this.parseNodeNameCache),d=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(b=>{let[C,k]=Zt(b,f),A=[];A[k]=e[b],d[C]=A,this.keepIntermediateTensors&&(this.clonedTensorsMap[C]=this.cloneTensorList(A))});let h=this.getFrozenTensorIds(d),{orderedNodes:x,nodeLiveUntilMap:g}=c;for(let b of x){if(d[b.name])continue;let C=x1(b,d,f,this._resourceManager);if(I.isPromise(C))throw new Error(`The execution of the op '${b.op}' returned a promise. Please use model.executeAsync() instead.`);d[b.name]=C,this.keepIntermediateTensors&&(this.clonedTensorsMap[b.name]=this.cloneTensorList(C)),this.checkTensorForDisposalWithNodeLiveUntilInfo(b,d,f,h,i,g.get(b.name))}return this.parent==null&&f.dispose(h),t.map(b=>ct(b,d,f))})}getFrozenTensorIds(e){let t=[].concat.apply([],Object.keys(e).map(o=>e[o]).map(o=>o.map(n=>n.id)));return new Set(t)}checkTensorForDisposal(e,t,o,n,s,i,a){if(!(Ln(t)||i.has(e))){for(let u of o[e])u!=null&&(a[u.id]=(a[u.id]||0)+t.children.length);for(let u of t.inputs){if(Ln(u))continue;let c=Xy(u.name,o,n);if(c!=null)for(let l of c){if(!l||l.kept||s.has(l.id))continue;let p=a[l.id];p===1?(l.dispose(),delete a[l.id]):p!=null&&a[l.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,o,n,s,i){function a(u){return Ln(u)||s.has(u.name)}if(!(Ln(e)||i==null))for(let u of i){if(a(u))continue;let c=Xy(u.name,t,o);for(let l of c)!l||l.kept||n.has(l.id)||l.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(let t of e)t&&!t.isDisposed&&t.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t,o=!1,n={},s={}){this.disposeIntermediateTensors(),o||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=P().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(f){this.keepIntermediateTensors=!1,console.warn(f.message)}let i=new _p(this.weightMap,n,s,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));let a=await this.executeWithControlFlow(e,i,t,o),u=t.map(f=>ct(f,a,i)),c=u.map(f=>f.id),l=Object.keys(e).map(f=>e[f].id),p=new Set([...c,...l,...this.weightIds]);return Object.values(a).forEach(f=>{f.forEach(d=>{d&&!d.isDisposed&&!p.has(d.id)&&d.dispose()})}),this.parent==null&&i.dispose(p),u}async executeFunctionAsync(e,t,o){let n=e.reduce((s,i,a)=>(s[this.inputs[a].name]=i,s),{});return this._executeAsync(n,this.outputNodes,!0,t,o)}async executeWithControlFlow(e,t,o,n){let s=Object.keys(e),i=s.map(A=>this.graph.nodes[Zt(A)[0]]),a=o.map(A=>Zt(A)[0]),u=new Set(a),c=a.map(A=>this.graph.nodes[A]);c.length===0&&(c=this._outputs);let{usedNodes:l,missingInputs:p,dynamicNode:f,syncInputs:d}=y1(e,c,this.weightMap,this._initNodes),h=[...i,...this.graph.weights,...this._initNodes||[]].map(A=>({node:A,contexts:t.currentContext})),x=Object.assign({},this.weightMap);Object.keys(e).forEach(A=>{let[D,L]=Zt(A),M=[];M[L]=e[A],x[D]=M});let g={},b=this.getFrozenTensorIds(x),C={};for(;h.length>0;){let A=this.processStack(i,h,t,x,C,b,u,g,l);await Promise.all(A)}f==null&&!n&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");let k=c.filter(A=>!Ln(A)&&!ct(A.name,x,t)).map(A=>A.name);if(k.length>0){let A="";throw f!=null&&(A=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${d}]`),new Error(`Cannot compute the outputs [${k}] from the provided inputs [${s}]. Consider providing the following inputs: [${p}]. ${A}`)}return x}processStack(e,t,o,n,s,i,a,u,c){let l=[];for(;t.length>0;){let p=t.pop();o.currentContext=p.contexts;let f="";if(p.node.op==="Enter"&&v("isConstant",p.node,n,o)&&([f]=ao(p.node.name,o)),n[p.node.name]==null){let d=x1(p.node,n,o,this._resourceManager);f||([f]=ao(p.node.name,o));let h=o.currentContext;I.isPromise(d)?l.push(d.then(x=>(n[f]=x,this.keepIntermediateTensors&&(this.clonedTensorsMap[f]=this.cloneTensorList(x)),o.currentContext=h,this.checkTensorForDisposal(f,p.node,n,o,i,a,u),this.processChildNodes(p.node,t,o,n,s,c),x))):(n[f]=d,this.keepIntermediateTensors&&(this.clonedTensorsMap[f]=this.cloneTensorList(d)),this.checkTensorForDisposal(f,p.node,n,o,i,a,u),this.processChildNodes(p.node,t,o,n,s,c))}else this.processChildNodes(p.node,t,o,n,s,c)}return l}processChildNodes(e,t,o,n,s,i){e.children.forEach(a=>{let[u]=ao(a.name,o);s[u]||!i.has(a.name)||(a.op==="Merge"?a.inputNames.some(c=>!!ct(c,n,o))&&(s[u]=!0,t.push({contexts:o.currentContext,node:a})):a.inputNames.every(c=>!!ct(c,n,o))&&(s[u]=!0,t.push({contexts:o.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(t=>t.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(t=>{let o=e[t],[n]=Zt(t),s=this.graph.nodes[n];if(s.attrParams.shape&&s.attrParams.shape.value){let i=s.attrParams.shape.value,a=i.length===o.shape.length&&o.shape.every((u,c)=>i[c]===-1||i[c]===u);I.assert(a,()=>`The shape of dict['${s.name}'] provided in model.execute(dict) must be [${i}], but was [${o.shape}]`)}s.attrParams.dtype&&s.attrParams.dtype.value&&I.assert(o.dtype===s.attrParams.dtype.value,()=>`The dtype of dict['${s.name}'] provided in model.execute(dict) must be ${s.attrParams.dtype.value}, but was ${o.dtype}`)})}mapInputs(e){var t,o;let n={};for(let s in e){let i=(o=(t=this._signature)===null||t===void 0?void 0:t.inputs)===null||o===void 0?void 0:o[s];i!=null?n[i.name]=e[s]:n[s]=e[s]}return n}checkInputs(e){let t=Object.keys(e).filter(o=>{let[n]=Zt(o);return this.graph.nodes[n]==null});if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map(t=>{var o,n;let s=(n=(o=this._signature)===null||o===void 0?void 0:o.outputs)===null||n===void 0?void 0:n[t];return s!=null?s.name:t},{})}checkOutputs(e){e.forEach(t=>{let[o]=Zt(t);if(!this.graph.nodes[o])throw new Error(`The output '${t}' is not found in the graph`)})}};var Xm=class{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(let e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(let e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}};var DM="?tfjs-format=file",FM="model.json",Ym=class{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,t={},o=oa){this.modelUrl=e,this.loadOptions=t,this.version="n/a",this.io=o,t==null&&(this.loadOptions={}),this.resourceManager=new Xm}findIOHandler(){let e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{let t=this.io.getLoadHandlers(e,this.loadOptions);if(t.length===0)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");let e=this.handler.load();return I.isPromise(e)?e.then(t=>t.getWeightStream==null?this.loadSync(t):this.loadStreaming(t)):this.loadSync(e)}loadSync(e){let t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");let t=await sm(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,t)}loadWithWeightMap(e,t){this.artifacts=e;let o=this.artifacts.modelTopology,n=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){let s=this.artifacts.userDefinedMetadata;s.signature!=null&&(n=s.signature),s.structuredOutputKeys!=null&&(this.structuredOutputKeys=s.structuredOutputKeys)}if(this.signature=n,this.version=`${o.versions.producer}.${o.versions.minConsumer}`,this.executor=new Op(Rp.Instance.transformGraph(o,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){let s=Rp.Instance.transformGraph(e.modelInitializer);this.initializer=new Op(s),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if(typeof e=="string"){let o=this.io.getSaveHandlers(e);if(o.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(o.length>1)throw new Error(`Found more than one (${o.length}) save handlers for URL '${e}'`);e=o[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){let t=e instanceof ye?[e]:e,o={};return t.forEach((n,s)=>o[this.structuredOutputKeys[s]]=n),o}return e}predict(e,t){let o=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(o)}async predictAsync(e,t){let o=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(o)}normalizeInputs(e){var t;if(!(e instanceof ye)&&!Array.isArray(e)){let s=(t=this.signature)===null||t===void 0?void 0:t.inputs;if(s!=null)for(let i in s){let a=s[i];a.resourceId!=null&&(e[i]=this.resourceIdToCapturedInput[a.resourceId])}return e}e=Array.isArray(e)?e:[e];let o=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+o!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-o} non-resource placeholders, while there are ${e.length} input tensors provided.`);let n=0;return this.inputNodes.reduce((s,i)=>{var a,u,c;let l=(c=(u=(a=this.signature)===null||a===void 0?void 0:a.inputs)===null||u===void 0?void 0:u[i])===null||c===void 0?void 0:c.resourceId;return l!=null?s[i]=this.resourceIdToCapturedInput[l]:s[i]=e[n++],s},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){let t=this.initializerSignature.outputs,o=Object.keys(t);for(let n=0;n<o.length;n++){let s=o[n],i=t[s];this.resourceIdToCapturedInput[i.resourceId]=e[n]}}}execute(e,t){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);let o=this.executor.execute(e,t);return o.length>1?o:o[0]}async executeAsync(e,t){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);let o=await this.executor.executeAsync(e,t);return o.length>1?o:o[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((t,o)=>(t[o]=[e[o]],t),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&ot(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}};async function Dp(r,e={},t=oa){if(r==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof r=="string"&&(r=PM(r));let o=new Ym(r,e,t);return await o.load(),o}function PM(r){return r.endsWith("/")||(r=r+"/"),`${r}${FM}${DM}`}var iI=De(Kw());var C1=function(r,e){return C1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])},C1(r,e)};function aI(r,e){function t(){this.constructor=r}C1(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qt=function(){return Qt=Object.assign||function(r){for(var e,t=1,o=arguments.length;t<o;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},Qt.apply(this,arguments)};function ke(r,e,t,o){return new(t||(t=Promise))(function(n,s){function i(c){try{u(o.next(c))}catch(l){s(l)}}function a(c){try{u(o.throw(c))}catch(l){s(l)}}function u(c){var l;c.done?n(c.value):(l=c.value,l instanceof t?l:new t(function(p){p(l)})).then(i,a)}u((o=o.apply(r,e||[])).next())})}function Ae(r,e){var t,o,n,s,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,o&&(n=2&l[0]?o.return:l[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,l[1])).done)return n;switch(o=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,o=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(n=i.trys,!((n=n.length>0&&n[n.length-1])||l[0]!==6&&l[0]!==2)){i=0;continue}if(l[0]===3&&(!n||l[1]>n[0]&&l[1]<n[3])){i.label=l[1];break}if(l[0]===6&&i.label<n[1]){i.label=n[1],n=l;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(l);break}n[2]&&i.ops.pop(),i.trys.pop();continue}l=e.call(r,i)}catch(p){l=[6,p],o=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([u,c])}}}function sd(r){return r instanceof SVGAnimatedLength?r.baseVal.value:r}function E1(r){return ke(this,void 0,void 0,function(){var e,t;return Ae(this,function(o){switch(o.label){case 0:return e=document.createElement("canvas"),r instanceof ye?[4,so.toPixels(r,e)]:[3,2];case 1:return o.sent(),[3,3];case 2:e.width=sd(r.width),e.height=sd(r.height),t=e.getContext("2d"),r instanceof ImageData?t.putImageData(r,0,0):t.drawImage(r,0,0),o.label=3;case 3:return[2,e]}})})}function uI(r){return ke(this,void 0,void 0,function(){var e,t,o,n,s,i;return Ae(this,function(a){switch(a.label){case 0:return r instanceof ye?(e=r.shape.slice(0,2),t=e[0],o=e[1],n=ImageData.bind,[4,so.toPixels(r)]):[3,2];case 1:return[2,new(n.apply(ImageData,[void 0,a.sent(),o,t]))];case 2:return s=document.createElement("canvas"),i=s.getContext("2d"),s.width=sd(r.width),s.height=sd(r.height),i.drawImage(r,0,0),[2,i.getImageData(0,0,s.width,s.height)]}})})}function cI(r){return ke(this,void 0,void 0,function(){var e,t;return Ae(this,function(o){switch(o.label){case 0:return r instanceof SVGImageElement||r instanceof OffscreenCanvas?[4,E1(r)]:[3,2];case 1:return t=o.sent(),[3,3];case 2:t=r,o.label=3;case 3:return e=t,[2,so.fromPixels(e,4)]}})})}function ad(r){if(r<0||r>=256)throw new Error("Mask value must be in range [0, 255] but got "+r);if(!Number.isInteger(r))throw new Error("Mask value must be an integer but got "+r)}function lI(r){var e=r.shape[2],t=ql(r,2),o=U(t,[-1]);return $n(o,e)}function Zm(r,e){return te(function(){return le(Ao(r,ne(e)),"int32")})}function LM(r,e){var t=e.shape,o=t[0],n=t[1],s=t[2];return te(function(){var i=lI(e),a=Tt(zr(0,s,1,"int32"),1),u=le(we(i,a),"int32"),c=U(u,[o,n]),l=J(c,ne(1,"int32"));return ie(function(p,f){return K(p,f)}(l,r),ne(1,"int32"))})}var pI=function(){function r(e,t){this.model=e,this.outputStride=t;var o=this.model.inputs[0].shape;I.assert(o[1]===-1&&o[2]===-1,function(){return"Input shape ["+o[1]+", "+o[2]+"] must both be equal to or -1"})}return r.prototype.predict=function(e){var t=this;return te(function(){var o=t.preprocessInput(le(e,"float32")),n=Tt(o,0),s=t.model.predict(n).map(function(a){return Xt(a,[0])}),i=t.nameOutputResults(s);return{heatmapScores:ar(i.heatmap),offsets:i.offsets,displacementFwd:i.displacementFwd,displacementBwd:i.displacementBwd,segmentation:i.segmentation,partHeatmaps:i.partHeatmaps,longOffsets:i.longOffsets,partOffsets:i.partOffsets}})},r.prototype.dispose=function(){this.model.dispose()},r}(),BM=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return aI(e,r),e.prototype.preprocessInput=function(t){return te(function(){return ie(be(t,127.5),1)})},e.prototype.nameOutputResults=function(t){return{offsets:t[0],segmentation:t[1],partHeatmaps:t[2],longOffsets:t[3],heatmap:t[4],displacementFwd:t[5],displacementBwd:t[6],partOffsets:t[7]}},e}(pI),ud=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],co=ud.length,id=ud.reduce(function(r,e,t){return r[e]=t,r},{});[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]].map(function(r){var e=r[0],t=r[1];return[id[e],id[t]]});function N1(r,e,t){var o=r[0],n=r[1],s=e[0],i=e[1],a=t.top,u=t.bottom;return[i/(t.left+t.right+n),s/(a+u+o)]}function fI(r,e,t,o){return{y:o.get(r,e,t),x:o.get(r,e,t+co)}}function mI(r,e,t){var o=fI(r.heatmapY,r.heatmapX,r.id,t),n=o.y,s=o.x;return{x:r.heatmapX*e+s,y:r.heatmapY*e+n}}function UC(r,e,t){return r<e?e:r>t?t:r}function GC(r,e){return{x:r.x+e.x,y:r.y+e.y}}function MM(r,e,t){t===void 0&&(t=.3);for(var o=0,n=0,s=0;s<r.length;s++)e.keypoints[s].score>t&&(n+=1,o+=Math.pow(r[s].x-e.keypoints[s].position.x,2)+Math.pow(r[s].y-e.keypoints[s].position.y,2));return n===0?o=1/0:o/=n,o}function VM(r,e,t,o,n,s,i){for(var a=i[0],u=i[1],c=t(r),l=c.y*o+c.x,p=n[co*(2*l)+e],f=n[co*(2*l+1)+e],d=r.y+p,h=r.x+f,x=0;x<s;x++){d=Math.min(d,a-1);var g=t({x:h=Math.min(h,u-1),y:d}),b=g.y*o+g.x;d+=p=n[co*(2*b)+e],h+=f=n[co*(2*b+1)+e]}return{x:h,y:d}}function dI(r,e,t,o,n,s,i,a,u,c){for(var l=n[0],p=n[1],f=s[0],d=s[1],h=a[0],x=a[1],g=[],b=function(V){return function(z,W,H,X){var oe=W[0],ae=W[1],ce=H[0],Se=H[1],Ie=Math.round(((oe+z.y+1)*Se-1)/X);return{x:Math.round(((ae+z.x+1)*ce-1)/X),y:Ie}}(V,[l,p],[f,d],u)},C=0;C<o;C++){var k=VM(r,C,b,i,e,c,[h,x]);g.push(k)}for(var A=-1,D=1/0,L=0;L<t.length;L++){var M=MM(g,t[L]);M<D&&(A=L,D=M)}return A}function hI(r,e){var t=r[0],o=r[1];return[Math.round((o-1)/e+1),Math.round((t-1)/e+1)]}function gI(r,e,t,o,n,s,i,a,u,c,l){for(var p=i[0],f=i[1],d=r.shape,h=d[0],x=d[1],g=e.shape.slice(0,2),b=g[0],C=g[1],k=U(e,[b,C,2,co]),A=new Float32Array(l*co*3).fill(0),D=0;D<t.length;D++)for(var L=D*co*3,M=t[D],V=0;V<co;V++){var z=M.keypoints[V],W=L+3*V;A[W]=z.score,A[W+1]=z.position.y,A[W+2]=z.position.x}var H=N1([o,n],[p,f],a),X=H[0],oe=H[1],ae=St(A,[l,co,3]),ce=a.top,Se=a.left,Ie={variableNames:["segmentation","longOffsets","poses"],outputShape:[h,x],userCode:`
    int convertToPositionInOutput(int pos, int pad, float scale, int stride) {
      return round(((float(pos + pad) + 1.0) * scale - 1.0) / float(stride));
    }

    float convertToPositionInOutputFloat(
        int pos, int pad, float scale, int stride) {
      return ((float(pos + pad) + 1.0) * scale - 1.0) / float(stride);
    }

    float dist(float x1, float y1, float x2, float y2) {
      return pow(x1 - x2, 2.0) + pow(y1 - y2, 2.0);
    }

    float sampleLongOffsets(float h, float w, int d, int k) {
      float fh = fract(h);
      float fw = fract(w);
      int clH = int(ceil(h));
      int clW = int(ceil(w));
      int flH = int(floor(h));
      int flW = int(floor(w));
      float o11 = getLongOffsets(flH, flW, d, k);
      float o12 = getLongOffsets(flH, clW, d, k);
      float o21 = getLongOffsets(clH, flW, d, k);
      float o22 = getLongOffsets(clH, clW, d, k);
      float o1 = mix(o11, o12, fw);
      float o2 = mix(o21, o22, fw);
      return mix(o1, o2, fh);
    }

    int findNearestPose(int h, int w) {
      float prob = getSegmentation(h, w);
      if (prob < 1.0) {
        return -1;
      }

      // Done(Tyler): convert from output space h/w to strided space.
      float stridedH = convertToPositionInOutputFloat(
        h, `+ce+", "+oe+", "+s+`);
      float stridedW = convertToPositionInOutputFloat(
        w, `+Se+", "+X+", "+s+`);

      float minDist = 1000000.0;
      int iMin = -1;
      for (int i = 0; i < `+l+`; i++) {
        float curDistSum = 0.0;
        int numKpt = 0;
        for (int k = 0; k < `+co+`; k++) {
          float dy = sampleLongOffsets(stridedH, stridedW, 0, k);
          float dx = sampleLongOffsets(stridedH, stridedW, 1, k);

          float y = float(h) + dy;
          float x = float(w) + dx;

          for (int s = 0; s < `+u+`; s++) {
            int yRounded = round(min(y, float(`+(o-1)+`)));
            int xRounded = round(min(x, float(`+(n-1)+`)));

            float yStrided = convertToPositionInOutputFloat(
              yRounded, `+ce+", "+oe+", "+s+`);
            float xStrided = convertToPositionInOutputFloat(
              xRounded, `+Se+", "+X+", "+s+`);

            float dy = sampleLongOffsets(yStrided, xStrided, 0, k);
            float dx = sampleLongOffsets(yStrided, xStrided, 1, k);

            y = y + dy;
            x = x + dx;
          }

          float poseScore = getPoses(i, k, 0);
          float poseY = getPoses(i, k, 1);
          float poseX = getPoses(i, k, 2);
          if (poseScore > `+c+`) {
            numKpt = numKpt + 1;
            curDistSum = curDistSum + dist(x, y, poseX, poseY);
          }
        }
        if (numKpt > 0 && curDistSum / float(numKpt) < minDist) {
          minDist = curDistSum / float(numKpt);
          iMin = i;
        }
      }
      return iMin;
    }

    void main() {
        ivec2 coords = getOutputCoords();
        int nearestPose = findNearestPose(coords[0], coords[1]);
        setOutput(float(nearestPose));
      }
  `};return Wl().compileAndRun(Ie,[r,k,ae])}function xI(){return zl()==="webgl"}function UM(r,e,t,o,n,s,i,a,u,c,l,p){var f=i[0],d=i[1];return u===void 0&&(u=.2),c===void 0&&(c=8),l===void 0&&(l=.3),p===void 0&&(p=10),ke(this,void 0,void 0,function(){var h,x,g,b,C;return Ae(this,function(k){switch(k.label){case 0:return h=t.filter(function(A){return A.score>=u}),xI()?(g=te(function(){var A=gI(r,e,h,o,n,s,[f,d],a,c,l,p),D=Or().makeTensorFromDataId(A.dataId,A.shape,A.dtype);return h.map(function(L,M){return function(V,z){return te(function(){return le(Tn(V,ne(z)),"int32")})}(D,M)})}),[4,Promise.all(g.map(function(A){return A.data()}))]):[3,2];case 1:return x=k.sent(),g.forEach(function(A){return A.dispose()}),[3,5];case 2:return[4,r.data()];case 3:return b=k.sent(),[4,e.data()];case 4:C=k.sent(),x=function(A,D,L,M,V,z,W,H,X,oe){var ae=W[0],ce=W[1];oe===void 0&&(oe=5);for(var Se=L.map(function(Vo){return new Uint8Array(M*V).fill(0)}),Ie=H.top,Oe=H.left,Me=N1([M,V],[ae,ce],H),Te=Me[0],Ve=Me[1],at=hI([ae,ce],z)[0],dt=0;dt<M;dt+=1)for(var mr=0;mr<V;mr+=1){var Jt=dt*V+mr;if(A[Jt]===1){var er=dI({x:mr,y:dt},D,L,oe,[Ie,Oe],[Te,Ve],at,[M,V],z,X);er>=0&&(Se[er][Jt]=1)}}return Se}(b,C,h,o,n,s,[f,d],a,c),k.label=5;case 5:return[2,x.map(function(A,D){return{data:A,pose:h[D],width:n,height:o}})]}})})}function GM(r,e,t,o,n,s,i,a,u,c,l,p,f){var d=a[0],h=a[1];return c===void 0&&(c=.2),l===void 0&&(l=8),p===void 0&&(p=.3),f===void 0&&(f=10),ke(this,void 0,void 0,function(){var x,g,b,C,k,A;return Ae(this,function(D){switch(D.label){case 0:return x=o.filter(function(L){return L.score>=c}),xI()?(b=te(function(){var L=gI(r,e,x,n,s,i,[d,h],u,l,p,f),M=Or().makeTensorFromDataId(L.dataId,L.shape,L.dtype);return x.map(function(V,z){return function(W,H,X){return te(function(){return ie(K(le(Tn(W,ne(X)),"int32"),J(H,1)),1)})}(M,t,z)})}),[4,Promise.all(b.map(function(L){return L.data()}))]):[3,2];case 1:return g=D.sent(),b.forEach(function(L){return L.dispose()}),[3,6];case 2:return[4,r.data()];case 3:return C=D.sent(),[4,e.data()];case 4:return k=D.sent(),[4,t.data()];case 5:A=D.sent(),g=function(L,M,V,z,W,H,X,oe,ae,ce,Se){var Ie=oe[0],Oe=oe[1];Se===void 0&&(Se=5);for(var Me=z.map(function(di){return new Int32Array(W*H).fill(-1)}),Te=ae.top,Ve=ae.left,at=N1([W,H],[Ie,Oe],ae),dt=at[0],mr=at[1],Jt=hI([Ie,Oe],X)[0],er=0;er<W;er+=1)for(var Vo=0;Vo<H;Vo+=1){var cn=er*H+Vo;if(L[cn]===1){var Wn=dI({x:Vo,y:er},M,z,Se,[Te,Ve],[dt,mr],Jt,[W,H],X,ce);Wn>=0&&(Me[Wn][cn]=V[cn])}}return Me}(C,k,A,x,n,s,i,[d,h],u,l),D.label=6;case 6:return[2,g.map(function(L,M){return{pose:x[M],data:L,height:n,width:s}})]}})})}function b1(r){return Math.floor(r/2)}var zM=function(){function r(e,t){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=t}return r.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},r.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},r.prototype.empty=function(){return this.numberOfElements===-1},r.prototype.size=function(){return this.numberOfElements+1},r.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},r.prototype.max=function(){return this.priorityQueue[0]},r.prototype.swim=function(e){for(;e>0&&this.less(b1(e),e);)this.exchange(e,b1(e)),e=b1(e)},r.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}},r.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},r.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t)},r.prototype.exchange=function(e,t){var o=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=o},r}();function WM(r,e,t,o,n,s){for(var i=s.shape,a=i[0],u=i[1],c=!0,l=Math.max(t-n,0),p=Math.min(t+n+1,a),f=l;f<p;++f){for(var d=Math.max(o-n,0),h=Math.min(o+n+1,u),x=d;x<h;++x)if(s.get(f,x,r)>e){c=!1;break}if(!c)break}return c}var yI=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]].map(function(r){var e=r[0],t=r[1];return[id[e],id[t]]}),v1=yI.map(function(r){return r[1]}),zC=yI.map(function(r){return r[0]});function w1(r,e,t,o){return{y:UC(Math.round(r.y/e),0,t-1),x:UC(Math.round(r.x/e),0,o-1)}}function WC(r,e,t,o,n,s,i,a){a===void 0&&(a=2);for(var u=o.shape,c=u[0],l=u[1],p=function(C,k,A){var D=A.shape[2]/2;return{y:A.get(k.y,k.x,C),x:A.get(k.y,k.x,D+C)}}(r,w1(e.position,s,c,l),i),f=GC(e.position,p),d=0;d<a;d++){var h=w1(f,s,c,l),x=fI(h.y,h.x,t,n);f=GC({x:h.x*s,y:h.y*s},{x:x.x,y:x.y})}var g=w1(f,s,c,l),b=o.get(g.y,g.x,t);return{position:f,part:ud[t],score:b}}function HM(r,e,t,o,n,s){var i=e.shape[2],a=v1.length,u=new Array(i),c=r.part,l=r.score,p=mI(c,o,t);u[c.id]={score:l,part:ud[c.id],position:p};for(var f=a-1;f>=0;--f){var d=v1[f],h=zC[f];u[d]&&!u[h]&&(u[h]=WC(f,u[d],h,e,t,o,s))}for(f=0;f<a;++f)d=zC[f],h=v1[f],u[d]&&!u[h]&&(u[h]=WC(f,u[d],h,e,t,o,n));return u}function bI(r,e,t,o){var n=t.x,s=t.y;return r.some(function(i){var a,u,c,l,p,f,d=i.keypoints[o].position;return a=s,u=n,c=d.y,l=d.x,(p=c-a)*p+(f=l-u)*f<=e})}function jM(r,e,t){var o=t.reduce(function(n,s,i){var a=s.position,u=s.score;return bI(r,e,a,i)||(n+=u),n},0);return o/t.length}function Qm(r,e,t,o,n,s,i,a){i===void 0&&(i=.5),a===void 0&&(a=20);for(var u=[],c=function(h,x,g){for(var b=g.shape,C=b[0],k=b[1],A=b[2],D=new zM(C*k*A,function(W){return W.score}),L=0;L<C;++L)for(var M=0;M<k;++M)for(var V=0;V<A;++V){var z=g.get(L,M,V);z<h||WM(V,z,L,M,x,g)&&D.enqueue({score:z,part:{heatmapY:L,heatmapX:M,id:V}})}return D}(i,1,r),l=a*a;u.length<s&&!c.empty();){var p=c.dequeue();if(!bI(u,l,mI(p.part,n,e),p.part.id)){var f=HM(p,r,e,n,t,o),d=jM(u,l,f);u.push({keypoints:f,score:d})}}return u}var Fp,KM=[-123.15,-115.9,-103.06],qM=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return aI(e,r),e.prototype.preprocessInput=function(t){return J(t,KM)},e.prototype.nameOutputResults=function(t){var o=t[0],n=t[1],s=t[2],i=t[3],a=t[4],u=t[5];return{offsets:a,segmentation:t[6],partHeatmaps:u,longOffsets:i,heatmap:s,displacementFwd:n,displacementBwd:o,partOffsets:t[7]}},e}(pI),HC="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/resnet50/",jC="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/mobilenet/";function Pp(r){if(typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas||typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement)return function(e){if("offsetHeight"in e&&e.offsetHeight!==0&&"offsetWidth"in e&&e.offsetWidth!==0)return[e.offsetHeight,e.offsetWidth];if(e.height!=null&&e.width!=null)return[e.height,e.width];throw new Error("HTMLImageElement must have height and width attributes set.")}(r);if(typeof ImageData<"u"&&r instanceof ImageData)return[r.height,r.width];if(typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement)return function(e){return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth]}(r);if(r instanceof ye)return[r.shape[0],r.shape[1]];throw new Error("error: Unknown input type: "+r+".")}function KC(r,e){return function(t,o){return(t-1)%o==0}(r,e)?r:Math.floor(r/e)*e+1}var Lp={low:"low",medium:"medium",high:"high",full:"full"},XM=((Fp={})[Lp.low]=.25,Fp[Lp.medium]=.5,Fp[Lp.high]=.75,Fp[Lp.full]=1,Fp);function Jm(r,e,t){var o=t[0],n=t[1],s=function(i){if(typeof i=="string"){var a=XM[i];return I.assert(typeof a=="number",function(){return"string value of inputResolution must be one of "+Object.values(Lp).join(",")+" but was "+i+"."}),a}return I.assert(typeof i=="number"&&i<=2&&i>=.1,function(){return"inputResolution must be a string or number between 0.1 and 2, but was "+i}),i}(r);return[KC(o*s,e),KC(n*s,e)]}function ca(r,e,t,o,n){var s=e[0],i=e[1],a=t[0],u=t[1],c=o[0],l=c[0],p=c[1],f=o[1],d=f[0],h=f[1];return n===void 0&&(n=!1),te(function(){var x=An.resizeBilinear(r,[a,u],!0);return n&&(x=ar(x)),function(g,b,C){var k=b[0],A=b[1],D=C[0],L=D[0],M=D[1],V=C[1],z=V[0],W=V[1];return te(function(){var H=Tt(g);return Xt(An.cropAndResize(H,[[L/(k+L+M-1),z/(A+z+W-1),(L+k-1)/(k+L+M-1),(z+A-1)/(A+z+W-1)]],[0],[k,A]),[0])})}(x,[s,i],[[l,p],[d,h]])})}function ed(r,e){var t=e[0],o=e[1],n=Pp(r),s=n[0],i=n[1],a=o/t,u=[0,0,0,0],c=u[0],l=u[1],p=u[2],f=u[3];i/s<a?(c=0,l=0,p=Math.round(.5*(a*s-i)),f=Math.round(.5*(a*s-i))):(c=Math.round(.5*(1/a*i-s)),l=Math.round(.5*(1/a*i-s)),p=0,f=0);var d=te(function(){var h=function(x){return x instanceof ye?x:so.fromPixels(x)}(r);return h=hp(h,[[c,l],[p,f],[0,0]]),An.resizeBilinear(h,[t,o])});return{resized:d,padding:{top:c,left:p,right:f,bottom:l}}}function td(r){return ke(this,void 0,void 0,function(){return Ae(this,function(e){return[2,Promise.all(r.map(function(t){return t.buffer()}))]})})}function rd(r,e,t,o,n){var s=e[0],i=e[1],a=t[0],u=t[1],c=function(l,p,f,d,h){return d===void 0&&(d=0),h===void 0&&(h=0),f===1&&p===1&&d===0&&h===0?l:l.map(function(x){return function(g,b,C,k,A){return k===void 0&&(k=0),A===void 0&&(A=0),{score:g.score,keypoints:g.keypoints.map(function(D){var L=D.score,M=D.part,V=D.position;return{score:L,part:M,position:{x:V.x*C+A,y:V.y*b+k}}})}}(x,p,f,d,h)})}(r,(s+o.top+o.bottom)/a,(i+o.left+o.right)/u,-o.top,-o.left);return n?function(l,p){return p<=0?l:l.map(function(f){return function(d,h){return{score:d.score,keypoints:d.keypoints.map(function(x){var g=x.score,b=x.part,C=x.position;return{score:g,part:b,position:{x:h-1-C.x,y:C.y}}})}}(f,p)})}(c,i):c}var qC={architecture:"MobileNetV1",outputStride:16,quantBytes:4,multiplier:.75},XC=["MobileNetV1","ResNet50"],YC={MobileNetV1:[8,16,32],ResNet50:[32,16]},ZC={MobileNetV1:[.5,.75,1],ResNet50:[1]},QC=[1,2,4],od={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20},nd={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20,minKeypointScore:.3,refineSteps:10};function JC(r){var e=r.segmentationThreshold,t=r.maxDetections,o=r.scoreThreshold,n=r.nmsRadius;if(e<0||e>1)throw new Error("segmentationThreshold "+e+". Should be in range [0.0, 1.0]");if(t<=0)throw new Error("Invalid maxDetections "+t+". Should be > 0");if(o<0||o>1)throw new Error("Invalid scoreThreshold "+o+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid nmsRadius "+n+".")}function eI(r){var e=r.segmentationThreshold,t=r.maxDetections,o=r.scoreThreshold,n=r.nmsRadius,s=r.minKeypointScore,i=r.refineSteps;if(e<0||e>1)throw new Error("segmentationThreshold "+e+". Should be in range [0.0, 1.0]");if(t<=0)throw new Error("Invalid maxDetections "+t+". Should be > 0");if(o<0||o>1)throw new Error("Invalid scoreThreshold "+o+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid nmsRadius "+n+".");if(s<0||s>1)throw new Error("Invalid minKeypointScore "+s+".Should be in range [0.0, 1.0]");if(i<=0||i>20)throw new Error("Invalid refineSteps "+i+".Should be in range [1, 20]")}var vI=function(){function r(e){this.baseModel=e}return r.prototype.predictForPersonSegmentation=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},r.prototype.predictForPersonSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,partHeatmapLogits:t.partHeatmaps,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},r.prototype.predictForMultiPersonInstanceSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,longOffsets:t.longOffsets,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd,partHeatmaps:t.partHeatmaps}},r.prototype.segmentPersonActivation=function(e,t,o){var n=this;o===void 0&&(o=.5);var s=Pp(e),i=s[0],a=s[1],u=Jm(t,this.baseModel.outputStride,[i,a]),c=ed(e,u),l=c.resized,p=c.padding,f=te(function(){var C=n.predictForPersonSegmentation(l),k=C.segmentLogits,A=C.heatmapScores,D=C.offsets,L=C.displacementFwd,M=C.displacementBwd,V=l.shape,z=V[0],W=V[1],H=ca(k,[i,a],[z,W],[[p.top,p.bottom],[p.left,p.right]],!0);return{segmentation:Zm(Xt(H),o),heatmapScores:A,offsets:D,displacementFwd:L,displacementBwd:M}}),d=f.segmentation,h=f.heatmapScores,x=f.offsets,g=f.displacementFwd,b=f.displacementBwd;return l.dispose(),{segmentation:d,heatmapScores:h,offsets:x,displacementFwd:g,displacementBwd:b,padding:p,internalResolutionHeightAndWidth:u}},r.prototype.segmentPerson=function(e,t){return t===void 0&&(t=od),ke(this,void 0,void 0,function(){var o,n,s,i,a,u,c,l,p,f,d,h,x,g,b,C,k,A;return Ae(this,function(D){switch(D.label){case 0:return JC(t=Qt(Qt({},od),t)),o=this.segmentPersonActivation(e,t.internalResolution,t.segmentationThreshold),n=o.segmentation,s=o.heatmapScores,i=o.offsets,a=o.displacementFwd,u=o.displacementBwd,c=o.padding,l=o.internalResolutionHeightAndWidth,p=n.shape,f=p[0],d=p[1],[4,n.data()];case 1:return h=D.sent(),n.dispose(),[4,td([s,i,a,u])];case 2:return x=D.sent(),g=x[0],b=x[1],C=x[2],k=x[3],A=rd(A=Qm(g,b,C,k,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[f,d],l,c,!1),s.dispose(),i.dispose(),a.dispose(),u.dispose(),[2,{height:f,width:d,data:h,allPoses:A}]}})})},r.prototype.segmentMultiPerson=function(e,t){return t===void 0&&(t=nd),ke(this,void 0,void 0,function(){var o,n,s,i,a,u,c,l,p,f,d,h,x,g,b,C,k,A,D,L,M,V=this;return Ae(this,function(z){switch(z.label){case 0:return eI(t=Qt(Qt({},nd),t)),o=Pp(e),n=o[0],s=o[1],i=Jm(t.internalResolution,this.baseModel.outputStride,[n,s]),a=ed(e,i),u=a.resized,c=a.padding,l=te(function(){var W,H=V.predictForMultiPersonInstanceSegmentationAndPart(u),X=H.segmentLogits,oe=H.longOffsets,ae=H.heatmapScores,ce=H.offsets,Se=H.displacementFwd,Ie=H.displacementBwd,Oe=ca(X,[n,s],i,[[c.top,c.bottom],[c.left,c.right]],!0);return W=oe,{segmentation:Zm(Xt(Oe),t.segmentationThreshold),longOffsets:W,heatmapScoresRaw:ae,offsetsRaw:ce,displacementFwdRaw:Se,displacementBwdRaw:Ie}}),p=l.segmentation,f=l.longOffsets,d=l.heatmapScoresRaw,h=l.offsetsRaw,x=l.displacementFwdRaw,g=l.displacementBwdRaw,[4,td([d,h,x,g])];case 1:return b=z.sent(),C=b[0],k=b[1],A=b[2],D=b[3],L=rd(L=Qm(C,k,A,D,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[n,s],i,c,!1),[4,UM(p,f,L,n,s,this.baseModel.outputStride,i,c,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return M=z.sent(),u.dispose(),p.dispose(),f.dispose(),d.dispose(),h.dispose(),x.dispose(),g.dispose(),[2,M]}})})},r.prototype.segmentPersonPartsActivation=function(e,t,o){var n=this;o===void 0&&(o=.5);var s=Pp(e),i=s[0],a=s[1],u=Jm(t,this.baseModel.outputStride,[i,a]),c=ed(e,u),l=c.resized,p=c.padding,f=te(function(){var C=n.predictForPersonSegmentationAndPart(l),k=C.segmentLogits,A=C.partHeatmapLogits,D=C.heatmapScores,L=C.offsets,M=C.displacementFwd,V=C.displacementBwd,z=l.shape,W=z[0],H=z[1],X=ca(k,[i,a],[W,H],[[p.top,p.bottom],[p.left,p.right]],!0),oe=ca(A,[i,a],[W,H],[[p.top,p.bottom],[p.left,p.right]],!0);return{partSegmentation:LM(Zm(Xt(X),o),oe),heatmapScores:D,offsets:L,displacementFwd:M,displacementBwd:V}}),d=f.partSegmentation,h=f.heatmapScores,x=f.offsets,g=f.displacementFwd,b=f.displacementBwd;return l.dispose(),{partSegmentation:d,heatmapScores:h,offsets:x,displacementFwd:g,displacementBwd:b,padding:p,internalResolutionHeightAndWidth:u}},r.prototype.segmentPersonParts=function(e,t){return t===void 0&&(t=od),ke(this,void 0,void 0,function(){var o,n,s,i,a,u,c,l,p,f,d,h,x,g,b,C,k,A;return Ae(this,function(D){switch(D.label){case 0:return JC(t=Qt(Qt({},od),t)),o=this.segmentPersonPartsActivation(e,t.internalResolution,t.segmentationThreshold),n=o.partSegmentation,s=o.heatmapScores,i=o.offsets,a=o.displacementFwd,u=o.displacementBwd,c=o.padding,l=o.internalResolutionHeightAndWidth,p=n.shape,f=p[0],d=p[1],[4,n.data()];case 1:return h=D.sent(),n.dispose(),[4,td([s,i,a,u])];case 2:return x=D.sent(),g=x[0],b=x[1],C=x[2],k=x[3],A=rd(A=Qm(g,b,C,k,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[f,d],l,c,!1),s.dispose(),i.dispose(),a.dispose(),u.dispose(),[2,{height:f,width:d,data:h,allPoses:A}]}})})},r.prototype.segmentMultiPersonParts=function(e,t){return t===void 0&&(t=nd),ke(this,void 0,void 0,function(){var o,n,s,i,a,u,c,l,p,f,d,h,x,g,b,C,k,A,D,L,M,V,z=this;return Ae(this,function(W){switch(W.label){case 0:return eI(t=Qt(Qt({},nd),t)),o=Pp(e),n=o[0],s=o[1],i=Jm(t.internalResolution,this.baseModel.outputStride,[n,s]),a=ed(e,i),u=a.resized,c=a.padding,l=te(function(){var H=z.predictForMultiPersonInstanceSegmentationAndPart(u),X=H.segmentLogits,oe=H.longOffsets,ae=H.heatmapScores,ce=H.offsets,Se=H.displacementFwd,Ie=H.displacementBwd,Oe=H.partHeatmaps,Me=ca(X,[n,s],i,[[c.top,c.bottom],[c.left,c.right]],!0),Te=ca(Oe,[n,s],i,[[c.top,c.bottom],[c.left,c.right]],!0),Ve=oe,at=Zm(Xt(Me),t.segmentationThreshold),dt=function(mr){var Jt=mr.shape,er=Jt[0],Vo=Jt[1],cn=Jt[2];return te(function(){var Wn=lI(mr),di=Tt(zr(0,cn,1,"int32"),1),Hn=le(we(Wn,di),"int32");return U(Hn,[er,Vo])})}(Te);return{segmentation:at,longOffsets:Ve,heatmapScoresRaw:ae,offsetsRaw:ce,displacementFwdRaw:Se,displacementBwdRaw:Ie,partSegmentation:dt}}),p=l.segmentation,f=l.longOffsets,d=l.heatmapScoresRaw,h=l.offsetsRaw,x=l.displacementFwdRaw,g=l.displacementBwdRaw,b=l.partSegmentation,[4,td([d,h,x,g])];case 1:return C=W.sent(),k=C[0],A=C[1],D=C[2],L=C[3],M=rd(M=Qm(k,A,D,L,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[n,s],i,c,!1),[4,GM(p,f,b,M,n,s,this.baseModel.outputStride,i,c,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return V=W.sent(),u.dispose(),p.dispose(),f.dispose(),d.dispose(),h.dispose(),x.dispose(),g.dispose(),b.dispose(),[2,V]}})})},r.prototype.dispose=function(){this.baseModel.dispose()},r}();function YM(r){return ke(this,void 0,void 0,function(){var e,t,o,n,s,i;return Ae(this,function(a){switch(a.label){case 0:if(e=r.outputStride,t=r.quantBytes,o=r.multiplier,sa==null)throw new Error(`Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this
        model.`);return n=function(u,c,l){var p={1:"100",.75:"075",.5:"050"},f="model-stride"+u+".json";return l===4?jC+"float/"+p[c]+"/"+f:jC+"quant"+l+"/"+p[c]+"/"+f}(e,o,t),[4,Dp(r.modelUrl||n)];case 1:return s=a.sent(),i=new BM(s,e),[2,new vI(i)]}})})}function ZM(r){return ke(this,void 0,void 0,function(){var e,t,o,n,s;return Ae(this,function(i){switch(i.label){case 0:if(e=r.outputStride,t=r.quantBytes,sa==null)throw new Error(`Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this
        model.`);return o=function(a,u){var c="model-stride"+a+".json";return u===4?HC+"float/"+c:HC+"quant"+u+"/"+c}(e,t),[4,Dp(r.modelUrl||o)];case 1:return n=i.sent(),s=new qM(n,e),[2,new vI(s)]}})})}function QM(r){return r===void 0&&(r=qC),ke(this,void 0,void 0,function(){return Ae(this,function(e){return(r=function(t){if((t=t||qC).architecture==null&&(t.architecture="MobileNetV1"),XC.indexOf(t.architecture)<0)throw new Error("Invalid architecture "+t.architecture+". Should be one of "+XC);if(t.outputStride==null&&(t.outputStride=16),YC[t.architecture].indexOf(t.outputStride)<0)throw new Error("Invalid outputStride "+t.outputStride+". Should be one of "+YC[t.architecture]+" for architecture "+t.architecture+".");if(t.multiplier==null&&(t.multiplier=1),ZC[t.architecture].indexOf(t.multiplier)<0)throw new Error("Invalid multiplier "+t.multiplier+". Should be one of "+ZC[t.architecture]+" for architecture "+t.architecture+".");if(t.quantBytes==null&&(t.quantBytes=4),QC.indexOf(t.quantBytes)<0)throw new Error("Invalid quantBytes "+t.quantBytes+". Should be one of "+QC+" for architecture "+t.architecture+".");return t}(r)).architecture==="ResNet50"?[2,ZM(r)]:r.architecture==="MobileNetV1"?[2,YM(r)]:[2,null]})})}var I1=["left_face","right_face","left_upper_arm_front","left_upper_arm_back","right_upper_arm_front","right_upper_arm_back","left_lower_arm_front","left_lower_arm_back","right_lower_arm_front","right_lower_arm_back","left_hand","right_hand","torso_front","torso_back","left_upper_leg_front","left_upper_leg_back","right_upper_leg_front","right_upper_leg_back","left_lower_leg_front","left_lower_leg_back","right_lower_leg_front","right_lower_leg_back","left_feet","right_feet"],tI=function(){function r(e){this.mask=e}return r.prototype.toCanvasImageSource=function(){return ke(this,void 0,void 0,function(){return Ae(this,function(e){return[2,E1(this.mask)]})})},r.prototype.toImageData=function(){return ke(this,void 0,void 0,function(){return Ae(this,function(e){return[2,this.mask]})})},r.prototype.toTensor=function(){return ke(this,void 0,void 0,function(){return Ae(this,function(e){return[2,cI(this.mask)]})})},r.prototype.getUnderlyingType=function(){return"imagedata"},r}();function JM(r){if(ad(r),r!==255)throw new Error("Foreground id must be 255 but got "+r);return"person"}function eV(r){if(ad(r),r>=I1.length)throw new Error("Invalid body part value "+r);return I1[r]}var tV=function(){function r(e){this.bodyPixModel=e}return r.prototype.segmentPeople=function(e,t){return ke(this,void 0,void 0,function(){var o,n,s,i;return Ae(this,function(a){switch(a.label){case 0:return e instanceof ImageBitmap&&((o=document.createElement("canvas")).getContext("2d").drawImage(e,0,0),e=o),t.segmentBodyParts?t.multiSegmentation?[4,this.bodyPixModel.segmentMultiPersonParts(e,t)]:[3,2]:[3,5];case 1:return s=a.sent(),[3,4];case 2:return[4,this.bodyPixModel.segmentPersonParts(e,t)];case 3:s=[a.sent()],a.label=4;case 4:return n=s.map(function(u){var c=u.data,l=u.width,p=u.height,f=new Uint8ClampedArray(l*p*4).fill(0);return c.forEach(function(d,h){d===-1?(f[4*h]=I1.length,f[4*h+3]=0):(f[4*h]=d,f[4*h+3]=255)}),{maskValueToLabel:eV,mask:new tI(new ImageData(f,l,p))}}),[3,10];case 5:return t.multiSegmentation?[4,this.bodyPixModel.segmentMultiPerson(e,t)]:[3,7];case 6:return i=a.sent(),[3,9];case 7:return[4,this.bodyPixModel.segmentPerson(e,t)];case 8:i=[a.sent()],a.label=9;case 9:n=i.map(function(u){var c=u.data,l=u.width,p=u.height,f=new Uint8ClampedArray(l*p*4).fill(0);return c.forEach(function(d,h){d===0?(f[4*h]=0,f[4*h+3]=0):(f[4*h]=255,f[4*h+3]=255)}),{maskValueToLabel:JM,mask:new tI(new ImageData(f,l,p))}}),a.label=10;case 10:return[2,n]}})})},r.prototype.dispose=function(){this.bodyPixModel.dispose()},r.prototype.reset=function(){},r}();function rV(r){return ke(this,void 0,void 0,function(){return Ae(this,function(e){return[2,QM(r).then(function(t){return new tV(t)})]})})}var rI={runtime:"mediapipe",modelType:"general"},oV=function(){function r(e){this.mask=e}return r.prototype.toCanvasImageSource=function(){return ke(this,void 0,void 0,function(){return Ae(this,function(e){return[2,this.mask]})})},r.prototype.toImageData=function(){return ke(this,void 0,void 0,function(){return Ae(this,function(e){return[2,uI(this.mask)]})})},r.prototype.toTensor=function(){return ke(this,void 0,void 0,function(){return Ae(this,function(e){return[2,cI(this.mask)]})})},r.prototype.getUnderlyingType=function(){return"canvasimagesource"},r}();function nV(r){return ad(r),"person"}var sV=function(){function r(e){var t,o=this;this.selfieMode=!1;var n;this.selfieSegmentationSolution=new iI.SelfieSegmentation({locateFile:(t=e.locateFile)!==null&&t!==void 0?t:function(s,i){return e.solutionPath?e.solutionPath.replace(/\/+$/,"")+"/"+s:i+"/"+s}}),e.modelType==="landscape"?n=1:n=0,this.selfieSegmentationSolution.setOptions({modelSelection:n,selfieMode:this.selfieMode}),this.selfieSegmentationSolution.onResults(function(s){o.segmentation=[{maskValueToLabel:nV,mask:new oV(s.segmentationMask)}]})}return r.prototype.segmentPeople=function(e,t){return ke(this,void 0,void 0,function(){var o,n;return Ae(this,function(s){switch(s.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.selfieSegmentationSolution.setOptions({selfieMode:this.selfieMode})),e instanceof ye?(n=ImageData.bind,[4,so.toPixels(e)]):[3,2];case 1:return o=new(n.apply(ImageData,[void 0,s.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:o=e,s.label=3;case 3:return e=o,[4,this.selfieSegmentationSolution.send({image:e})];case 4:return s.sent(),[2,this.segmentation]}})})},r.prototype.dispose=function(){this.selfieSegmentationSolution.close()},r.prototype.reset=function(){this.selfieSegmentationSolution.reset(),this.segmentation=null,this.selfieMode=!1},r.prototype.initialize=function(){return this.selfieSegmentationSolution.initialize()},r}();function iV(r){return ke(this,void 0,void 0,function(){var e,t;return Ae(this,function(o){switch(o.label){case 0:return e=function(n){if(n==null)return Qt({},rI);var s=Qt({},n);return s.runtime="mediapipe",s.modelType==null&&(s.modelType=rI.modelType),s}(r),[4,(t=new sV(e)).initialize()];case 1:return o.sent(),[2,t]}})})}function aV(r,e,t,o){var n=r.width,s=r.height,i=o?-1:1,a=Math.cos(r.rotation),u=Math.sin(r.rotation),c=r.xCenter,l=r.yCenter,p=1/e,f=1/t,d=new Array(16);return d[0]=n*a*i*p,d[1]=-s*u*p,d[2]=0,d[3]=(-.5*n*a*i+.5*s*u+c)*p,d[4]=n*u*i*f,d[5]=s*a*f,d[6]=0,d[7]=(-.5*s*a-.5*n*u*i+l)*f,d[8]=0,d[9]=0,d[10]=n*p,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,function(h){if(h.length!==16)throw new Error("Array length must be 16 but got "+h.length);return[[h[0],h[1],h[2],h[3]],[h[4],h[5],h[6],h[7]],[h[8],h[9],h[10],h[11]],[h[12],h[13],h[14],h[15]]]}(d)}function wI(r){return r instanceof ye?{height:r.shape[0],width:r.shape[1]}:{height:r.height,width:r.width}}function S1(r,e){I.assert(r.width!==0,function(){return e+" width cannot be 0."}),I.assert(r.height!==0,function(){return e+" height cannot be 0."})}function uV(r,e){var t=function(o,n,s,i){var a=n-o,u=i-s;if(a===0)throw new Error("Original min and max are both "+o+", range cannot be 0.");var c=u/a;return{scale:c,offset:s-o*c}}(0,255,e[0],e[1]);return te(function(){return J(K(r,t.scale),t.offset)})}function cV(r,e,t){var o=e.outputTensorSize,n=e.keepAspectRatio,s=e.borderMode,i=e.outputTensorFloatRange,a=wI(r),u=function(f,d){return d?{xCenter:d.xCenter*f.width,yCenter:d.yCenter*f.height,width:d.width*f.width,height:d.height*f.height,rotation:d.rotation}:{xCenter:.5*f.width,yCenter:.5*f.height,width:f.width,height:f.height,rotation:0}}(a,t),c=function(f,d,h){if(h===void 0&&(h=!1),!h)return{top:0,left:0,right:0,bottom:0};var x=d.height,g=d.width;S1(d,"targetSize"),S1(f,"roi");var b,C,k=x/g,A=f.height/f.width,D=0,L=0;return k>A?(b=f.width,C=f.width*k,L=(1-A/k)/2):(b=f.height/k,C=f.height,D=(1-k/A)/2),f.width=b,f.height=C,{top:L,left:D,right:D,bottom:L}}(u,o,n),l=aV(u,a.width,a.height,!1),p=te(function(){var f,d=(f=r)instanceof ye?f:so.fromPixels(f),h=no(function(b,C,k){return S1(k,"inputResolution"),[1/k.width*b[0][0]*C.width,1/k.height*b[0][1]*C.width,b[0][3]*C.width,1/k.width*b[1][0]*C.height,1/k.height*b[1][1]*C.height,b[1][3]*C.height,0,0]}(l,a,o),[1,8]),x=s==="zero"?"constant":"nearest",g=An.transform(Tt(le(d,"float32")),h,"bilinear",x,0,[o.height,o.width]);return i!=null?uV(g,i):g});return{imageTensor:p,padding:c,transformationMatrix:l}}function lV(r,e,t){return te(function(){var o=Xt(r,[0]),n=o.shape[2];if(n===1){var s=o;switch(e.activation){case"none":break;case"sigmoid":s=ar(s);break;case"softmax":throw new Error("Softmax activation requires two channels.");default:throw new Error("Activation not supported ("+e.activation+")")}var i=t?An.resizeBilinear(s,[t.height,t.width]):s;return Xt(i,[2])}throw new Error("Unsupported number of tensor channels "+n)})}var oI={runtime:"tfjs",modelType:"general",modelUrl:"https://tfhub.dev/mediapipe/tfjs-model/selfie_segmentation/general/1"},nI={flipHorizontal:!1},pV={outputTensorSize:{width:256,height:256},keepAspectRatio:!1,borderMode:"zero",outputTensorFloatRange:[0,1]},fV={outputTensorSize:{width:256,height:144},keepAspectRatio:!1,borderMode:"zero",outputTensorFloatRange:[0,1]},mV={activation:"none"},dV=function(){function r(e){this.mask=e}return r.prototype.toCanvasImageSource=function(){return ke(this,void 0,void 0,function(){return Ae(this,function(e){return[2,E1(this.mask)]})})},r.prototype.toImageData=function(){return ke(this,void 0,void 0,function(){return Ae(this,function(e){return[2,uI(this.mask)]})})},r.prototype.toTensor=function(){return ke(this,void 0,void 0,function(){return Ae(this,function(e){return[2,this.mask]})})},r.prototype.getUnderlyingType=function(){return"tensor"},r}();function hV(r){return ad(r),"person"}var la,gV=function(){function r(e,t){this.modelType=e,this.model=t}return r.prototype.segmentPeople=function(e,t){return ke(this,void 0,void 0,function(){var o,n=this;return Ae(this,function(s){return t=function(i){if(i==null)return Qt({},nI);var a=Qt({},i);return a.flipHorizontal==null&&(a.flipHorizontal=nI.flipHorizontal),a}(t),e==null?(this.reset(),[2,[]]):(o=te(function(){var i=cV(e,n.modelType==="general"?pV:fV).imageTensor,a=ve(n.model.predict(i),[0,0,0,1],-1),u=wI(e),c=lV(a,mV,u),l=Tt(c,2),p=Pr(l,[[0,0],[0,0],[0,1]]);return mp(p,[[0,0],[0,0],[0,2]],"symmetric")}),[2,[{maskValueToLabel:hV,mask:new dV(o)}]])})})},r.prototype.dispose=function(){this.model.dispose()},r.prototype.reset=function(){},r}();function xV(r){return ke(this,void 0,void 0,function(){var e,t,o;return Ae(this,function(n){switch(n.label){case 0:return e=function(s){if(s==null)return Qt({},oI);var i=Qt({},s);if(i.runtime="tfjs",i.modelType==null&&(i.modelType=oI.modelType),i.modelType!=="general"&&i.modelType!=="landscape")throw new Error("Model type must be one of general or landscape, but got "+i.modelType);return i.modelUrl==null&&(i.modelType==="general"?i.modelUrl="https://tfhub.dev/mediapipe/tfjs-model/selfie_segmentation/general/1":i.modelUrl="https://tfhub.dev/mediapipe/tfjs-model/selfie_segmentation/landscape/1"),i}(r),t=typeof e.modelUrl=="string"&&e.modelUrl.indexOf("https://tfhub.dev")>-1,[4,Dp(e.modelUrl,{fromTFHub:t})];case 1:return o=n.sent(),[2,new gV(e.modelType,o)]}})})}function SI(r,e){return ke(this,void 0,void 0,function(){var t,o;return Ae(this,function(n){switch(r){case la.MediaPipeSelfieSegmentation:if(t=void 0,(o=e)!=null){if(o.runtime==="tfjs")return[2,xV(o)];if(o.runtime==="mediapipe")return[2,iV(o)];t=o.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+t);case la.BodyPix:return[2,rV(o=e)];default:throw new Error(r+" is not a supported model name.")}})})}(function(r){r.BodyPix="BodyPix",r.MediaPipeSelfieSegmentation="MediaPipeSelfieSegmentation"})(la||(la={}));var yV="blurred",bV="blurred-mask",vV="mask";var wV="draw-image",T1={};function cd(r){if(typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas||typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement)return function(e){if("offsetHeight"in e&&e.offsetHeight!==0&&"offsetWidth"in e&&e.offsetWidth!==0)return[e.offsetHeight,e.offsetWidth];if(e.height!=null&&e.width!=null)return[e.height,e.width];throw new Error("HTMLImageElement must have height and width attributes set.")}(r);if(typeof ImageData<"u"&&r instanceof ImageData)return[r.height,r.width];if(typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement)return function(e){return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth]}(r);if(r instanceof ye)return[r.shape[0],r.shape[1]];throw new Error("error: Unknown input type: "+r+".")}function TI(r){return T1[r]||(T1[r]=function(){if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0);throw new Error("Cannot create a canvas in this context")}()),T1[r]}function CI(r,e){var t=TI(e);return function(o,n){n.width=o.width,n.height=o.height,n.getContext("2d").putImageData(o,0,0)}(r,t),t}function Bp(r,e,t,o,n,s){return ke(this,void 0,void 0,function(){var i,a,u,c;return Ae(this,function(l){switch(l.label){case 0:return e instanceof ye?[4,so.toPixels(e)]:[3,2];case 1:i=l.sent(),a=cd(e),u=a[0],c=a[1],e=new ImageData(i,c,u),l.label=2;case 2:return e instanceof ImageData&&(e=CI(e,wV)),n==null||s==null?r.drawImage(e,t,o):r.drawImage(e,t,o,n,s),[2]}})})}function SV(r,e){return ke(this,void 0,void 0,function(){var t,o,n;return Ae(this,function(s){switch(s.label){case 0:return t=cd(r),o=t[0],n=t[1],e.width=n,e.height=o,[4,Bp(e.getContext("2d"),r,0,0,n,o)];case 1:return s.sent(),[2]}})})}function TV(r){var e=r.getContext("2d");e.scale(-1,1),e.translate(-r.width,0)}function sI(r,e,t){return ke(this,void 0,void 0,function(){return Ae(this,function(o){switch(o.label){case 0:return r.globalCompositeOperation=t,[4,Bp(r,e,0,0)];case 1:return o.sent(),[2]}})})}function CV(r,e,t){return ke(this,void 0,void 0,function(){var o,n,s,i,a,u,c,l;return Ae(this,function(p){switch(p.label){case 0:for(o=r.getContext("2d"),n=0,s=5,i=1/(2*Math.PI*s*s),a=t<3?1:2,c=-t;c<=t;c+=a)for(l=-t;l<=t;l+=a)u=i*Math.exp(-(l*l+c*c)/(2*s*s)),n+=u;c=-t,p.label=1;case 1:if(!(c<=t))return[3,6];l=-t,p.label=2;case 2:return l<=t?(o.globalAlpha=i*Math.exp(-(l*l+c*c)/(2*s*s))/n*t,[4,Bp(o,e,l,c)]):[3,5];case 3:p.sent(),p.label=4;case 4:return l+=a,[3,2];case 5:return c+=a,[3,1];case 6:return o.globalAlpha=1,[2]}})})}function IV(r,e,t){return ke(this,void 0,void 0,function(){var o,n,s,i;return Ae(this,function(a){switch(a.label){case 0:return o=cd(r),n=o[0],s=o[1],i=t.getContext("2d"),t.width=s,t.height=n,i.clearRect(0,0,s,n),i.save(),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?[4,CV(t,r,e)]:[3,2];case 1:return a.sent(),[3,4];case 2:return i.filter="blur("+e+"px)",[4,Bp(i,r,0,0,s,n)];case 3:a.sent(),a.label=4;case 4:return i.restore(),[2]}})})}function II(r,e,t){return ke(this,void 0,void 0,function(){var o;return Ae(this,function(n){switch(n.label){case 0:return o=TI(t),e!==0?[3,2]:[4,SV(r,o)];case 1:return n.sent(),[3,4];case 2:return[4,IV(r,e,o)];case 3:n.sent(),n.label=4;case 4:return[2,o]}})})}function EV(r,e,t,o,n,s){s===void 0&&(s={r:0,g:255,b:255,a:255});for(var i=-n;i<=n;i++)for(var a=-n;a<=n;a++)if(i!==0&&a!==0){var u=(e+i)*o+(t+a);r[4*u+0]=s.r,r[4*u+1]=s.g,r[4*u+2]=s.b,r[4*u+3]=s.a}}function NV(r,e,t,o,n,s,i){i===void 0&&(i=1);for(var a=0,u=-i;u<=i;u++)for(var c=-i;c<=i;c++)if(u!==0&&c!==0){var l=(e+u)*o+(t+c);(!n[r[4*l]]||r[4*l+3]<s)&&(a+=1)}return a>0}function $V(r,e,t,o,n,s){return e===void 0&&(e={r:0,g:0,b:0,a:0}),t===void 0&&(t={r:0,g:0,b:0,a:255}),o===void 0&&(o=!1),n===void 0&&(n=.5),s===void 0&&(s=Array.from(Array(256).keys())),ke(this,void 0,void 0,function(){var i,a,u,c,l,p,f,d,h,x,g,b,C,k;return Ae(this,function(A){switch(A.label){case 0:return(i=Array.isArray(r)?r:[r]).length===0?[2,null]:[4,Promise.all(i.map(function(D){return D.mask.toImageData()}))];case 1:for(a=A.sent(),u=a[0],c=u.width,l=u.height,p=new Uint8ClampedArray(c*l*4),f=Math.round(255*n),d=new Array(256).fill(!1),s.forEach(function(D){return d[D]=!0}),h=0;h<l;h++)for(x=0;x<c;x++)for(p[4*(g=h*c+x)+0]=t.r,p[4*g+1]=t.g,p[4*g+2]=t.b,p[4*g+3]=t.a,b=0,C=a;b<C.length;b++)k=C[b],d[k.data[4*g]]&&k.data[4*g+3]>=f&&(p[4*g]=e.r,p[4*g+1]=e.g,p[4*g+2]=e.b,p[4*g+3]=e.a,o&&h-1>=0&&h+1<l&&x-1>=0&&x+1<c&&NV(k.data,h,x,c,d,f)&&EV(p,h,x,c,1));return[2,new ImageData(p,c,l)]}})})}function kV(r,e,t){return ke(this,void 0,void 0,function(){var o,n;return Ae(this,function(s){switch(s.label){case 0:return[4,$V(r,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0},!1,e)];case 1:return o=s.sent(),n=CI(o,vV),t===0?[2,n]:[2,II(n,t,bV)]}})})}function EI(r,e,t,o,n,s,i){return o===void 0&&(o=.5),n===void 0&&(n=3),s===void 0&&(s=3),i===void 0&&(i=!1),ke(this,void 0,void 0,function(){var a,u,c,l,p,f;return Ae(this,function(d){switch(d.label){case 0:return[4,II(e,n,yV)];case 1:return a=d.sent(),r.width=a.width,r.height=a.height,u=r.getContext("2d"),Array.isArray(t)&&t.length===0?(u.drawImage(a,0,0),[2]):[4,kV(t,o,s)];case 2:return c=d.sent(),u.save(),i&&TV(r),l=cd(e),p=l[0],f=l[1],[4,Bp(u,e,0,0,f,p)];case 3:return d.sent(),[4,sI(u,c,"destination-in")];case 4:return d.sent(),[4,sI(u,a,"destination-over")];case 5:return d.sent(),u.restore(),[2]}})})}var Qs={},ld={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function NI(r,e){Qs[r]=e}function Nr(r,e){if(!(r in Qs)||e!=null){let o=_V(r,e);if(o!==null)Qs[r]=o;else return console.log("Could not get context for WebGL version",r),null}let t=Qs[r];return t==null||t.isContextLost()?(delete Qs[r],Nr(r)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),Qs[r])}function RV(r){if(!P().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&r===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function _V(r,e){if(r!==1&&r!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");let t=e??RV(r);return t.addEventListener("webglcontextlost",o=>{o.preventDefault(),delete Qs[r]},!1),P().getBool("SOFTWARE_WEBGL_ENABLED")&&(ld.failIfMajorPerformanceCaveat=!1),r===1?t.getContext("webgl",ld)||t.getContext("experimental-webgl",ld):t.getContext("webgl2",ld)}var Bn;(function(r){r[r.DENSE=0]="DENSE",r[r.SHARED_BATCH=1]="SHARED_BATCH"})(Bn||(Bn={}));var Ot;(function(r){r[r.RENDER=0]="RENDER",r[r.UPLOAD=1]="UPLOAD",r[r.PIXELS=2]="PIXELS",r[r.DOWNLOAD=3]="DOWNLOAD"})(Ot||(Ot={}));var It;(function(r){r[r.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",r[r.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",r[r.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",r[r.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",r[r.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(It||(It={}));function Js(r,e){return[e,r]}function $I(r,e){return r*e}function Mp(r){let e=I.sizeFromShape(r),t=Math.ceil(e/4);return I.sizeToSquarishShape(t)}function Po(r,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(r/2))]}function kI(r,e){let[t,o]=Po(r,e);return t*o*4}function Vp(r,e){let t=r,o,n,s,i,a,u,c,l,p,f;return P().getNumber("WEBGL_VERSION")===2?(o=t.R32F,n=t.R16F,s=t.RGBA16F,i=t.RGBA32F,a=t.RED,c=4,l=1,p=t.HALF_FLOAT,f=t.FLOAT,u=t.RGBA8):(o=r.RGBA,n=r.RGBA,s=r.RGBA,i=t.RGBA,a=r.RGBA,c=4,l=4,p=e!=null?e.HALF_FLOAT_OES:null,f=r.FLOAT,u=r.RGBA),{internalFormatFloat:o,internalFormatHalfFloat:n,internalFormatPackedHalfFloat:s,internalFormatPackedFloat:i,textureFormatFloat:a,downloadTextureFormat:u,downloadUnpackNumChannels:c,defaultNumChannels:l,textureTypeHalfFloat:p,textureTypeFloat:f}}function Q(r,e){let t=e();return P().getBool("DEBUG")&&OV(r),t}function OV(r){let e=r.getError();if(e!==r.NO_ERROR)throw new Error("WebGL Error: "+PV(r,e))}var DV=596e-10,FV=65504;function AI(r){return!!(P().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||r===0||DV<Math.abs(r)&&Math.abs(r)<FV)}function PV(r,e){switch(e){case r.NO_ERROR:return"NO_ERROR";case r.INVALID_ENUM:return"INVALID_ENUM";case r.INVALID_VALUE:return"INVALID_VALUE";case r.INVALID_OPERATION:return"INVALID_OPERATION";case r.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case r.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case r.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function Up(r,e){return nn(r,()=>r.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function RI(r,e){let t=nn(r,()=>r.createShader(r.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(Q(r,()=>r.shaderSource(t,e)),Q(r,()=>r.compileShader(t)),r.getShaderParameter(t,r.COMPILE_STATUS)===!1)throw console.log(r.getShaderInfoLog(t)),new Error("Failed to compile vertex shader.");return t}function _I(r,e){let t=nn(r,()=>r.createShader(r.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(Q(r,()=>r.shaderSource(t,e)),Q(r,()=>r.compileShader(t)),P().get("ENGINE_COMPILE_ONLY"))return t;if(r.getShaderParameter(t,r.COMPILE_STATUS)===!1)throw _1(e,r.getShaderInfoLog(t)),new Error("Failed to compile fragment shader.");return t}var LV=/ERROR: [0-9]+:([0-9]+):/g;function _1(r,e){let t=LV.exec(e);if(t==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(r);return}let o=+t[1],n=r.split(`
`),s=n.length.toString().length+2,i=n.map((p,f)=>I.rightPad((f+1).toString(),s)+p),a=0;for(let p=0;p<i.length;p++)a=Math.max(i[p].length,a);let u=i.slice(0,o-1),c=i.slice(o-1,o),l=i.slice(o);console.log(u.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${I.rightPad(c[0],a)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(l.join(`
`))}function OI(r){return nn(r,()=>r.createProgram(),"Unable to create WebGLProgram.")}function DI(r,e){if(Q(r,()=>r.linkProgram(e)),!P().get("ENGINE_COMPILE_ONLY")&&r.getProgramParameter(e,r.LINK_STATUS)===!1)throw console.log(r.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function fd(r,e){if(Q(r,()=>r.validateProgram(e)),r.getProgramParameter(e,r.VALIDATE_STATUS)===!1)throw console.log(r.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function FI(r,e){let t=nn(r,()=>r.createBuffer(),"Unable to create WebGLBuffer");return Q(r,()=>r.bindBuffer(r.ARRAY_BUFFER,t)),Q(r,()=>r.bufferData(r.ARRAY_BUFFER,e,r.STATIC_DRAW)),t}function PI(r,e){let t=nn(r,()=>r.createBuffer(),"Unable to create WebGLBuffer");return Q(r,()=>r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t)),Q(r,()=>r.bufferData(r.ELEMENT_ARRAY_BUFFER,e,r.STATIC_DRAW)),t}function LI(r){return nn(r,()=>r.createTexture(),"Unable to create WebGLTexture.")}function BI(r,e){let t=P().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(r<=0||e<=0){let o=`[${r}x${e}]`;throw new Error("Requested texture size "+o+" is invalid.")}if(r>t||e>t){let o=`[${r}x${e}]`,n=`[${t}x${t}]`;throw new Error("Requested texture size "+o+" greater than WebGL maximum on this browser / GPU "+n+".")}}function MI(r){return nn(r,()=>r.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function O1(r,e,t,o,n,s,i){let a=r.getAttribLocation(e,t);return a===-1?!1:(Q(r,()=>r.bindBuffer(r.ARRAY_BUFFER,o)),Q(r,()=>r.vertexAttribPointer(a,n,r.FLOAT,!1,s,i)),Q(r,()=>r.enableVertexAttribArray(a)),!0)}function BV(r,e,t){VV(r,t),Q(r,()=>r.activeTexture(r.TEXTURE0+t)),Q(r,()=>r.bindTexture(r.TEXTURE_2D,e))}function VI(r,e,t){return nn(r,()=>r.getUniformLocation(e,t),'uniform "'+t+'" not present in program.')}function UI(r,e,t){return r.getUniformLocation(e,t)}function GI(r,e,t,o){Q(r,()=>BV(r,e,o)),Q(r,()=>r.uniform1i(t,o))}function md(r,e,t){Q(r,()=>r.bindFramebuffer(r.FRAMEBUFFER,t)),Q(r,()=>r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0))}function D1(r,e){Q(r,()=>r.bindFramebuffer(r.FRAMEBUFFER,e)),Q(r,()=>r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0))}function Gp(r){let e=r.checkFramebufferStatus(r.FRAMEBUFFER);if(e!==r.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+MV(r,e))}function MV(r,e){switch(e){case r.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case r.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case r.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case r.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function nn(r,e,t){let o=Q(r,()=>e());if(o==null)throw new Error(t);return o}function VV(r,e){let t=r.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,o=e+r.TEXTURE0;if(o<r.TEXTURE0||o>t){let n=`[gl.TEXTURE0, gl.TEXTURE${t}]`;throw new Error(`textureUnit must be in ${n}.`)}}function Mn(r,e=2){return I.sizeFromShape(r.slice(0,r.length-e))}function Vn(r){if(r.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[r.length>1?r[r.length-2]:1,r[r.length-1]]}function zp(r){let e=[1,1,1];return r.length===0||r.length===1&&r[0]===1||(e=[Mn(r),...Vn(r)]),e}function zI(r,e=!1){let t=P().getNumber("WEBGL_MAX_TEXTURE_SIZE"),o=P().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");o===1/0&&P().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(o=t/2),e&&(t=t*2,o=o*2,r=r.map((a,u)=>u>=r.length-2?I.nearestLargerEven(r[u]):r[u]),r.length===1&&(r=[2,r[0]])),r.length!==2&&(r=I.squeezeShape(r).newShape);let n=I.sizeFromShape(r),s=null;r.length<=1&&n<=t?s=[1,n]:r.length===2&&r[0]<=t&&r[1]<=t?s=r:r.length===3&&r[0]*r[1]<=t&&r[2]<=t?s=[r[0]*r[1],r[2]]:r.length===3&&r[0]<=t&&r[1]*r[2]<=t?s=[r[0],r[1]*r[2]]:r.length===4&&r[0]*r[1]*r[2]<=t&&r[3]<=t?s=[r[0]*r[1]*r[2],r[3]]:r.length===4&&r[0]<=t&&r[1]*r[2]*r[3]<=t&&(s=[r[0],r[1]*r[2]*r[3]]);let i=s!=null&&Math.max(...s)>o&&Math.min(...s)<=(e?2:1)&&Math.min(...s)>0;if(s==null||i)if(e){let a=Mn(r),u=2,c=2;r.length&&([u,c]=Vn(r)),n=a*(u/2)*(c/2),s=I.sizeToSquarishShape(n).map(l=>l*2)}else s=I.sizeToSquarishShape(n);return s}function pd(r){return r%2===0}function ei(r,e){if(r=r.slice(-2),e=e.slice(-2),I.arraysEqual(r,e)||!r.length||!e.length||r[0]===0||r[1]===0||e[0]===0||e[1]===0)return!0;if(r.length!==e.length){let t=r[r.length-1],o=e[e.length-1];if(t===o||pd(t)&&pd(o)&&(r[0]===1||e[0]===1))return!0}return r[1]===e[1]&&pd(r[0])&&pd(e[0])}var k1,A1;function WI(r){if(k1==null){let e=Nr(r);k1=e.getParameter(e.MAX_TEXTURE_SIZE)}return k1}function HI(r){if(A1==null){let e=Nr(r);A1=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,A1)}function jI(r){if(r===0)return 0;let e,t=Nr(r);return Lr(t,"EXT_disjoint_timer_query_webgl2")&&r===2?e=2:Lr(t,"EXT_disjoint_timer_query")?e=1:e=0,e}function Lr(r,e){return r.getExtension(e)!=null}function F1(r){try{if(Nr(r)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function KI(r){if(r===0)return!1;let e=Nr(r);if(r===1){if(!Lr(e,"OES_texture_float"))return!1}else if(!Lr(e,"EXT_color_buffer_float"))return!1;return R1(e)}function qI(r){if(r===0)return!1;let e=Nr(r);if(r===1){if(!Lr(e,"OES_texture_float")||!Lr(e,"WEBGL_color_buffer_float"))return!1}else{if(Lr(e,"EXT_color_buffer_float"))return R1(e);let o="EXT_color_buffer_half_float";if(Lr(e,o)){let n=e.getExtension(o);return UV(e,n)}return!1}return R1(e)}function R1(r){let e=Vp(r),t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texImage2D(r.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);let s=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,s),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0);let i=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(t),r.deleteFramebuffer(s),i}function UV(r,e){let t=Vp(r,e),o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texImage2D(r.TEXTURE_2D,0,t.internalFormatHalfFloat,1,1,0,t.textureFormatFloat,t.textureTypeHalfFloat,null);let i=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,i),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,o,0);let a=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(o),r.deleteFramebuffer(i),a}function XI(r){return r!==2?!1:Nr(r).fenceSync!=null}function Lo(r,e){Array.isArray(r)||(r=[r]),r.forEach(t=>{t!=null&&I.assert(t.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}var se=P();se.registerFlag("HAS_WEBGL",()=>se.getNumber("WEBGL_VERSION")>0);se.registerFlag("WEBGL_VERSION",()=>F1(2)?2:F1(1)?1:0);se.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);se.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>se.get("WEBGL_VERSION")===2);se.registerFlag("WEBGL_CPU_FORWARD",()=>!0);se.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);se.registerFlag("WEBGL_PACK",()=>se.getBool("HAS_WEBGL"));se.registerFlag("WEBGL_PACK_NORMALIZATION",()=>se.getBool("WEBGL_PACK"));se.registerFlag("WEBGL_PACK_CLIP",()=>se.getBool("WEBGL_PACK"));se.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>se.getBool("WEBGL_PACK"));se.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>se.getBool("WEBGL_PACK"));se.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>se.getBool("WEBGL_PACK"));se.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>se.getBool("WEBGL_PACK"));se.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>se.getBool("WEBGL_PACK"));se.registerFlag("WEBGL_PACK_REDUCE",()=>se.getBool("WEBGL_PACK"));se.registerFlag("WEBGL_LAZILY_UNPACK",()=>se.getBool("WEBGL_PACK"));se.registerFlag("WEBGL_CONV_IM2COL",()=>se.getBool("WEBGL_PACK"));se.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>se.getBool("WEBGL_PACK"));se.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>WI(se.getNumber("WEBGL_VERSION")));se.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>HI(se.getNumber("WEBGL_VERSION")));se.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{let r=se.getNumber("WEBGL_VERSION");return r===0?0:jI(r)});se.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>se.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!Ho.isMobile());se.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>KI(se.getNumber("WEBGL_VERSION")));se.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>se.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:se.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));se.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>qI(se.getNumber("WEBGL_VERSION")));se.registerFlag("WEBGL_FENCE_API_ENABLED",()=>XI(se.getNumber("WEBGL_VERSION")));se.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>se.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);se.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,r=>{if(typeof r!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${r}.`);if(r<0&&r!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${r}.`)});se.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>Ho.isMobile()?1:-1,r=>{if(typeof r!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${r}.`);if(r<0&&r!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${r}.`)});se.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);se.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);se.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);se.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);se.registerFlag("WEBGL_EXP_CONV",()=>!1);se.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>se.getBool("IS_TEST"));se.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);se.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);se.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);se.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);function Ze(){let r,e,t,o,n,s,i,a,u,c;return P().getNumber("WEBGL_VERSION")===2?(r="#version 300 es",e="in",t="out",o="in",n="texture",s="outputColor",i="out vec4 outputColor;",a=P().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",u="",c=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(r="",e="attribute",t="varying",o="varying",n="texture2D",s="gl_FragColor",i="",a=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,u=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,c=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:r,attribute:e,varyingVs:t,varyingFs:o,texture2D:n,output:s,defineOutput:i,defineSpecialNaN:a,defineSpecialInf:u,defineRound:c}}function lo(r,e,t="index"){let o=I.computeStrides(e);return o.map((n,s)=>{let i=`int ${r[s]} = ${t} / ${n}`,a=s===o.length-1?`int ${r[s+1]} = ${t} - ${r[s]} * ${n}`:`index -= ${r[s]} * ${n}`;return`${i}; ${a};`}).join("")}function ti(r,e,t="index"){let o=I.computeStrides(e);return o.map((n,s)=>{let i=`int ${r[s]} = ${t} / outShapeStrides[${s}]`,a=s===o.length-1?`int ${r[s+1]} = ${t} - ${r[s]} * outShapeStrides[${s}]`:`index -= ${r[s]} * outShapeStrides[${s}]`;return`${i}; ${a};`}).join("")}function GV(r,e){let t=r.length,o=r.map(s=>`${e}[${s}]`),n=new Array(t-1);n[t-2]=o[t-1];for(let s=t-3;s>=0;--s)n[s]=`(${n[s+1]} * ${o[s+1]})`;return n}function YI(r,e,t="index"){let o=r.map((s,i)=>i),n=GV(o,e);return n.map((s,i)=>{let a=`int ${r[i]} = ${t} / ${n[i]}`,u=i===n.length-1?`int ${r[i+1]} = ${t} - ${r[i]} * ${n[i]}`:`index -= ${r[i]} * ${n[i]}`;return`${a}; ${u};`}).join("")}function pa(r){let e=I.computeStrides(r).map(t=>t.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function fa(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}var hd=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;var{getBroadcastDims:ZI}=O;function QI(r,e,t){let o=[];if(r.forEach(d=>{let h=I.sizeFromShape(d.shapeInfo.logicalShape);if(d.shapeInfo.isUniform?o.push(`uniform float ${d.name}${h>1?`[${h}]`:""};`):(o.push(`uniform sampler2D ${d.name};`),o.push(`uniform int offset${d.name};`)),t.enableShapeUniforms){let{uniformShape:x}=gd(t.packedInputs,d.shapeInfo.logicalShape,d.shapeInfo.texShape);switch(x.length){case 1:o.push(`uniform int ${d.name}Shape;`);break;case 2:o.push(`uniform ivec2 ${d.name}Shape;`);break;case 3:o.push(`uniform ivec3 ${d.name}Shape;`);break;case 4:o.push(`uniform ivec4 ${d.name}Shape;`);break;default:break}o.push(`uniform ivec2 ${d.name}TexShape;`)}}),t.enableShapeUniforms){switch(e.logicalShape.length){case 1:o.push("uniform int outShape;");break;case 2:o.push("uniform ivec2 outShape;"),o.push("uniform int outShapeStrides;");break;case 3:o.push("uniform ivec3 outShape;"),o.push("uniform ivec2 outShapeStrides;");break;case 4:o.push("uniform ivec4 outShape;"),o.push("uniform ivec3 outShapeStrides;");break;default:break}o.push("uniform ivec2 outTexShape;")}t.customUniforms&&t.customUniforms.forEach(d=>{o.push(`uniform ${d.type} ${d.name}${d.arrayIndex?`[${d.arrayIndex}]`:""};`)});let n=o.join(`
`),s=r.map(d=>zV(d,e,t.packedInputs,t.enableShapeUniforms)).join(`
`),i=e.texShape,a=Ze(),u=jV(a),c,l,p=XV(a);return e.isPacked?(c=WV(e.logicalShape,i,t.enableShapeUniforms),l=qV(a)):(c=HV(e.logicalShape,i,t.enableShapeUniforms),l=KV(a)),t.packedInputs&&(p+=JV),[p,u,l,n,c,s,t.userCode].join(`
`)}function da(r,e=!1){let t=r.shapeInfo.logicalShape;switch(t.length){case 0:return pU(r,e);case 1:return mU(r,e);case 2:return hU(r,e);case 3:return xU(r,e);case 4:return bU(r,e);case 5:return vU(r);case 6:return wU(r);default:throw new Error(`${t.length}-D input sampling is not yet supported`)}}function JI(r,e){switch(r.shapeInfo.logicalShape.length){case 0:return lU(r);case 1:return fU(r,e);case 2:return dU(r,e);case 3:return gU(r,e);default:return yU(r,e)}}function zV(r,e,t=!1,o){let n="";t?n+=JI(r,o):n+=da(r,o);let s=r.shapeInfo.logicalShape,i=e.logicalShape;return s.length<=i.length&&(t?n+=SU(r,e):n+=TU(r,e)),n}function WV(r,e,t){switch(r.length){case 0:return eE();case 1:return eU(r,e,t);case 2:return uU(r,e,t);case 3:return rU(r,e,t);default:return nU(r,e,t)}}function HV(r,e,t){switch(r.length){case 0:return eE();case 1:return tU(r,e,t);case 2:return cU(r,e,t);case 3:return oU(r,e,t);case 4:return sU(r,e,t);case 5:return iU(r,e);case 6:return aU(r,e);default:throw new Error(`${r.length}-D output sampling is not yet supported`)}}function jV(r){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${r.texture2D}(textureSampler, uv).r;
    }
  `}function KV(r){return`
    void setOutput(float val) {
      ${r.output} = vec4(val, 0, 0, 0);
    }
  `}function qV(r){return`
    void setOutput(vec4 val) {
      ${r.output} = val;
    }
  `}function XV(r){return`${r.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${r.varyingFs} vec2 resultUV;
    ${r.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${r.defineSpecialNaN}
    ${r.defineSpecialInf}
    ${r.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${YV}
    ${ZV}
    ${QV}
  `}var YV=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,ZV=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,QV=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,JV=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function eE(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function eU(r,e,t){let o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return o[0]===1?t?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${o[1]}.0);
      }
    `:o[1]===1?t?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${o[0]}.0);
      }
    `:t?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));
      return 2 * (resTexRC.x * ${o[1]} + resTexRC.y);
    }
  `}function tU(r,e,t){return e[0]===1?t?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?t?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:t?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function rU(r,e,t){if(t)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;let o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],n=Math.ceil(r[2]/2),s=n*Math.ceil(r[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));
      int index = resTexRC.x * ${o[1]} + resTexRC.y;

      int b = index / ${s};
      index -= b * ${s};

      int r = 2 * (index / ${n});
      int c = imod(index, ${n}) * 2;

      return ivec3(b, r, c);
    }
  `}function oU(r,e,t){if(t)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${ti(["r","c","d"],r)}
    return ivec3(r, c, d);
  }
`;let o=lo(["r","c","d"],r);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${o}
      return ivec3(r, c, d);
    }
  `}function nU(r,e,t){if(t)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;let o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],n=Math.ceil(r[r.length-1]/2),s=n*Math.ceil(r[r.length-2]/2),i=s,a="",u="b, r, c";for(let c=2;c<r.length-1;c++)i*=r[r.length-c-1],a=`
      int b${c} = index / ${i};
      index -= b${c} * ${i};
    `+a,u=`b${c}, `+u;return`
    ivec${r.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));
      int index = resTexRC.x * ${o[1]} + resTexRC.y;

      ${a}

      int b = index / ${s};
      index -= b * ${s};

      int r = 2 * (index / ${n});
      int c = imod(index, ${n}) * 2;

      return ivec${r.length}(${u});
    }
  `}function sU(r,e,t){if(t)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${ti(["r","c","d","d2"],r)}
      return ivec4(r, c, d, d2);
    }
  `;let o=lo(["r","c","d","d2"],r);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${o}
      return ivec4(r, c, d, d2);
    }
  `}function iU(r,e){let t=lo(["r","c","d","d2","d3"],r);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${t}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function aU(r,e){let t=lo(["r","c","d","d2","d3","d4"],r);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${t}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function uU(r,e,t){let o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(I.arraysEqual(r,e))return t?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${o[0]}, ${o[1]}));
      }
    `;let n=Math.ceil(r[1]/2);return t?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));

      int index = resTexRC.x * ${o[1]} + resTexRC.y;
      int r = 2 * (index / ${n});
      int c = imod(index, ${n}) * 2;

      return ivec2(r, c);
    }
  `}function cU(r,e,t){return I.arraysEqual(r,e)?t?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:r[1]===1?t?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:r[0]===1?t?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:t?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${r[1]};
      int c = index - r * ${r[1]};
      return ivec2(r, c);
    }
  `}function ri(r){return`offset${r}`}function lU(r){let e=r.name,t="get"+e.charAt(0).toUpperCase()+e.slice(1),o=Ze();return`
    vec4 ${t}() {
      return ${o.texture2D}(${e}, halfCR);
    }
  `}function pU(r,e){let t=r.name,o="get"+t.charAt(0).toUpperCase()+t.slice(1);if(r.shapeInfo.isUniform)return`float ${o}() {return ${t};}`;let[n,s]=r.shapeInfo.texShape;if(n===1&&s===1)return`
      float ${o}() {
        return sampleTexture(${t}, halfCR);
      }
    `;let i=ri(t);if(e)return`
    float ${o}() {
      vec2 uv = uvFromFlat(${t}TexShape[0], ${t}TexShape[1], ${i});
      return sampleTexture(${t}, uv);
    }
  `;let[a,u]=r.shapeInfo.texShape;return`
    float ${o}() {
      vec2 uv = uvFromFlat(${a}, ${u}, ${i});
      return sampleTexture(${t}, uv);
    }
  `}function fU(r,e){let t=r.name,o="get"+t.charAt(0).toUpperCase()+t.slice(1),n=r.shapeInfo.texShape,s=Ze();if(e)return`
    vec4 ${o}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${t}TexShape[0]) / 2.0), ceil(float(${t}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${s.texture2D}(${t}, uv);
    }
  `;let i=[Math.ceil(n[0]/2),Math.ceil(n[1]/2)];return`
    vec4 ${o}(int index) {
      vec2 uv = packedUVfrom1D(
        ${i[0]}, ${i[1]}, index);
      return ${s.texture2D}(${t}, uv);
    }
  `}function mU(r,e){let t=r.name,o="get"+t.charAt(0).toUpperCase()+t.slice(1);if(r.shapeInfo.isUniform)return`
      float ${o}(int index) {
        ${ha(r)}
      }
    `;let n=r.shapeInfo.texShape,s=n[0],i=n[1];if(i===1&&s===1)return`
      float ${o}(int index) {
        return sampleTexture(${t}, halfCR);
      }
    `;let a=ri(t);return i===1?e?`
      float ${o}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / float(${t}TexShape[0]));
        return sampleTexture(${t}, uv);
      }
    `:`
      float ${o}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / ${s}.0);
        return sampleTexture(${t}, uv);
      }
    `:s===1?e?`
      float ${o}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / float(${t}TexShape[1]), 0.5);
        return sampleTexture(${t}, uv);
      }
    `:`
      float ${o}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / ${i}.0, 0.5);
        return sampleTexture(${t}, uv);
      }
    `:e?`
    float ${o}(int index) {
      vec2 uv = uvFromFlat(${t}TexShape[0], ${t}TexShape[1], index + ${a});
      return sampleTexture(${t}, uv);
    }
  `:`
    float ${o}(int index) {
      vec2 uv = uvFromFlat(${s}, ${i}, index + ${a});
      return sampleTexture(${t}, uv);
    }
  `}function dU(r,e){let t=r.shapeInfo.logicalShape,o=r.name,n="get"+o.charAt(0).toUpperCase()+o.slice(1),s=r.shapeInfo.texShape,i=s[0],a=s[1],u=Ze();if(s!=null&&I.arraysEqual(t,s))return e?`
      vec4 ${n}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}TexShape[1], ${o}TexShape[0]);

        return ${u.texture2D}(${o}, uv);
      }
    `:`
      vec4 ${n}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}.0, ${i}.0);

        return ${u.texture2D}(${o}, uv);
      }
    `;if(e)return`
    vec4 ${n}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${o}TexShape[0]) / 2.0), ceil(float(${o}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${o}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${u.texture2D}(${o}, uv);
    }
  `;let c=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],l=Math.ceil(t[1]/2);return`
    vec4 ${n}(int row, int col) {
      vec2 uv = packedUVfrom2D(${l}, ${c[0]}, ${c[1]}, row, col);
      return ${u.texture2D}(${o}, uv);
    }
  `}function hU(r,e){let t=r.shapeInfo.logicalShape,o=r.name,n="get"+o.charAt(0).toUpperCase()+o.slice(1),s=r.shapeInfo.texShape;if(s!=null&&I.arraysEqual(t,s)){if(e)return`
      float ${n}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `;let f=s[0],d=s[1];return`
    float ${n}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${d}.0, ${f}.0);
      return sampleTexture(${o}, uv);
    }
  `}let{newShape:i,keptDims:a}=I.squeezeShape(t),u=i;if(u.length<t.length){let f=ga(r,u),d=["row","col"];return`
      ${da(f,e)}
      float ${n}(int row, int col) {
        return ${n}(${xa(d,a)});
      }
    `}if(r.shapeInfo.isUniform)return`
      float ${n}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${t[1]}, 1)));
        ${ha(r)}
      }
    `;let c=s[0],l=s[1],p=ri(o);return l===1?e?`
      float ${n}(int row, int col) {
        float index = dot(vec3(row, col, ${p}), vec3(${o}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${o}TexShape[0]));
        return sampleTexture(${o}, uv);
      }
    `:`
    float ${n}(int row, int col) {
      float index = dot(vec3(row, col, ${p}), vec3(${t[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);
      return sampleTexture(${o}, uv);
    }
  `:c===1?e?`
      float ${n}(int row, int col) {
        float index = dot(vec3(row, col, ${p}), vec3(${o}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${o}TexShape[1]), 0.5);
        return sampleTexture(${o}, uv);
      }
    `:`
    float ${n}(int row, int col) {
      float index = dot(vec3(row, col, ${p}), vec3(${t[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${l}.0, 0.5);
      return sampleTexture(${o}, uv);
    }
  `:e?`
      float ${n}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${o}Shape[1] + col + ${p};
        vec2 uv = uvFromFlat(${o}TexShape[0], ${o}TexShape[1], index);
        return sampleTexture(${o}, uv);
      }
    `:`
  float ${n}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${t[1]} + col + ${p};
    vec2 uv = uvFromFlat(${c}, ${l}, index);
    return sampleTexture(${o}, uv);
  }
`}function gU(r,e){let t=r.shapeInfo.logicalShape,o=r.name,n="get"+o.charAt(0).toUpperCase()+o.slice(1),s=r.shapeInfo.texShape,i=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];if(t[0]===1){let f=t.slice(1),d=[1,2],h=ga(r,f),x=["b","row","col"];return`
        ${JI(h,e)}
        vec4 ${n}(int b, int row, int col) {
          return ${n}(${xa(x,d)});
        }
      `}let a=Ze();if(e)return`
    vec4 ${n}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${o}TexShape[0]) / 2.0), ceil(float(${o}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${o}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${o}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${a.texture2D}(${o}, uv);
    }
  `;let u=i[0],c=i[1],l=Math.ceil(t[2]/2),p=l*Math.ceil(t[1]/2);return`
    vec4 ${n}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${u}, ${c}, ${p}, ${l}, b, row, col);
      return ${a.texture2D}(${o}, uv);
    }
  `}function xU(r,e){let t=r.shapeInfo.logicalShape,o=r.name,n="get"+o.charAt(0).toUpperCase()+o.slice(1),s=t[1]*t[2],i=t[2],{newShape:a,keptDims:u}=I.squeezeShape(t),c=a;if(c.length<t.length){let x=ga(r,c),g=["row","col","depth"];return`
        ${da(x,e)}
        float ${n}(int row, int col, int depth) {
          return ${n}(${xa(g,u)});
        }
      `}if(r.shapeInfo.isUniform)return`
      float ${n}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${s}, ${i}, 1)));
        ${ha(r)}
      }
    `;let l=r.shapeInfo.texShape,p=l[0],f=l[1],d=r.shapeInfo.flatOffset;if(f===s&&d==null)return e?`
      float ${n}(int row, int col, int depth) {
        int stride1 = ${o}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `:`
        float ${n}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${i}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${f}.0, ${p}.0);
          return sampleTexture(${o}, uv);
        }
      `;if(f===i&&d==null)return e?`
      float ${n}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${o}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `:`
    float ${n}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${t[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${f}.0, ${p}.0);
      return sampleTexture(${o}, uv);
    }
  `;let h=ri(o);return e?`
    float ${n}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${o}Shape[1] * ${o}Shape[2];
      int stride1 = ${o}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${h};
      vec2 uv = uvFromFlat(${o}TexShape[0], ${o}TexShape[1], index);
      return sampleTexture(${o}, uv);
    }
    `:`
      float ${n}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${s} + col * ${i} + depth + ${h};
        vec2 uv = uvFromFlat(${p}, ${f}, index);
        return sampleTexture(${o}, uv);
      }
  `}function yU(r,e){let t=r.name,o="get"+t.charAt(0).toUpperCase()+t.slice(1),n=Ze();if(e)return`
    vec4 ${o}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${t}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${t}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${t}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${t}TexShape[0]) / 2.0), ceil(float(${t}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${n.texture2D}(${t}, uv);
    }
  `;let s=r.shapeInfo.logicalShape,i=s.length,a=r.shapeInfo.texShape,u=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],c=u[0],l=u[1],p=Math.ceil(s[i-1]/2),f=p*Math.ceil(s[i-2]/2),d="int b, int row, int col",h=`b * ${f} + (row / 2) * ${p} + (col / 2)`;for(let x=2;x<i-1;x++)d=`int b${x}, `+d,f*=s[i-x-1],h=`b${x} * ${f} + `+h;return`
    vec4 ${o}(${d}) {
      int index = ${h};
      int texR = index / ${l};
      int texC = index - texR * ${l};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${l}, ${c});
      return ${n.texture2D}(${t}, uv);
    }
  `}function bU(r,e){let t=r.shapeInfo.logicalShape,o=r.name,n="get"+o.charAt(0).toUpperCase()+o.slice(1),s=t[3],i=t[2]*s,a=t[1]*i,{newShape:u,keptDims:c}=I.squeezeShape(t);if(u.length<t.length){let C=ga(r,u),k=["row","col","depth","depth2"];return`
      ${da(C,e)}
      float ${n}(int row, int col, int depth, int depth2) {
        return ${n}(${xa(k,c)});
      }
    `}if(r.shapeInfo.isUniform)return`
      float ${n}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${a}, ${i}, ${s}, 1)));
        ${ha(r)}
      }
    `;let l=r.shapeInfo.flatOffset,p=r.shapeInfo.texShape,f=p[0],d=p[1],h=`int stride2 = ${o}Shape[3];`,x=`int stride1 = ${o}Shape[2] * stride2;`,g=`int stride0 = ${o}Shape[1] * stride1;`;if(d===a&&l==null)return e?`
      float ${n}(int row, int col, int depth, int depth2) {
        ${h}
        ${x}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `:`
      float ${n}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${i}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${d}.0, ${f}.0);
        return sampleTexture(${o}, uv);
      }
    `;if(d===s&&l==null)return e?`
      float ${n}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${o}Shape[1] * ${o}Shape[2], ${o}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `:`
      float ${n}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${t[1]*t[2]}, ${t[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${d}.0, ${f}.0);
        return sampleTexture(${o}, uv);
      }
    `;let b=ri(o);return e?`
    float ${n}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${h}
      ${x}
      ${g}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${o}TexShape[0], ${o}TexShape[1], index + ${b});
      return sampleTexture(${o}, uv);
    }
  `:`
    float ${n}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${i} +
          depth * ${s} + depth2;
      vec2 uv = uvFromFlat(${f}, ${d}, index + ${b});
      return sampleTexture(${o}, uv);
    }
  `}function vU(r){let e=r.shapeInfo.logicalShape,t=r.name,o="get"+t.charAt(0).toUpperCase()+t.slice(1),n=e[4],s=e[3]*n,i=e[2]*s,a=e[1]*i,{newShape:u,keptDims:c}=I.squeezeShape(e);if(u.length<e.length){let x=ga(r,u),g=["row","col","depth","depth2","depth3"];return`
      ${da(x)}
      float ${o}(int row, int col, int depth, int depth2, int depth3) {
        return ${o}(${xa(g,c)});
      }
    `}if(r.shapeInfo.isUniform)return`
      float ${o}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${a}, ${i}, ${s}, ${n})) +
          depth3;
        ${ha(r)}
      }
    `;let l=r.shapeInfo.flatOffset,p=r.shapeInfo.texShape,f=p[0],d=p[1];if(d===a&&l==null)return`
      float ${o}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${i}, ${s}, ${n}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${d}.0, ${f}.0);
        return sampleTexture(${t}, uv);
      }
    `;if(d===n&&l==null)return`
      float ${o}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${d}.0, ${f}.0);
        return sampleTexture(${t}, uv);
      }
    `;let h=ri(t);return`
    float ${o}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${i} + depth * ${s} +
          depth2 * ${n} + depth3 + ${h};
      vec2 uv = uvFromFlat(${f}, ${d}, index);
      return sampleTexture(${t}, uv);
    }
  `}function wU(r){let e=r.shapeInfo.logicalShape,t=r.name,o="get"+t.charAt(0).toUpperCase()+t.slice(1),{newShape:n,keptDims:s}=I.squeezeShape(e);if(n.length<e.length){let g=ga(r,n),b=["row","col","depth","depth2","depth3","depth4"];return`
      ${da(g)}
      float ${o}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${o}(${xa(b,s)});
      }
    `}let i=e[5],a=e[4]*i,u=e[3]*a,c=e[2]*u,l=e[1]*c;if(r.shapeInfo.isUniform)return`
      float ${o}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${l}, ${c}, ${u}, ${a})) +
          dot(
            vec2(depth3, depth4),
            vec2(${i}, 1)));
        ${ha(r)}
      }
    `;let p=r.shapeInfo.flatOffset,f=r.shapeInfo.texShape,d=f[0],h=f[1];if(h===l&&p==null)return`
      float ${o}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${c}, ${u}, ${a}, ${i})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${t}, uv);
      }
    `;if(h===i&&p==null)return`
      float ${o}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${t}, uv);
      }
    `;let x=ri(t);return`
    float ${o}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${l} + col * ${c} + depth * ${u} +
          depth2 * ${a} + depth3 * ${i} + depth4 + ${x};
      vec2 uv = uvFromFlat(${d}, ${h}, index);
      return sampleTexture(${t}, uv);
    }
  `}function ha(r){let e=r.name,t=I.sizeFromShape(r.shapeInfo.logicalShape);return t<2?`return ${e};`:`
    for (int i = 0; i < ${t}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function SU(r,e){let t=r.name,o=t.charAt(0).toUpperCase()+t.slice(1),n="get"+o+"AtOutCoords",s=r.shapeInfo.logicalShape.length,i=e.logicalShape.length,a=ZI(r.shapeInfo.logicalShape,e.logicalShape),u=pe(i),c=i-s,l,p=["x","y","z","w","u","v"];s===0?l="":i<2&&a.length>=1?l="coords = 0;":l=a.map(C=>`coords.${p[C+c]} = 0;`).join(`
`);let f="";i<2&&s>0?f="coords":f=r.shapeInfo.logicalShape.map((C,k)=>`coords.${p[k+c]}`).join(", ");let d="return outputValue;",x=I.sizeFromShape(r.shapeInfo.logicalShape)===1,b=I.sizeFromShape(e.logicalShape)===1;if(s===1&&!x&&!b)d=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(x&&!b)i===1?d=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:d=`
        return vec4(outputValue.x);
      `;else if(a.length){let C=s-2,k=s-1;a.indexOf(C)>-1&&a.indexOf(k)>-1?d="return vec4(outputValue.x);":a.indexOf(C)>-1?d="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":a.indexOf(k)>-1&&(d="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${n}() {
      ${u} coords = getOutputCoords();
      ${l}
      vec4 outputValue = get${o}(${f});
      ${d}
    }
  `}function TU(r,e){let t=r.name,o=t.charAt(0).toUpperCase()+t.slice(1),n="get"+o+"AtOutCoords",s=e.texShape,i=r.shapeInfo.texShape,a=r.shapeInfo.logicalShape.length,u=e.logicalShape.length;if(!r.shapeInfo.isUniform&&a===u&&r.shapeInfo.flatOffset==null&&I.arraysEqual(i,s))return`
      float ${n}() {
        return sampleTexture(${t}, resultUV);
      }
    `;let c=pe(u),l=ZI(r.shapeInfo.logicalShape,e.logicalShape),p=u-a,f,d=["x","y","z","w","u","v"];a===0?f="":u<2&&l.length>=1?f="coords = 0;":f=l.map(x=>`coords.${d[x+p]} = 0;`).join(`
`);let h="";return u<2&&a>0?h="coords":h=r.shapeInfo.logicalShape.map((x,g)=>`coords.${d[g+p]}`).join(", "),`
    float ${n}() {
      ${c} coords = getOutputCoords();
      ${f}
      return get${o}(${h});
    }
  `}function pe(r){if(r<=1)return"int";if(r===2)return"ivec2";if(r===3)return"ivec3";if(r===4)return"ivec4";if(r===5)return"ivec5";if(r===6)return"ivec6";throw Error(`GPU for rank ${r} is not yet supported`)}function gd(r,e,t){let{newShape:o,keptDims:n}=I.squeezeShape(e),s=e.length,i=r&&s===3&&e[0]===1,a=i?e.slice(1):o,u=!r&&s>1&&!I.arraysEqual(e,t)&&o.length<s||i;return{useSqueezeShape:u,uniformShape:u?a:e,keptDims:n}}function ga(r,e){let t=JSON.parse(JSON.stringify(r));return t.shapeInfo.logicalShape=e,t}function xa(r,e){return e.map(t=>r[t]).join(", ")}function rE(r,e,t,o){let n=t.map((l,p)=>{let f={logicalShape:l.shape,texShape:l.isUniform?null:l.texData.texShape,isUniform:l.isUniform,isPacked:l.isUniform?!1:l.texData.isPacked,flatOffset:null};return l.texData!=null&&l.texData.slice!=null&&l.texData.slice.flatOffset>0&&(f.flatOffset=l.texData.slice.flatOffset),{name:e.variableNames[p],shapeInfo:f}}),s=n.map(l=>l.shapeInfo),i={logicalShape:o.shape,texShape:o.texData.texShape,isUniform:!1,isPacked:o.texData.isPacked,flatOffset:null},a=QI(n,i,e),u=_I(r.gl,a),c=r.createProgram(u);return P().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:u,source:a,webGLProgram:c,inShapeInfos:s,outShapeInfo:i,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(r.buildVao(c),Object.assign({program:e,fragmentShader:u,source:a,webGLProgram:c,inShapeInfos:s,outShapeInfo:i},P1(r,e,c)))}function P1(r,e,t){let o=[],n=[],s,i,a,u=null,c=null;c=r.getUniformLocation(t,"NAN",!1),P().getNumber("WEBGL_VERSION")===1&&(u=r.getUniformLocation(t,"INFINITY",!1));let l=!1;for(let p of e.variableNames){let f={name:p,uniform:r.getUniformLocation(t,p,l),offset:r.getUniformLocation(t,`offset${p}`,l)};e.enableShapeUniforms&&(f.shape=r.getUniformLocation(t,`${p}Shape`,l),f.texShape=r.getUniformLocation(t,`${p}TexShape`,l)),o.push(f)}if(e.enableShapeUniforms&&(s=r.getUniformLocation(t,"outShape",l),a=r.getUniformLocation(t,"outShapeStrides",l),i=r.getUniformLocation(t,"outTexShape",l)),e.customUniforms)for(let p of e.customUniforms)n.push(r.getUniformLocation(t,p.name,l));return{variablesLocations:o,customUniformLocations:n,infLoc:u,nanLoc:c,outShapeLocation:s,outShapeStridesLocation:a,outTexShapeLocation:i}}function tE(r,e){if(r.length!==e.length)throw Error(`Binary was compiled with ${r.length} inputs, but was executed with ${e.length} inputs`);r.forEach((t,o)=>{let n=t.logicalShape,s=e[o],i=s.shape;if(!I.arraysEqual(n,i))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${n} and ${i} must match`);if(t.isUniform&&s.isUniform)return;let a=t.texShape,u=s.isUniform?null:s.texData.texShape;if(!I.arraysEqual(a,u))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${a} and ${u} must match`)})}function oE(r,e,t,o,n){e.program.enableShapeUniforms||(tE(e.inShapeInfos,t),tE([e.outShapeInfo],[o]));let s=o.texData.texture,i=o.texData.texShape;o.texData.isPacked?r.setOutputPackedMatrixTexture(s.texture,i[0],i[1]):r.setOutputMatrixTexture(s.texture,i[0],i[1]),r.setProgram(e.webGLProgram),r.bindVertexArray(e.webGLProgram.vao),P().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&r.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&r.gl.uniform1f(e.nanLoc,NaN);for(let u=0;u<t.length;++u){let c=t[u],{uniform:l,offset:p,shape:f,texShape:d}=e.variablesLocations[u];if(f){let{uniformShape:h}=gd(e.program.packedInputs,c.shape,c.texData.texShape);switch(h.length){case 1:r.gl.uniform1iv(f,new Int32Array(h));break;case 2:r.gl.uniform2iv(f,new Int32Array(h));break;case 3:r.gl.uniform3iv(f,new Int32Array(h));break;case 4:r.gl.uniform4iv(f,new Int32Array(h));break;default:break}}if(d&&r.gl.uniform2i(d,c.texData.texShape[0],c.texData.texShape[1]),l!=null){if(c.isUniform){if(I.sizeFromShape(c.shape)<2)r.gl.uniform1f(l,c.uniformValues[0]);else{let h=c.uniformValues;h instanceof Float32Array||(h=new Float32Array(h)),r.gl.uniform1fv(l,h)}continue}c.texData.slice!=null&&p!=null&&r.gl.uniform1i(p,c.texData.slice.flatOffset),r.setInputMatrixTexture(c.texData.texture.texture,l,u)}}let a=e.outShapeLocation;if(a)switch(o.shape.length){case 1:r.gl.uniform1iv(a,new Int32Array(o.shape));break;case 2:r.gl.uniform2iv(a,new Int32Array(o.shape));break;case 3:r.gl.uniform3iv(a,new Int32Array(o.shape));break;case 4:r.gl.uniform4iv(a,new Int32Array(o.shape));break;default:break}if(e.outShapeStridesLocation){let u=I.computeStrides(o.shape);switch(o.shape.length){case 2:r.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(u));break;case 3:r.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(u));break;case 4:r.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(u));break;default:break}}if(e.outTexShapeLocation&&r.gl.uniform2i(e.outTexShapeLocation,o.texData.texShape[0],o.texData.texShape[1]),e.program.customUniforms&&n)for(let u=0;u<e.program.customUniforms.length;++u){let c=e.program.customUniforms[u],l=e.customUniformLocations[u],p=n[u];if(c.type==="float")r.gl.uniform1fv(l,p);else if(c.type==="vec2")r.gl.uniform2fv(l,p);else if(c.type==="vec3")r.gl.uniform3fv(l,p);else if(c.type==="vec4")r.gl.uniform4fv(l,p);else if(c.type==="int")r.gl.uniform1iv(l,p);else if(c.type==="ivec2")r.gl.uniform2iv(l,p);else if(c.type==="ivec3")r.gl.uniform3iv(l,p);else if(c.type==="ivec4")r.gl.uniform4iv(l,p);else throw Error(`uniform type ${c.type} is not supported yet.`)}r.executeProgram()}function nE(r,e,t){let o="";e.concat(t).forEach(i=>{let a=i.texData!=null&&i.texData.slice!=null&&i.texData.slice.flatOffset>0;if(r.enableShapeUniforms&&!i.isUniform){let u=i.texData.texShape,{useSqueezeShape:c,uniformShape:l,keptDims:p}=gd(r.packedInputs,i.shape,u),f="",d="",h="";if(l.length===1&&r.packedInputs){let D=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)];f=`${D[0]>1}_${D[1]>1}`}else if(l.length===2&&!r.packedInputs)d=`${l[0]>1}_${l[1]>1}`;else if(l.length>2&&!r.packedInputs){let D=I.computeStrides(l);h=`${D[0]===u[1]}_${D[D.length-1]===u[1]}`}let x=i.shape.length,g=l.length===2&&I.arraysEqual(i.shape,u),b=I.sizeFromShape(i.shape)===1,C=O.getBroadcastDims(i.shape,t.shape),k=!r.packedInputs&&x===t.shape.length&&I.arraysEqual(u,t.texData.texShape),A=r.packedInputs||l.length>2?"":`${u[0]>1}_${u[1]>1}`;o+=`${x}_${k}_${c?p:""}_${l.length}_${b}_${C}_${g}_${f}_${d}_${h}_${A}_${a}`}else{let u=i.isUniform?"uniform":i.texData.texShape;o+=`${i.shape}_${u}_${a}`}});let n=r.userCode,s=r.constructor.name;return s+="_"+o+"_"+n+`${P().getNumber("WEBGL_VERSION")}`,s}function Pe(r){return P().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&r<=4}var xd=class{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Bn.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];let t=Ze();this.outputShape=e,this.enableShapeUniforms=Pe(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?ti(["r","c","d"],e):lo(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${t.output} = result;
      }
    `}};var yd=class{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Bn.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];let t=Ze();this.outputShape=e,this.enableShapeUniforms=Pe(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?ti(["r","c","d"],e):lo(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${t.output} = result;
      }
    `}};var bd=class{constructor(e){this.variableNames=["A"],this.outTexUsage=Ot.DOWNLOAD;let t=Ze();this.outputShape=e,this.userCode=`
      ${hd}

      void main() {
        float x = getAAtOutCoords();
        ${t.output} = encode_float(x);
      }
    `}};var vd=class{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Ot.DOWNLOAD;let t=Ze();this.outputShape=e,this.userCode=`
      ${hd}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${t.output} = encode_float(x);
      }
    `}};var EU={R:0,G:1,B:2,A:3},Wp=class{constructor(e,t=!1,o="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];let n=Ze();this.outputShape=e,this.enableShapeUniforms=Pe(this.outputShape.length);let s="result";t&&(s="floor(result * 255. + 0.5)");let i="";for(let a=0;a<o.length;a++){let u=o[a];i+=`
          if(offset == ${a}) {
            result = values[${EU[u]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?fa():pa(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${o.length});

        flatIndex = idiv(flatIndex, ${o.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${n.texture2D}(A, uv);
          ${i}
        }
        ${n.output} = vec4(${s}, 0., 0., 0.);
      }
    `}};var wd=class{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];let o=Ze();this.outputShape=e,this.enableShapeUniforms=Pe(this.outputShape.length);let n="",s="result";t&&(s="floor(result * 255. + 0.5)");for(let i=0;i<=1;i++)for(let a=0;a<=1;a++){let u=i*2+a;n+=`
          localCoords = coords;
          if(localCoords[2] + ${a} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${a};
          if (localCoords[1] + ${i} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${i};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${o.texture2D}(A, uv);

            if (offset == 0) {
              result[${u}] = values[0];
            } else if (offset == 1) {
              result[${u}] = values[1];
            } else if (offset == 2) {
              result[${u}] = values[2];
            } else {
              result[${u}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?fa():pa(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${n}

          ${o.output} = ${s};
        }
    `}};function sE(r){let e=Ze(),t=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return RI(r,t)}function iE(r){let e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return FI(r,e)}function aE(r){let e=new Uint16Array([0,1,2,2,1,3]);return PI(r,e)}function Hp(r,e,t,o,n,s){BI(e,t);let i=LI(r),a=r.TEXTURE_2D;return Q(r,()=>r.bindTexture(a,i)),Q(r,()=>r.texParameteri(a,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE)),Q(r,()=>r.texParameteri(a,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE)),Q(r,()=>r.texParameteri(a,r.TEXTURE_MIN_FILTER,r.NEAREST)),Q(r,()=>r.texParameteri(a,r.TEXTURE_MAG_FILTER,r.NEAREST)),P().getNumber("WEBGL_VERSION")===1?Q(r,()=>r.texImage2D(a,0,o,e,t,0,n,s,null)):Q(r,()=>r.texStorage2D(a,1,o,e,t)),Q(r,()=>r.bindTexture(r.TEXTURE_2D,null)),{texture:i,texShape:[t,e]}}function L1(r){return r.internalFormatFloat}function uE(r,e,t,o){let[n,s]=Js(e,t);return Hp(r,n,s,L1(o),o.textureFormatFloat,r.FLOAT)}function B1(r){return r.internalFormatHalfFloat}function cE(r,e,t,o){let[n,s]=Js(e,t);return Hp(r,n,s,B1(o),o.textureFormatFloat,o.textureTypeHalfFloat)}function M1(r){return r.downloadTextureFormat}function lE(r,e,t,o){let[n,s]=Js(e,t);return Hp(r,n,s,M1(o),r.RGBA,r.UNSIGNED_BYTE)}function V1(r){return r.internalFormatPackedFloat}function pE(r,e,t,o){let[n,s]=Po(e,t);return Hp(r,n,s,V1(o),r.RGBA,r.FLOAT)}function U1(r){return r.internalFormatPackedHalfFloat}function fE(r,e,t,o){let[n,s]=Po(e,t);return Hp(r,n,s,U1(o),r.RGBA,o.textureTypeHalfFloat)}function mE(r,e,t){return Q(r,()=>r.bindBuffer(r.ARRAY_BUFFER,t)),O1(r,e,"clipSpacePos",t,3,20,0)&&O1(r,e,"uv",t,2,20,12)}function dE(r,e,t,o,n,s){Q(r,()=>r.bindTexture(r.TEXTURE_2D,e));let i,a,u;n instanceof Uint8Array?(i=new Uint8Array(t*o*4),a=r.UNSIGNED_BYTE,u=r.RGBA):(i=new Float32Array(t*o*4),a=r.FLOAT,u=s.internalFormatPackedFloat),i.set(n),P().getNumber("WEBGL_VERSION")===2?Q(r,()=>r.texSubImage2D(r.TEXTURE_2D,0,0,0,t,o,r.RGBA,a,i)):Q(r,()=>r.texImage2D(r.TEXTURE_2D,0,u,t,o,0,r.RGBA,a,i)),Q(r,()=>r.bindTexture(r.TEXTURE_2D,null))}function hE(r,e,t){Q(r,()=>r.bindTexture(r.TEXTURE_2D,e)),t.data instanceof Uint8Array?P().getNumber("WEBGL_VERSION")===2?Q(r,()=>r.texSubImage2D(r.TEXTURE_2D,0,0,0,t.width,t.height,r.RGBA,r.UNSIGNED_BYTE,t.data)):Q(r,()=>r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t.width,t.height,0,r.RGBA,r.UNSIGNED_BYTE,t.data)):P().getNumber("WEBGL_VERSION")===2?Q(r,()=>r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,t)):Q(r,()=>r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t)),Q(r,()=>r.bindTexture(r.TEXTURE_2D,null))}function gE(r,e,t,o){let n=r.createBuffer();Q(r,()=>r.bindBuffer(r.PIXEL_PACK_BUFFER,n));let a=4*4*e*t;return Q(r,()=>r.bufferData(r.PIXEL_PACK_BUFFER,a,r.STREAM_READ)),Q(r,()=>r.readPixels(0,0,t,e,r.RGBA,r.FLOAT,0)),Q(r,()=>r.bindBuffer(r.PIXEL_PACK_BUFFER,null)),n}function xE(r,e,t){let o=r,n=new Float32Array(t);return o.bindBuffer(o.PIXEL_PACK_BUFFER,e),o.getBufferSubData(o.PIXEL_PACK_BUFFER,0,n),o.bindBuffer(o.PIXEL_PACK_BUFFER,null),n}function yE(r,e,t,o){let[n,s]=Js(e,t),i=4,a=new Uint8Array($I(e*t,i));return Q(r,()=>r.readPixels(0,0,n,s,o.downloadTextureFormat,r.UNSIGNED_BYTE,a)),new Float32Array(a.buffer)}function bE(r,e,t,o,n,s,i,a){let u=r,c=new Float32Array(kI(s,i));return u.bindBuffer(u.PIXEL_PACK_BUFFER,e),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function vE(r,e,t){let o=new Float32Array(e*t*4);return Q(r,()=>r.readPixels(0,0,t,e,r.RGBA,r.FLOAT,o)),o}var ya=class{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];let t=P().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,NI(t,e)):this.gl=Nr(t),e=this.gl,P().getNumber("WEBGL_VERSION")===2){let s=e;this.createVertexArray=()=>Q(s,()=>s.createVertexArray()),this.bindVertexArray=i=>Q(s,()=>s.bindVertexArray(i)),this.deleteVertexArray=i=>Q(s,()=>s.deleteVertexArray(i)),this.getVertexArray=()=>Q(s,()=>s.getParameter(s.VERTEX_ARRAY_BINDING))}else if(e!=null){let s=e.getExtension("OES_vertex_array_object");if(s==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>Q(e,()=>s.createVertexArrayOES()),this.bindVertexArray=i=>Q(e,()=>s.bindVertexArrayOES(i)),this.deleteVertexArray=i=>Q(e,()=>s.deleteVertexArrayOES(i)),this.getVertexArray=()=>Q(e,()=>e.getParameter(s.VERTEX_ARRAY_BINDING_OES))}let o="WEBGL_color_buffer_float",n="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),P().getNumber("WEBGL_VERSION")===1){let s="OES_texture_float",i="OES_texture_half_float";if(this.textureFloatExtension=Up(this.gl,s),Lr(this.gl,i))this.textureHalfFloatExtension=Up(this.gl,i);else if(P().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(o),Lr(this.gl,n))this.colorBufferHalfFloatExtension=Up(this.gl,n);else if(P().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(o="EXT_color_buffer_float",Lr(this.gl,o))this.colorBufferFloatExtension=this.gl.getExtension(o);else if(Lr(this.gl,n))this.colorBufferHalfFloatExtension=this.gl.getExtension(n);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=iE(this.gl),this.indexBuffer=aE(this.gl),this.framebuffer=MI(this.gl),this.textureConfig=Vp(this.gl,this.textureHalfFloatExtension)}get debug(){return P().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");let e=this.gl;Q(e,()=>e.finish()),Q(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),Q(e,()=>e.deleteFramebuffer(this.framebuffer)),Q(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),Q(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),Q(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),uE(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),cE(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),lE(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),hE(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,o,n){this.throwIfDisposed(),dE(this.gl,e,t,o,n,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),fE(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),pE(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(D1(this.gl,this.framebuffer),this.outputTexture=null),Q(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,o){return this.downloadMatrixDriver(e,()=>yE(this.gl,t,o,this.textureConfig))}downloadPackedMatrixFromBuffer(e,t,o,n,s,i){return bE(this.gl,e,t,o,n,s,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return xE(this.gl,e,t)}createBufferFromTexture(e,t,o){this.bindTextureToFrameBuffer(e);let n=gE(this.gl,t,o,this.textureConfig);return this.unbindTextureToFrameBuffer(),n}createAndWaitForFence(){let e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,o;if(P().getBool("WEBGL_FENCE_API_ENABLED")){let n=e,s=n.fenceSync(n.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),o=()=>{let i=n.clientWaitSync(s,0,0);return i===n.ALREADY_SIGNALED||i===n.CONDITION_SATISFIED},t=s}else P().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),o=()=>this.isQueryAvailable(t,P().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):o=()=>!0;return{query:t,isFencePassed:o}}downloadMatrixFromPackedTexture(e,t,o){return this.downloadMatrixDriver(e,()=>vE(this.gl,t,o))}createProgram(e){this.throwIfDisposed();let t=this.gl;this.vertexShader==null&&(this.vertexShader=sE(t));let o=OI(t);Q(t,()=>t.attachShader(o,this.vertexShader)),Q(t,()=>t.attachShader(o,e)),DI(t,o);let n=Object.assign(o,{vao:this.createVertexArray()});return this.debug&&fd(t,n),n}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);let t=this.gl;Q(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),mE(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(Q(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&fd(this.gl,this.program),Q(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,t,o=!0){return this.throwIfDisposed(),o?VI(this.gl,e,t):UI(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),Q(this.gl,()=>this.gl.getAttribLocation(e,t))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,o){this.throwIfDisposed(),this.throwIfNoProgram(),GI(this.gl,e,t,o)}setOutputMatrixTexture(e,t,o){this.setOutputMatrixTextureDriver(e,o,t)}setOutputPackedMatrixTexture(e,t,o){this.throwIfDisposed();let[n,s]=Po(t,o);this.setOutputMatrixTextureDriver(e,n,s)}setOutputMatrixWriteRegion(e,t,o,n){this.setOutputMatrixWriteRegionDriver(o,e,n,t)}setOutputPackedMatrixWriteRegion(e,t,o,n){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&fd(this.gl,this.program),Gp(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();let e=this.gl;if(this.debug){let t=this.getVertexArray();console.assert(t===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}Q(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Q(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=Up(this.gl,P().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(P().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){let o=this.gl,n=this.getQueryTimerExtensionWebGL2(),s=o.createQuery();return o.beginQuery(n.TIME_ELAPSED_EXT,s),s}let e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(P().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){let t=this.gl,o=this.getQueryTimerExtensionWebGL2();t.endQuery(o.TIME_ELAPSED_EXT);return}let e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await I.repeatedTry(()=>this.disposed||this.isQueryAvailable(e,P().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,P().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(t===0)return null;if(t===2){let o=this.gl;return o.getQueryParameter(e,o.QUERY_RESULT)/1e6}else{let o=this.getQueryTimerExtensionWebGL1();return o.getQueryObjectEXT(e,o.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(t===0)return!0;if(t===2){let o=this.gl,n=this.getQueryTimerExtensionWebGL2(),s=o.getQueryParameter(e,o.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),s&&!this.disjoint}else{let o=this.getQueryTimerExtensionWebGL1(),n=o.getQueryObjectEXT(e,o.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise(t=>{this.addItemToPoll(()=>e.isFencePassed(),()=>t())})}pollItems(){let e=$U(this.itemsToPoll.map(t=>t.isDoneFn));for(let t=0;t<=e;++t){let{resolveFn:o}=this.itemsToPoll[t];o()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let o;"setTimeoutCustom"in P().platform&&(o=P().platform.setTimeoutCustom.bind(P().platform)),I.repeatedTry(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,o)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),md(this.gl,e,this.framebuffer),this.debug&&Gp(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(md(this.gl,this.outputTexture,this.framebuffer),this.debug&&Gp(this.gl)):D1(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);let o=t();return this.unbindTextureToFrameBuffer(),o}setOutputMatrixTextureDriver(e,t,o){this.throwIfDisposed();let n=this.gl;md(n,e,this.framebuffer),this.debug&&Gp(n),this.outputTexture=e,Q(n,()=>n.viewport(0,0,t,o)),Q(n,()=>n.scissor(0,0,t,o))}setOutputMatrixWriteRegionDriver(e,t,o,n){this.throwIfDisposed(),Q(this.gl,()=>this.gl.scissor(e,t,o,n))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}};function $U(r){let e=0;for(;e<r.length&&r[e]();++e);return e-1}var fb={};Ee(fb,{addImpl:()=>W1,bincountImpl:()=>TE,bincountReduceImpl:()=>CE,bitwiseAndImpl:()=>H1,castImpl:()=>z1,ceilImpl:()=>j1,concatImpl:()=>IE,equalImpl:()=>K1,expImpl:()=>q1,expm1Impl:()=>X1,floorDivImpl:()=>Z1,floorImpl:()=>Y1,gatherNdImpl:()=>EE,gatherV2Impl:()=>NE,greaterEqualImpl:()=>J1,greaterImpl:()=>Q1,lessEqualImpl:()=>tb,lessImpl:()=>eb,linSpaceImpl:()=>$E,logImpl:()=>rb,maxImpl:()=>kE,maximumImpl:()=>ob,minimumImpl:()=>nb,multiplyImpl:()=>Kp,negImpl:()=>AE,notEqualImpl:()=>sb,prodImpl:()=>_E,raggedGatherImpl:()=>DE,raggedRangeImpl:()=>PE,raggedTensorToTensorImpl:()=>ME,rangeImpl:()=>VE,rsqrtImpl:()=>ab,scatterImpl:()=>UE,sigmoidImpl:()=>GE,simpleAbsImpl:()=>wE,sliceImpl:()=>zE,sparseFillEmptyRowsImpl:()=>WE,sparseReshapeImpl:()=>HE,sparseSegmentReductionImpl:()=>jE,sqrtImpl:()=>KE,squaredDifferenceImpl:()=>ub,staticRegexReplaceImpl:()=>cb,stridedSliceImpl:()=>qE,stringNGramsImpl:()=>XE,stringSplitImpl:()=>YE,stringToHashBucketFastImpl:()=>ZE,subImpl:()=>pb,tileImpl:()=>QE,topKImpl:()=>eN,transposeImpl:()=>RE,uniqueImpl:()=>tN});function Sd(r,e){Array.isArray(r)||(r=[r]),r.forEach(t=>{t!=null&&I.assert(t.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}function wE(r){let e=new Float32Array(r.length);for(let t=0;t<r.length;++t)e[t]=Math.abs(r[t]);return e}function Ge(r){return(e,t,o,n,s)=>{let i=O.assertAndGetBroadcastShape(e,t),a=i.length,u=I.computeStrides(i),c=I.sizeFromShape(i),l=I.getTypedArrayFromDType(s,c),p=e.length,f=t.length,d=I.computeStrides(e),h=I.computeStrides(t),x=O.getBroadcastDims(e,i),g=O.getBroadcastDims(t,i);if(x.length+g.length===0)for(let b=0;b<l.length;++b)l[b]=r(o[b%o.length],n[b%n.length]);else for(let b=0;b<l.length;++b){let C=I.indexToLoc(b,a,u),k=C.slice(-p);x.forEach(M=>k[M]=0);let A=I.locToIndex(k,p,d),D=C.slice(-f);g.forEach(M=>D[M]=0);let L=I.locToIndex(D,f,h);l[b]=r(o[A],n[L])}return[l,i]}}function ba(r){let{inputs:e,backend:t}=r,{real:o,imag:n}=e,s=t.data.get(o.dataId).values,i=t.data.get(n.dataId).values,a=t.makeTensorInfo(o.shape,"complex64"),u=t.data.get(a.dataId);return u.complexTensorInfos={real:t.makeTensorInfo(o.shape,"float32",s),imag:t.makeTensorInfo(n.shape,"float32",i)},a}function Td(r,e,t="float32"){if(t==="complex64"){let n=Td(r,e,"float32"),s=Td(r,e,"float32");return ba({inputs:{real:n,imag:s},backend:r})}let o=I.makeZerosTypedArray(I.sizeFromShape(e),t);return r.makeTensorInfo(e,t,o)}function G1(r){let{inputs:e,backend:t}=r,{x:o}=e;return t.incRef(o.dataId),{dataId:o.dataId,shape:o.shape,dtype:o.dtype}}function SE(r){let{inputs:e,backend:t}=r,{input:o}=e,n=t.data.get(o.dataId).complexTensorInfos.real,s=t.data.get(n.dataId).values;return t.makeTensorInfo(n.shape,n.dtype,s)}function z1(r,e,t,o){if(o==="int32"){let n=Int32Array.from(r);return[e,"int32",n]}if(o==="bool"){let n=I.toTypedArray([0],t),[s,i]=Ge((a,u)=>a!==u?1:0)(e,[],r,n,"bool");return[i,"bool",s]}throw new Error(`Error in Cast: failed to cast ${t} to ${o}`)}function jp(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{dtype:s}=o;if(s==="complex64"){if(n.dtype==="complex64")return G1({inputs:{x:n},backend:t});let l=Td(t,n.shape,n.dtype),p=jp({inputs:{x:n},backend:t,attrs:{dtype:"float32"}}),f=ba({inputs:{real:p,imag:l},backend:t});return t.disposeIntermediateTensorInfo(l),t.disposeIntermediateTensorInfo(p),f}if(n.dtype==="complex64"){let l=SE({inputs:{input:n},backend:t}),p=jp({inputs:{x:l},backend:t,attrs:{dtype:s}});return t.disposeIntermediateTensorInfo(l),p}if(!I.hasEncodingLoss(n.dtype,s)){let l=G1({inputs:{x:n},backend:t});return{dataId:l.dataId,shape:l.shape,dtype:s}}let i=t.data.get(n.dataId).values,[a,u,c]=z1(i,n.shape,n.dtype,s);return t.makeTensorInfo(a,u,c)}function je(r,e,t,o){return t==null?({inputs:n,backend:s})=>{let{a:i,b:a}=n,u=s;Sd([i,a],r);let c=u.data.get(i.dataId).values,l=u.data.get(a.dataId).values,p=i.dtype==="string"?O.fromUint8ToStringArray(c):c,f=i.dtype==="string"?O.fromUint8ToStringArray(l):l,d=o||i.dtype,[h,x]=e(i.shape,a.shape,p,f,d);return u.makeTensorInfo(x,d,h)}:({inputs:n,backend:s})=>{let{a:i,b:a}=n,u=s;if(i.dtype==="complex64"||a.dtype==="complex64"){let c=jp({inputs:{x:i},backend:u,attrs:{dtype:"complex64"}}),l=u.data.get(c.dataId),p=l.complexTensorInfos.real,f=l.complexTensorInfos.imag,d=u.data.get(p.dataId).values,h=u.data.get(f.dataId).values,x=jp({inputs:{x:a},backend:u,attrs:{dtype:"complex64"}}),g=u.data.get(x.dataId),b=g.complexTensorInfos.real,C=g.complexTensorInfos.imag,k=u.data.get(b.dataId).values,A=u.data.get(C.dataId).values,[D,L,M]=t(i.shape,a.shape,d,h,k,A),V=u.makeTensorInfo(M,"float32",D),z=u.makeTensorInfo(M,"float32",L),W=ba({inputs:{real:V,imag:z},backend:u});return u.disposeIntermediateTensorInfo(c),u.disposeIntermediateTensorInfo(x),u.disposeIntermediateTensorInfo(V),u.disposeIntermediateTensorInfo(z),W}else{let c=u.data.get(i.dataId).values,l=u.data.get(a.dataId).values,p=o||i.dtype,[f,d]=e(i.shape,a.shape,c,l,p);return u.makeTensorInfo(d,p,f)}}}function va(r){return(e,t,o,n,s,i)=>{let a=O.assertAndGetBroadcastShape(e,t),u=I.sizeFromShape(a),c=a.length,l=I.computeStrides(a),p=I.getTypedArrayFromDType("float32",u),f=I.getTypedArrayFromDType("float32",u),d=O.getBroadcastDims(e,a),h=O.getBroadcastDims(t,a),x=O.mergeRealAndImagArrays(o,n),g=O.mergeRealAndImagArrays(s,i),b=e.length,C=I.computeStrides(e),k=t.length,A=I.computeStrides(t);if(d.length+h.length===0)for(let D=0;D<p.length;D++){let L=D%x.length,M=D%g.length,V=r(x[L*2],x[L*2+1],g[M*2],g[M*2+1]);p[D]=V.real,f[D]=V.imag}else for(let D=0;D<p.length;D++){let L=I.indexToLoc(D,c,l),M=L.slice(-b);d.forEach(X=>M[X]=0);let V=I.locToIndex(M,b,C),z=L.slice(-k);h.forEach(X=>z[X]=0);let W=I.locToIndex(z,k,A),H=r(x[V*2],x[V*2+1],g[W*2],g[W*2+1]);p[D]=H.real,f[D]=H.imag}return[p,f,a]}}var W1=Ge((r,e)=>r+e),kU=va((r,e,t,o)=>({real:r+t,imag:e+o})),LOe=je(Wo,W1,kU);function TE(r,e,t,o,n){let s=I.sizeFromShape(o),i=I.makeZerosTypedArray(n,t);for(let a=0;a<r.length;a++){let u=r[a];if(u<0)throw new Error("Input x must be non-negative!");u>=n||(s>0?i[u]+=e[a]:i[u]+=1)}return i}function CE(r,e,t,o=!1){let n=r.shape[0],s=r.shape[1],i=xe([n,t],e.dtype);for(let a=0;a<n;a++)for(let u=0;u<s;u++){let c=r.get(a,u);if(c<0)throw new Error("Input x must be non-negative!");c>=t||(o?i.set(1,a,c):e.size>0?i.set(i.get(a,c)+e.get(a,u),a,c):i.set(i.get(a,c)+1,a,c))}return i}var H1=Ge((r,e)=>r&e),WOe=je(is,H1);function bt(r){return(e,t,o)=>{let n=I.getArrayFromDType(t,e.length);for(let s=0;s<e.length;++s)n[s]=r(e[s],o);return n}}function Cd(r,e,t){let o=bt(e);return cr(r,o,t)}function cr(r,e,t){return({inputs:o,attrs:n,backend:s})=>{let{x:i}=o;Sd(i,r);let a=s,u=a.data.get(i.dataId).values,c;if(i.dtype==="string"){if(!Array.isArray(u))throw new Error("String tensor's value was not an instance of Array");c=O.fromUint8ToStringArray(u)}else c=u;let l=t||i.dtype,p=e(c,l,n);return a.makeTensorInfo(i.shape,l,p)}}var j1=bt(r=>Math.ceil(r)),tDe=cr(as,j1);function IE(r,e,t,o){let n=I.getArrayFromDType(t,I.sizeFromShape(e));if(o&&t!=="string"){let s=0;r.forEach(i=>{let a=I.sizeFromShape(i.shape);n.set(i.vals,s),s+=a})}else{let s=0;r.forEach(i=>{let a=t==="string"?O.fromUint8ToStringArray(i.vals):i.vals,u=0;for(let c=0;c<i.shape[0];++c){let l=c*e[1]+s;for(let p=0;p<i.shape[1];++p)n[l+p]=a[u++]}s+=i.shape[1]})}return n}var K1=Ge((r,e)=>r===e?1:0),uDe=je(us,K1,null,"bool");var q1=bt(r=>Math.exp(r)),mDe=cr(cs,q1,"float32");var X1=bt(r=>Math.expm1(r)),yDe=cr(ls,X1);var Y1=bt(r=>Math.floor(r)),TDe=cr(ps,Y1);var Z1=Ge((r,e)=>Math.floor(r/e)),$De=je(fs,Z1,null,"int32");function EE(r,e,t,o,n,s,i,a,u){let c=xe([o,s],t);for(let l=0;l<o;l++){let p=[],f=0;for(let d=0;d<n;d++){let h=r[l*n+d];f+=h*i[d],p.push(h)}if(f<0||f>=u/s)throw new Error(`Invalid indices: ${p} does not index into ${a}`);for(let d=0;d<s;d++)c.values[l*s+d]=e.get(...e.indexToLoc(f*s+d))}return c}function NE(r,e,t){let o=xe(t,r.dtype);for(let n=0;n<o.size;++n){let i=o.indexToLoc(n).slice(),a=i[0],u=i[2],c=e.locToIndex([a,u]);i[2]=e.values[c];let l=r.locToIndex(i);0<=l&&l<r.values.length&&(o.values[n]=r.values[l])}return o}var Q1=Ge((r,e)=>r>e?1:0),LDe=je(ms,Q1,null,"bool");var J1=Ge((r,e)=>r>=e?1:0),GDe=je(ds,J1,null,"bool");var eb=Ge((r,e)=>r<e?1:0),KDe=je(hs,eb,null,"bool");var tb=Ge((r,e)=>r<=e?1:0),QDe=je(gs,tb,null,"bool");function $E(r,e,t){let o=(e-r)/(t-1),n=I.makeZerosTypedArray(t,"float32");n[0]=r;for(let s=1;s<n.length;s++)n[s]=n[s-1]+o;return n}var rb=bt(r=>Math.log(r)),sFe=cr(xs,rb);function kE(r,e,t,o){let n=I.getTypedArrayFromDType(o,I.sizeFromShape(t));for(let s=0;s<n.length;++s){let i=s*e,a=r[i];for(let u=0;u<e;++u){let c=r[i+u];(Number.isNaN(c)||c>a)&&(a=c)}n[s]=a}return n}var ob=Ge((r,e)=>Math.max(r,e)),fFe=je(ys,ob);var nb=Ge((r,e)=>Math.min(r,e)),xFe=je(bs,nb);var Kp=Ge((r,e)=>r*e),AU=va((r,e,t,o)=>({real:r*t-e*o,imag:r*o+e*t})),SFe=je(vs,Kp,AU);function AE(r,e,t){let o=I.createScalarValue(-1,t);return Kp([],e,o,r,t)}var sb=Ge((r,e)=>r!==e?1:0),AFe=je(ws,sb,null,"bool");function RE(r,e,t,o,n){let s=e.length,i=I.sizeFromShape(e),a=I.computeStrides(e),u=I.computeStrides(n),c=I.getTypedArrayFromDType(t,I.sizeFromShape(n));for(let l=0;l<i;++l){let p=I.indexToLoc(l,s,a),f=new Array(p.length);for(let h=0;h<f.length;h++)f[h]=p[o[h]];let d=I.locToIndex(f,s,u);c[d]=r[l]}return c}function _E(r,e,t,o){let[n,s]=O.computeOutAndReduceShapes(r,o),i=kt(e,"int32"),a=I.makeZerosTypedArray(I.sizeFromShape(n),i),u=I.sizeFromShape(s);for(let c=0;c<a.length;++c){let l=c*u,p=1;for(let f=0;f<u;++f)p*=t[l+f];a[c]=p}return{outVals:a,outShape:n,outDtype:i}}function RU(r,e,t){r.forEach((o,n)=>{if(o<0||o>=t){let s=I.indexToLoc(n,e.length,I.computeStrides(e)).join(",");throw new Error(`indices[${s}] = ${o} is not in [0, ${t})`)}})}function _U(r,e){for(let t=0;t<r.length;++t){let o=r[t],n=t===r.length-1?e:r[t+1].length;if(o.length===0)throw new Error("Ragged splits may not be empty");if(o[0]<0)throw new Error("Ragged splits must be non-negative");if(o[o.length-1]>n)throw new Error("Ragged splits must not point past values");for(let s=1;s<o.length;++s)if(o[s-1]>o[s])throw new Error("Ragged splits must be sorted in ascending order")}}function OU(r,e,t,o){let n=[],s=0,i=e.length-1+t.length,a=new Array(i).fill(null).map(()=>[0]);_U(t,o);let u=1;for(let c=0;c<e.length-1;++c){u*=e[c];let l=e[c+1];for(let p=1;p<u+1;++p)a[c].push(p*l)}for(let c=0;c<r.length;++c){let l=r[c],p=r[c]+1;for(let f=0;f<t.length;++f){let d=t[f],h=f+e.length-1;if(h>=0){let x=a[h],g=x[x.length-1]-d[l];for(let b=l;b<p;++b)a[h].push(d[b+1]+g)}l=d[l],p=d[p]}p!==l&&(n.push([l,p]),s+=p-l)}return{outSplits:a,valueSlices:n,numValues:s}}function DU(r){let e=[];for(let t=0;t<r.length;++t){let o=r[t].length,n=I.getArrayFromDType("int32",o);e.push(n),r[t].forEach((s,i)=>n[i]=s)}return e}function OE(r,e){let t=r.slice(0,e);for(;t.length<e;)t.push(1);for(let o=e;o<r.length;o++)t[e-1]*=r[o];return t}function FU(r,e,t,o,n,s){let i=OE(e,2)[1],a=OE(s,2)[1],u=0;for(let c of t)for(let l=c[0];l<c[1];++l){for(let p=0;p<o;++p)n[u*a+p]=r[l*i+p];++u}}function PU(r,e,t,o,n){let s=e.slice();s[0]=n;let i=I.getArrayFromDType(t,I.sizeFromShape(s)),a=r.length,u=a===0?0:a/e[0];return FU(r,e,o,u,i,s),[i,s]}function DE(r,e,t,o,n,s,i,a){if(r.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");let u=e[0][0]-1;if(RU(s,i,u),o.length===0)throw new Error("params.rank must be nonzero");let c=o[0],{outSplits:l,valueSlices:p,numValues:f}=OU(s,i,r,c),d=DU(l),h=PU(t,o,n,p,f);return[d,h[0],h[1]]}var FE=2147483647;function PE(r,e,t,o,n,s,i){if(e.length>1)throw new Error("starts must be a scalar or vector");if(n.length>1)throw new Error("limits must be a scalar or vector");if(i.length>1)throw new Error("deltas must be a scalar or vector");let a=e.length===0,u=n.length===0,c=i.length===0,l=[];a||l.push(e[0]),u||l.push(n[0]),c||l.push(i[0]);for(let g=1;g<l.length;++g)if(l[g]!==l[g-1])throw new Error("starts, limits, and deltas must have the same shape");let p=l.length===0?1:l[0],f=I.getArrayFromDType("int32",p+1);f[0]=0;for(let g=0;g<p;++g){let b=a?r[0]:r[g],C=u?o[0]:o[g],k=c?s[0]:s[g];if(k===0)throw new Error("Requires delta != 0");let A;if(k>0&&C<b||k<0&&C>b)A=0;else if(A=Math.ceil(Math.abs((C-b)/k)),A>FE)throw new Error(`Requires ((limit - start) / delta) <= ${FE}`);f[g+1]=f[g]+A}let d=f[p],h=I.getArrayFromDType(t,d),x=0;for(let g=0;g<p;++g){let b=f[g+1]-f[g],C=a?r[0]:r[g],k=c?s[0]:s[g];for(let A=0;A<b;++A)h[x++]=C,C+=k}return[f,h]}var Hr=O.RowPartitionType,ib=class r{constructor(e,t,o,n,s,i,a,u,c,l){this.shape=e,this.shapeShape=t,this.values=o,this.valuesShape=n,this.valuesDType=s,this.defaultValue=i,this.defaultValueShape=a,this.rowPartitionValues=u,this.rowPartitionValuesShapes=c,this.rowPartitionTypes=O.getRowPartitionTypesHelper(l),this.raggedRank=O.getRaggedRank(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Hr.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Hr.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){let t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Hr.VALUE_ROWIDS:return r.getMaxWidthValueRowID(t);case Hr.ROW_SPLITS:return r.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${Hr[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){let t=e.length;if(t===0||t===1)return 0;let o=0;for(let n=0;n<t-1;++n){let s=e[n+1]-e[n];s>o&&(o=s)}return o}static getMaxWidthValueRowID(e){let t=e.length;if(t===0)return 0;let o=0,n=e[0],s=0;for(let i=1;i<t;++i){let a=e[i];a!==n&&(n=a,s=Math.max(i-o,s),o=i)}return Math.max(t-o,s)}tensorShapeFromTensor(e,t,o=!0){if(t.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return BE(e,o)}calculateOutputSize(e){let t=this.valuesShape,o=this.defaultValueShape;O.validateDefaultValueShape(o,t);let n=this.tensorShapeFromTensor(this.shape,this.shapeShape),i=O.combineRaggedTensorToTensorShapes(this.raggedRank,n,t);i[0]<0&&(i[0]=e);for(let a=1;a<=this.raggedRank;++a)i[a]<0&&(i[a]=this.getMaxWidth(a));return i}calculateFirstParentOutputIndex(e,t,o){let n=Math.min(e,o),s=[],i=0;for(let a=0;a<n;++a,i+=t)s.push(i);for(let a=n;a<e;++a)s.push(-1);return I.assert(s.length===e,()=>"Final length of result must be equal to firstDimension."),s}calculateOutputIndexRowSplit(e,t,o,n){let s=e.length,i=[];for(let a=0;a<s-1;++a){let u=e[a+1]-e[a],c=Math.min(n,u),l=t[a];l===-1&&(c=0);for(let p=0;p<c;++p)i.push(l),l+=o;for(let p=0;p<u-c;++p)i.push(-1)}if(s>0&&i.length!==e[s-1])throw new Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(e,t,o,n){let s=e.length,i=[];if(s===0)return[];let a=0,u=e[0];if(u>=t.length)throw new Error(`Got currentValueRowId=${u}, which is not less than ${t.length}`);let c=t[u];i.push(c);for(let l=1;l<s;++l){let p=e[l];if(p===u)c>=0&&(++a,a<n?c+=o:c=-1);else{if(a=0,u=p,p>=t.length)throw new Error(`Got nextValueRowId=${p} which is not less than ${t.length}`);c=t[p]}i.push(c)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}calculateOutputIndex(e,t,o,n){let s=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case Hr.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(s,t,o,n);case Hr.ROW_SPLITS:if(s.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${s.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(s,t,o,n);default:throw new Error(`Unsupported partition type: ${Hr[i]}`)}}getFirstDimensionSize(){let e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");let t=this.rowPartitionTypes[0];switch(t){case Hr.FIRST_DIM_SIZE:return e[0];case Hr.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Hr.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Hr[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");let t=this.getFirstDimensionSize(),o=this.calculateOutputSize(t),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let u=n.length-2;u>=0;--u)n[u]=n[u+1]*o[u+1];let s=BE(o,!1),i=I.getArrayFromDType(this.valuesDType,I.sizeFromShape(s));if(n[0]*o[0]>0){let u=this.calculateFirstParentOutputIndex(t,n[0],o[0]);for(let c=1;c<=this.raggedRank;++c)u=this.calculateOutputIndex(c-1,u,n[c],o[c]);this.setOutput(this.raggedRank,u,i,s)}return[s,i]}setOutput(e,t,o,n){if(o.length===0)return;let s=this.values,i=o,a=n.slice();a=a.slice(e+1);let u=I.sizeFromShape(a),c=t.length,l=this.defaultValue;if(l.length!==u&&l.length!==1){let h=this.defaultValueShape;te(()=>{let x=U(l,h);l=Yo(x,a).dataSync()})}let p=0,f=0,d=0;for(let h=0;h<=c;++h){let x=h<c?t[h]:-1;if(x===d){++d;continue}if(f<d){let g=s.subarray(p*u),b=i.subarray(f*u),C=(d-f)*u;LE(b,g,C)}if(h>=c){let g=o.length;x=Math.floor(g/u)}if(x>d)if(this.defaultValue.length===1)i.subarray(d*u,x*u).fill(this.defaultValue[0]),d=x;else for(;x>d;){let g=i.slice(d*u);LE(g,l,u),++d}x<0?(p=h+1,f=d):(p=h,f=d,d=f+1)}}};function LE(r,e,t){for(let o=0;o<t;o++)r[o]=e[o]}function BE(r,e){let t=[];for(let o of r){if(o<0){if(!e)throw new Error(`Dimension ${o} must be >= 0`);if(o<-1)throw new Error(`Dimension ${o} must be >= -1`);o=-1}t.push(o)}return t}function ME(r,e,t,o,n,s,i,a,u,c){return new ib(r,e,t,o,n,s,i,a,u,c).compute()}function VE(r,e,t,o){let n=r===e,s=r<e&&t<0,i=e<r&&t>1;if(n||s||i)return I.makeZerosTypedArray(0,o);let a=Math.abs(Math.ceil((e-r)/t)),u=I.makeZerosTypedArray(a,o);e<r&&t===1&&(t=-1),u[0]=r;for(let c=1;c<u.length;c++)u[c]=u[c-1]+t;return u}var ab=bt(r=>1/Math.sqrt(r)),KFe=cr(Ss,ab);function UE(r,e,t,o,n,s,i,a,u,c){let l=[o/n,n],p=r.values,f=e.values;if(o===0)return xe(t,e.dtype);let d=u instanceof Sr?u:xe(l,e.dtype);typeof u=="string"||typeof u=="number"?d.values.fill(u):typeof u=="boolean"&&d.values.fill(+u);for(let h=0;h<s;h++){let x=[],g=0;for(let b=0;b<i;b++){let C=p[h*i+b];x.push(C),g+=C*a[b]}if(g<0||g>=o/n)throw new Error(`Invalid indices: ${x} does not index into ${t}`);for(let b=0;b<n;b++)c?d.values[g*n+b]+=f[h*n+b]:d.values[g*n+b]=e.rank===0?f[0]:f[h*n+b]}return d}var GE=bt(r=>1/(1+Math.exp(-r))),e3e=Cd(Ts,r=>1/(1+Math.exp(-r)));function zE(r,e,t,o,n){let s=Yt.isSliceContinous(o,e,t),i=I.sizeFromShape(t),a=I.computeStrides(o);if(s){let p=Yt.computeFlatOffset(e,a);return n==="string"?r.slice(p,p+i):r.subarray(p,p+i)}let u=n==="string"?O.fromUint8ToStringArray(r):r,c=xe(o,n,u),l=xe(t,n);for(let p=0;p<l.size;++p){let f=l.indexToLoc(p),d=f.map((h,x)=>h+e[x]);l.set(c.get(...d),...f)}return n==="string"?O.fromStringArrayToUint8(l.values):l.values}function WE(r,e,t,o,n,s,i){let a=e[0],u=s[0],c=new Array(u),l=new Array(a),p=e[1];if(u===0){if(a!==0)throw new Error(O.getSparseFillEmptyRowsIndicesDenseShapeMismatch(a));let g=I.getArrayFromDType(t,0),b=I.getArrayFromDType(n,0);return[g,[0,p],b,c,l]}let f=!0,d=0,h=new Array(u).fill(0);for(let g=0;g<a;++g){let b=r[g*p];if(b<0)throw new Error(O.getSparseFillEmptyRowsNegativeIndexErrorMessage(g,b));if(b>=u)throw new Error(O.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(g,b,u));++h[b],f=f&&b>=d,d=b}let x=!0;for(let g=0;g<u;++g){let b=h[g]===0;c[g]=b,x=x&&!b,h[g]=Math.max(h[g],1),g>0&&(h[g]+=h[g-1])}if(x&&f){let g=r,b=o;for(let C=0;C<a;++C)l[C]=C;return[g,[a,p],b,c,l]}else{let g=h[u-1],b=I.getArrayFromDType(t,g*p),C=I.getArrayFromDType(n,g),k=new Array(u).fill(0);for(let A=0;A<a;++A){let D=r[A*p],L=k[D],M=(D===0?0:h[D-1])+L;k[D]++;for(let V=0;V<p;++V)b[M*p+V]=r[A*p+V];C[M]=o[A],l[A]=M}for(let A=0;A<u;++A)if(k[A]===0){let L=A===0?0:h[A-1];b[L*p+0]=A;for(let M=1;M<p;++M)b[L*p+M]=0;C[L]=i}return[b,[g,p],C,c,l]}}function HE(r,e,t,o,n){let s=I.sizeFromShape(o),i=e[0],a=n.length,u=[],c=1,l=-1;for(let g=0;g<a;++g){let b=n[g];if(b===-1){if(l!==-1)throw new Error(O.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(l,g));l=g,u.push(1)}else{if(b<0)throw new Error(O.getSparseReshapeNegativeOutputDimErrorMessage(g,b));c*=b,u.push(b)}}if(l!==-1){if(c<=0)throw new Error(O.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());let g=Math.trunc(s/c);if(c*g!==s)throw new Error(O.getSparseReshapeInputOutputMultipleErrorMessage(o,u));u[l]=g}if(I.sizeFromShape(u)!==s)throw new Error(O.getSparseReshapeInputOutputMismatchErrorMessage(o,u));let f=o.length,d=[];if(f>0){d[f-1]=1;for(let g=f-2;g>=0;--g)d[g]=d[g+1]*o[g+1]}let h=[];if(a>0){h[a-1]=1;for(let g=a-2;g>=0;--g)h[g]=h[g+1]*u[g+1]}let x=I.getArrayFromDType(t,i*a);for(let g=0;g<i;++g){let b=0;for(let C=0;C<f;++C)b+=r[g*f+C]*d[C];for(let C=0;C<a;++C)x[g*a+C]=Math.trunc(b/h[C]),b%=h[C]}return[x,[i,a],u]}function jE(r,e,t,o,n,s=!1,i=0){let a=o.length,u=[e[0],r.length/e[0]],c=u[1],p=a>0?n[a-1]+1:0;if(p<0)throw new Error(O.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let f=e.slice();f[0]=p;let d=f.reduce((k,A)=>k*A,1),h=I.getArrayFromDType(t,d);if(a===0)return p>0&&h.fill(i),[h,f];if(p<=0)throw new Error(O.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let x=0,g=1,b=0,C=n[x];for(;;){let k=0;if(g<a){if(k=n[g],C===k){++g;continue}if(C>=k)throw new Error(O.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(C<0||C>=p)throw new Error(O.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(C,p));C>b&&h.fill(i,b*c,C*c);for(let A=x;A<g;++A){let D=o[A];if(D<0||D>=u[0])throw new Error(O.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(A,o[A],u[0]));for(let L=0;L<c;L++)h[C*c+L]+=r[D*c+L]}if(s)for(let A=0;A<c;A++)h[C*c+A]/=g-x;if(x=g,++g,b=C+1,C=k,g>a)break}return b<p&&h.fill(i,b*c,p*c),[h,f]}var KE=bt(r=>Math.sqrt(r)),m3e=Cd(Cs,r=>Math.sqrt(r));var ub=Ge((r,e)=>{let t=r-e;return t*t}),y3e=je(Is,ub);var cb=bt((r,e)=>{let{pattern:t,replaceGlobal:o,rewrite:n}=e;return r.replace(new RegExp(t,o?"g":""),n)}),T3e=cr(Es,cb);function qE(r,e,t,o){let n=xe(r,e.dtype);for(let s=0;s<n.size;s++){let i=n.indexToLoc(s),a=new Array(i.length);for(let u=0;u<a.length;u++)a[u]=i[u]*t[u]+o[u];n.set(e.get(...a),...i)}return n}var lb=class{constructor(e,t,o,n,s,i){this.separator=I.encodeString(e),this.nGramWidths=t,this.leftPad=I.encodeString(o),this.rightPad=I.encodeString(n),this.padWidth=s,this.preserveShort=i}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){let o=this.getPadWidth(t);return Math.max(0,e+2*o-t+1)}createNGrams(e,t,o,n,s,i){for(let a=0;a<s;++a){let u=this.getPadWidth(i),c=Math.max(0,u-a),l=Math.max(0,u-(s-(a+1))),p=i-(c+l),f=t+(c>0?0:a-u),d=0;d+=c*this.leftPad.length;for(let C=0;C<p;++C)d+=e[f+C].length;d+=l*this.rightPad.length;let h=c+l+p-1;d+=h*this.separator.length,o[n+a]=new Uint8Array(d);let x=o[n+a],g=0,b=C=>C.forEach(k=>x[g++]=k);for(let C=0;C<c;++C)b(this.leftPad),b(this.separator);for(let C=0;C<p-1;++C)b(e[f+C]),b(this.separator);if(p>0){b(e[f+p-1]);for(let C=0;C<l;++C)b(this.separator),b(this.rightPad)}else{for(let C=0;C<l-1;++C)b(this.rightPad),b(this.separator);b(this.rightPad)}}}compute(e,t){let o=e.length,n=t.length;if(n>0){let u=t[0];if(u!==0)throw new Error(`First split value must be 0, got ${u}`);for(let c=1;c<n;++c){let l=t[c]>=u;if(l=l&&t[c]<=o,!l)throw new Error(`Invalid split value ${t[c]}, must be in [${u}, ${o}]`);u=t[c]}if(u!==o)throw new Error(`Last split value must be data size. Expected ${o}, got ${u}`)}let s=n-1,i=I.getArrayFromDType("int32",n);if(o===0||n===0){let u=new Array(o);for(let c=0;c<=s;++c)i[c]=0;return[u,i]}i[0]=0;for(let u=1;u<=s;++u){let c=t[u]-t[u-1],l=0;this.nGramWidths.forEach(p=>{l+=this.getNumNGrams(c,p)}),this.preserveShort&&c>0&&l===0&&(l=1),i[u]=i[u-1]+l}let a=new Array(i[s]);for(let u=0;u<s;++u){let c=t[u],l=i[u];if(this.nGramWidths.forEach(p=>{let f=t[u+1]-t[u],d=this.getNumNGrams(f,p);this.createNGrams(e,c,a,l,d,p),l+=d}),this.preserveShort&&l===i[u]){let p=t[u+1]-t[u];if(p===0)continue;let f=p+2*this.padWidth;this.createNGrams(e,c,a,l,1,f)}}return[a,i]}};function XE(r,e,t,o,n,s,i,a){return new lb(t,o,n,s,i,a).compute(r,e)}function LU(r,e,t,o){if(!r.length)return;if(e.length===0){for(let s=0;s<r.length;++s)o.push(r.subarray(s,s+1));return}if(e.length===1){let s=e[0],i=r.indexOf(s);for(;i!==-1;){let a=r.subarray(0,i);(!t||a.length!==0)&&o.push(a),r=r.subarray(i+1),i=r.indexOf(s)}(!t||r.length!==0)&&o.push(r);return}let n=0;for(let s=0;s<r.length+1;s++)if(s===r.length||e.indexOf(r[s])!==-1){let i=r.subarray(n,s);(!t||i.length!==0)&&o.push(i),n=s+1}}function YE(r,e,t){let o=r.length,n=[],s=0,i=0,a=new Array(o);for(let f=0;f<o;++f){let d=n.length;LU(r[f],e,t,n);let h=n.length-d;a[f]=h,s+=h,i=Math.max(i,h)}let u=I.getArrayFromDType("int32",s*2),c=new Array(s),l=[o,i],p=0;for(let f=0;f<o;++f)for(let d=0;d<a[f];++d)u[p*2]=f,u[p*2+1]=d,c[p]=n[p],++p;return[u,c,l]}function ZE(r,e){let t=I.getArrayFromDType("int32",r.length);for(let o=0;o<r.length;++o)t[o]=I.fingerPrint64(r[o]).modulo(e).getLowBitsUnsigned();return t}var pb=Ge((r,e)=>r-e),BU=va((r,e,t,o)=>({real:r-t,imag:e-o})),P3e=je(Ns,pb,BU);function QE(r,e){let t=new Array(r.rank);for(let n=0;n<t.length;n++)t[n]=r.shape[n]*e[n];let o=xe(t,r.dtype);for(let n=0;n<o.values.length;++n){let s=o.indexToLoc(n),i=new Array(r.rank);for(let u=0;u<i.length;u++)i[u]=s[u]%r.shape[u];let a=r.locToIndex(i);o.values[n]=r.values[a]}return o}var qp=(r,e)=>{let t=e.value-r.value;return t===0?r.index-e.index:t};function JE(r,e,t=0,o=r.length-1){for(;o>t;){if(o-t>600){let a=o-t+1,u=e-t+1,c=Math.log(a),l=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*l*(a-l)/a)*Math.sign(u-a/2),f=Math.max(t,Math.floor(e-u*l/a+p)),d=Math.min(o,Math.floor(e+(a-u)*l/a+p));JE(r,e,f,d)}let n=r[e],s=t,i=o;for(I.swap(r,t,e),qp(r[o],n)>0&&I.swap(r,t,o);s<i;){for(I.swap(r,s,i),s++,i--;qp(r[s],n)<0;)s=s+1;for(;qp(r[i],n)>0;)i=i-1}qp(r[t],n)===0?I.swap(r,t,i):(i=i+1,I.swap(r,i,o)),i<=e&&(t=i+1),e<=i&&(o=i-1)}}function eN(r,e,t,o,n){let s=e[e.length-1],[i,a]=[r.length/s,s],u=I.getTypedArrayFromDType(t,i*o),c=I.getTypedArrayFromDType("int32",i*o);for(let p=0;p<i;p++){let f=p*a,d=r.subarray(f,f+a),h=new Array(d.length);d.forEach((C,k)=>h[k]={value:C,index:k}),o<h.length&&(JE(h,o),h=h.slice(0,o)),n&&h.sort(qp);let x=p*o,g=u.subarray(x,x+o),b=c.subarray(x,x+o);for(let C=0;C<o;C++)g[C]=h[C].value,b[C]=h[C].index}let l=e.slice();return l[l.length-1]=o,[xe(l,t,u),xe(l,"int32",c)]}function tN(r,e,t,o){let n=I.parseAxisParam(e,t)[0],s=[1,t[0],1];for(let h=0;h<n;h++)s[0]*=t[h];s[1]=t[n];for(let h=n+1;h<t.length;h++)s[2]*=t[h];let i=new Map,a=new Int32Array(t[n]),u=new Sr(s,o,r),c=[],l=s[0]===1&&s[2]===1;for(let h=0;h<t[n];h++){let x;if(l)x=r[h].toString();else{let b=[];for(let C=0;C<s[0];C++)for(let k=0;k<s[2];k++)b.push(u.get(C,h,k));x=b.join(",")}let g=i.get(x);if(g!=null)a[h]=g;else{let b=i.size;i.set(x,b),a[h]=b,c.push(h)}}let p=s.slice();p[1]=i.size;let f=new Sr(p,o);c.forEach((h,x)=>{for(let g=0;g<s[0];g++)for(let b=0;b<s[2];b++)f.set(u.get(g,h,b),g,x,b)});let d=t.slice();return d[n]=p[1],{outputValues:f.values,outputShape:d,indices:a}}var{addImpl:rN,bincountImpl:Id,bincountReduceImpl:oN,bitwiseAndImpl:nN,castImpl:sN,ceilImpl:iN,concatImpl:aN,equalImpl:uN,expImpl:cN,expm1Impl:lN,floorImpl:pN,gatherNdImpl:fN,gatherV2Impl:mN,greaterImpl:dN,greaterEqualImpl:hN,lessImpl:gN,lessEqualImpl:xN,linSpaceImpl:yN,logImpl:bN,maxImpl:vN,maximumImpl:wN,minimumImpl:SN,multiplyImpl:TN,negImpl:CN,notEqualImpl:IN,prodImpl:EN,raggedGatherImpl:NN,raggedRangeImpl:$N,raggedTensorToTensorImpl:kN,rangeImpl:AN,rsqrtImpl:RN,scatterImpl:_N,sigmoidImpl:ON,simpleAbsImpl:Ed,sliceImpl:DN,sparseFillEmptyRowsImpl:FN,sparseReshapeImpl:PN,sparseSegmentReductionImpl:Nd,sqrtImpl:LN,staticRegexReplaceImpl:BN,stridedSliceImpl:MN,stringNGramsImpl:VN,stringSplitImpl:UN,stringToHashBucketFastImpl:GN,subImpl:zN,tileImpl:WN,topKImpl:HN,transposeImpl:oi,uniqueImpl:jN}=fb;function mb(r,e){return["x","y","z","w","u","v"].slice(0,e).map(t=>`${r}.${t}`)}function nt(r,e){return e===1?[r]:mb(r,e)}function KN(r,e){if(r===1)return"rc";let t="";for(let o=0;o<r;o++)t+=e[o],o<r-1&&(t+=",");return t}var $d=class{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Pe(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{let t=nt("rc",this.rank),o=pe(this.rank),n=this.getOutOfBoundsCondition(t),s=this.getSetup(t),i=this.getOutput(t);this.userCode=`
        void main() {
          ${o} rc = getOutputCoords();

          if(${n}) {
            setOutput(vec4(0));
          } else {
            ${s}

            setOutput(vec4(${i}));
          }
        }
      `}}getSourceCoordsArr(e){let t=[];for(let o=0;o<=1;o++)for(let n=0;n<=1;n++){let s=`${o===0?"r":"rp1"}, ${n===0?"c":"cp1"}`;for(let i=2;i<this.rank;i++)s=`${e[e.length-1-i]},`+s;t.push(s)}return t}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let o=this.rank-2;o<this.rank;o++)t+=`${e[o]} >= ${this.enableShapeUniforms?`outShape[${o}]`:this.outputShape[o]}`,o<this.rank-1&&(t+="||");return t}getSetup(e){if(this.rank===1)return"";let t=e.slice(-2),o=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],n=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${t[0]};
      int c = ${t[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${o};
      bool rEdge = rp1 >= ${n};
    `}getOutput(e){let t=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${t[0]}),
            cEdge ? 0. : getA(${t[1]}),
            rEdge ? 0. : getA(${t[2]}),
            rEdge || cEdge ? 0. : getA(${t[3]})`}};var wa=class{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Pe(this.outputShape.length);let o="";for(let n=0;n<4;n++){let s="thisRC = rc;";n%2===1&&(s+="thisRC.z += 1;"),n>1&&(s+="thisRC.y += 1;"),o+=`
        ${s}
        ${n>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${n}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${n>0?"}":""}
      `}this.userCode=`
      ${MU(t,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?fa():pa(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${o}

        setOutput(result);
      }
    `}};function MU(r,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?YI(["r","c","d"],"inputShape"):lo(["r","c","d"],r)}
      return ivec3(r, c, d);
    }
  `}var kd=class{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,o){let n=XN(t,o),s=YN(e,n,o);s in this.freeTextures||(this.freeTextures[s]=[]),s in this.usedTextures||(this.usedTextures[s]=[]);let i=qN(e,n,this.gpgpu.gl,this.gpgpu.textureConfig,o);if(this.freeTextures[s].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();let u=this.freeTextures[s].pop();return this.usedTextures[s].push(u),u}let a;return n===It.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):n===It.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):n===It.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):n===It.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):n===It.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[s].push(a),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),a}releaseTexture(e,t,o,n){if(this.freeTextures==null)return;let s=XN(o,n),i=YN(t,s,n);i in this.freeTextures||(this.freeTextures[i]=[]);let a=qN(t,s,this.gpgpu.gl,this.gpgpu.textureConfig,n),u=P().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");u!==-1&&this._numBytesAllocated>u?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;let c=this.usedTextures[i],l=c&&c.indexOf(e);if(l==null||l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c[l]=c[c.length-1],c.pop(),this.log()}log(){if(!this.logEnabled)return;let e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);let t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(let e in this.freeTextures)this.freeTextures[e].forEach(t=>{this.gpgpu.deleteMatrixTexture(t.texture)});for(let e in this.usedTextures)this.usedTextures[e].forEach(t=>{this.gpgpu.deleteMatrixTexture(t.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}};function VU(r,e){let t=r;if(e===t.R32F)return 4;if(e===t.R16F)return 2;if(e===t.RGBA32F)return 16;if(e===r.RGBA)return 16;if(e===t.RGBA16F)return 8;if(e===t.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function qN(r,e,t,o,n){let s=UU(e,o),i;if(n){let[u,c]=Po(r[0],r[1]);i=u*c}else{let[u,c]=Js(r[0],r[1]);i=u*c}let a=VU(t,s);return i*a}function UU(r,e){switch(r){case It.PACKED_2X2_FLOAT32:return V1(e);case It.PACKED_2X2_FLOAT16:return U1(e);case It.UNPACKED_FLOAT32:return L1(e);case It.UNPACKED_FLOAT16:return B1(e);case It.PACKED_4X1_UNSIGNED_BYTE:return M1(e);default:throw new Error(`Unknown physical texture type ${r}`)}}function GU(r){return P().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?r?It.PACKED_2X2_FLOAT32:It.UNPACKED_FLOAT32:r?It.PACKED_2X2_FLOAT16:It.UNPACKED_FLOAT16}function XN(r,e){if(r===Ot.UPLOAD)return It.PACKED_2X2_FLOAT32;if(r===Ot.RENDER||r==null)return GU(e);if(r===Ot.DOWNLOAD||r===Ot.PIXELS)return It.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${r}`)}function YN(r,e,t){return`${r[0]}_${r[1]}_${e}_${t}`}var Et=class{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Pe(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${t}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}},pt="if (isnan(x)) return x;",ZN="return x;",db="return abs(x);";var QN="return (x >= 0.0) ? x : (exp(x) - 1.0);",JN=pt+`
  return (x < 0.0) ? 0.0 : x;
`,e$=pt+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Bo="return x;",t$="return 1.0 / (1.0 + exp(-1.0 * x));";var o$="return x;",n$=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,s$=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,i$=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,a$="return 1.0 / (1.0 + exp(-1.0 * x));",lr=class{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Pe(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${t}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}};var Ad=class{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Pe(this.outputShape.length);let t=e.length,o=nt("rc",t),n=pe(t),s=KN(t,o),i=o.slice(-2),a=t<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`
      void main() {
        ${n} rc = getOutputCoords();
        vec4 packedInput = getA(${s});

        setOutput(getChannel(packedInput, ${a}));
      }
    `}};var WU=io.whereImpl,HU=1e-7,jU=1e-4,Rd={};function KU(r){return r in Rd||(Rd[r]={}),Rd[r]}var qU=P().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),XU=600;function YU(){return P().global.screen==null?1024:P().global.screen.height*P().global.screen.width*window.devicePixelRatio*XU/1024/1024}var Xp=class r extends mn{nextDataId(){return r.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!P().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(e!=null){if(e instanceof ya)t=e;else{let o=Nr(P().getNumber("WEBGL_VERSION"),e);t=new ya(o)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{let o=Nr(P().getNumber("WEBGL_VERSION"));t=new ya(o),this.binaryCache=KU(P().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new kd(this.gpgpu),this.numMBBeforeWarning=YU(),this.texData=new Ci(this,Or())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,o,n,s,i){let a=this.makeTensorInfo(t,o),u=this.texData.get(a.dataId);u.isPacked=!1,u.texture={texture:e,texShape:[n,s]},u.texShape=[n,s];let c=zp(t),l=new Wp(c,!1,i),p=this.runWebGLProgram(l,[a],o,[[n,s]]);return p.shape=t,u.texture=null,this.disposeIntermediateTensorInfo(a),p.dataId}write(e,t,o){if((P().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||P().getBool("DEBUG"))&&this.checkNumericalProblems(e),o==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");let n={id:this.nextDataId()};return this.texData.set(n,{shape:t,dtype:o,values:e,usage:Ot.UPLOAD,refCount:1}),n}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){let t=this.texData.get(e);t.refCount++}decRef(e){if(this.texData.has(e)){let t=this.texData.get(e);t.refCount--}}move(e,t,o,n,s){if(P().getBool("DEBUG")&&this.checkNumericalProblems(t),n==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:o,dtype:n,values:t,usage:Ot.UPLOAD,refCount:s})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){let t=this.texData.get(e),{values:o,dtype:n,complexTensorInfos:s,slice:i,shape:a,isPacked:u}=t;if(i!=null){let f;u?f=new lr(a,Bo):f=new Et(a,Bo);let d=this.runWebGLProgram(f,[{dataId:e,shape:a,dtype:n}],n),h=this.readSync(d.dataId);return this.disposeIntermediateTensorInfo(d),h}if(o!=null)return this.convertAndCacheOnCPU(e);if(n==="string")return o;let c=this.activeTimers!=null,l;c&&(l=I.now());let p;if(n==="complex64"){let f=this.readSync(s.real.dataId),d=this.readSync(s.imag.dataId);p=O.mergeRealAndImagArrays(f,d)}else p=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=I.now()-l),this.convertAndCacheOnCPU(e,p)}async read(e){if(this.pendingRead.has(e)){let h=this.pendingRead.get(e);return new Promise(x=>h.push(x))}let t=this.texData.get(e),{values:o,shape:n,slice:s,dtype:i,complexTensorInfos:a,isPacked:u}=t;if(s!=null){let h;u?h=new lr(n,Bo):h=new Et(n,Bo);let x=this.runWebGLProgram(h,[{dataId:e,shape:n,dtype:i}],i),g=this.read(x.dataId);return this.disposeIntermediateTensorInfo(x),g}if(o!=null)return this.convertAndCacheOnCPU(e);if(P().getBool("DEBUG")&&!P().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&P().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c=null,l;if(i!=="complex64"&&P().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);let h=this.texData.get(l.dataId);c=this.gpgpu.createBufferFromTexture(h.texture.texture,...Mp(n))}this.pendingRead.set(e,[]),i!=="complex64"&&await this.gpgpu.createAndWaitForFence();let p;if(i==="complex64"){let h=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]),x=h[0],g=h[1];p=O.mergeRealAndImagArrays(x,g)}else if(c==null)p=this.getValuesFromTexture(e);else{let h=I.sizeFromShape(n);p=this.gpgpu.downloadFloat32MatrixFromBuffer(c,h)}if(l!=null&&this.disposeIntermediateTensorInfo(l),c!=null){let h=this.gpgpu.gl;Q(h,()=>h.deleteBuffer(c))}let f=this.convertAndCacheOnCPU(e,p),d=this.pendingRead.get(e);return this.pendingRead.delete(e),d.forEach(h=>h(f)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Or().removeDataId(e,this),this.pendingDeletes--),f}readToGPU(e,t={}){let o=this.texData.get(e),{values:n,shape:s,slice:i,dtype:a,isPacked:u,texture:c}=o;if(a==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(i!=null){let d;u?d=new lr(s,Bo):d=new Et(s,Bo);let h=this.runWebGLProgram(d,[{dataId:e,shape:s,dtype:a}],a),x=this.readToGPU(h,t);return this.disposeIntermediateTensorInfo(h),x}if(c==null)throw n!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");let l=this.decode(e,t.customTexShape),p=Or().makeTensorFromTensorInfo(l),f=this.texData.get(l.dataId);return Object.assign({tensorRef:p},f.texture)}bufferSync(e){let t=this.readSync(e.dataId);if(e.dtype==="string")try{let o=t.map(n=>I.decodeString(n));return xe(e.shape,e.dtype,o)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return xe(e.shape,e.dtype,t)}checkNumericalProblems(e){if(e!=null)for(let t=0;t<e.length;t++){let o=e[t];if(!AI(o))throw P().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${o} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${o} cannot be represented on this device.`)}}getValuesFromTexture(e){let{shape:t,dtype:o,isPacked:n}=this.texData.get(e),s=I.sizeFromShape(t);if(P().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){let f=this.decode(e),d=this.texData.get(f.dataId),h=this.gpgpu.downloadMatrixFromPackedTexture(d.texture.texture,...Mp(t)).subarray(0,s);return this.disposeIntermediateTensorInfo(f),h}let i=P().getBool("WEBGL_PACK")&&n===!0,a=i?zp(t):t,u=i?new vd(a):new bd(a),c=this.runWebGLProgram(u,[{shape:a,dtype:o,dataId:e}],"float32"),l=this.texData.get(c.dataId),p=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(l.texture.texture,l.texShape[0],l.texShape[1]).subarray(0,s);return this.disposeIntermediateTensorInfo(c),p}timerAvailable(){return P().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){let t=this.activeTimers,o=[],n=!1;this.programTimersStack==null?(this.programTimersStack=o,n=!0):this.activeTimers.push(o),this.activeTimers=o,e();let s=I.flatten(this.activeTimers.map(u=>u.query)).filter(u=>u!=null),i=I.flatten(this.activeTimers.map(u=>u.name)).filter(u=>u!=null);this.activeTimers=t,n&&(this.programTimersStack=null);let a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(P().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){let u=await Promise.all(s);a.kernelMs=I.sum(u),a.getExtraProfileInfo=()=>u.map((c,l)=>({name:i[l],ms:c})).map(c=>`${c.name}: ${c.ms}`).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return P().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:I.now(),endMs:null}}endTimer(e){return P().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=I.now(),e)}async getQueryTime(e){if(P().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);let t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);let{complexTensorInfos:o}=this.texData.get(e);return o!=null&&(this.disposeData(o.real.dataId,t),this.disposeData(o.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){let{texture:t,dtype:o,texShape:n,usage:s,isPacked:i,slice:a}=this.texData.get(e),u=a&&a.origDataId||e,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),t!=null&&(this.numBytesInGPU-=this.computeBytes(n,o),this.textureManager.releaseTexture(t,n,s,i)));let l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=qU){return P().getBool("WEBGL_CPU_FORWARD")&&e.every(o=>this.texData.get(o.dataId).texture==null&&I.sizeFromShape(o.shape)<t)}getGPGPUContext(){return this.gpgpu}where(e){O.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");let t=e.dataSync();return WU(e.shape,t)}packedUnaryOp(e,t,o){let n=new lr(e.shape,t),s=this.compileAndRun(n,[e],o);return Or().makeTensorFromTensorInfo(s)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){let n=Ed(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,n)}if(P().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,db,e.dtype);let t=new Et(e.shape,db),o=this.compileAndRun(t,[e]);return Or().makeTensorFromTensorInfo(o)}makeTensorInfo(e,t,o){let n;if(t==="string"&&o!=null&&o.length>0&&I.isString(o[0])){let s=o.map(i=>I.encodeString(i));n=this.write(s,e,t)}else n=this.write(o,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}}makeOutput(e,t,o){return Or().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,o),this)}unpackTensor(e){let t=new Ad(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){let t=new $d(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){let o=[Mn(e.shape),...Vn(e.shape)],n={dtype:e.dtype,shape:o,dataId:e.dataId},s=[Mn(t),...Vn(t)],i=new wa(s,o),a=!0,u=[o],c=this.runWebGLProgram(i,[n],e.dtype,u,a);return{dataId:c.dataId,shape:t,dtype:c.dtype}}decode(e,t){let o=this.texData.get(e),{isPacked:n,shape:s,dtype:i}=o;if(t!=null){let f=I.sizeFromShape(s),d=t[0]*t[1]*4;I.assert(f<=d,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}let a=zp(s),u;n?u=new yd(a):u=new xd(a);let c=!0,l=[t??Mp(a)],p=this.runWebGLProgram(u,[{shape:a,dtype:i,dataId:e}],i,l,c,t);return{dtype:i,shape:s,dataId:p.dataId}}runWebGLProgram(e,t,o,n,s=!1,i){let a=this.makeTensorInfo(e.outputShape,o),u=this.texData.get(a.dataId);if(e.packedOutput&&(u.isPacked=!0),e.outPackingScheme===Bn.DENSE){let b=i??Mp(e.outputShape);u.texShape=b.map(C=>C*2)}if(e.outTexUsage!=null&&(u.usage=e.outTexUsage),I.sizeFromShape(a.shape)===0)return u.values=I.getTypedArrayFromDType(a.dtype,0),a;let c=[],l=t.map(b=>{if(b.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let C=this.texData.get(b.dataId);if(C.texture==null){if(!e.packedInputs&&I.sizeFromShape(b.shape)<=P().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:b.shape,texData:null,isUniform:!0,uniformValues:C.values};e.packedInputs&&(C.isPacked=!0,C.shape=b.shape)}if(this.uploadToGPU(b.dataId),!!C.isPacked!=!!e.packedInputs)b=C.isPacked?this.unpackTensor(b):this.packTensor(b),c.push(b),C=this.texData.get(b.dataId);else if(C.isPacked&&!ei(C.shape,b.shape)){let k=b,A=b.shape;b.shape=C.shape,b=this.packedReshape(b,A),c.push(b),C=this.texData.get(b.dataId),k.shape=A}return{shape:b.shape,texData:C,isUniform:!1}});this.uploadToGPU(a.dataId);let p={shape:a.shape,texData:u,isUniform:!1},f=nE(e,l,p),d=this.getAndSaveBinary(f,()=>rE(this.gpgpu,e,l,p)),h=this.activeTimers!=null,x;h&&(x=this.startTimer()),P().get("ENGINE_COMPILE_ONLY")||oE(this.gpgpu,d,l,p,n),c.forEach(b=>this.disposeIntermediateTensorInfo(b)),h&&(x=this.endTimer(x),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(x)}));let g=P().getNumber("WEBGL_FLUSH_THRESHOLD");if(g>0){let b=I.now();b-this.lastGlFlushTime>g&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=b)}if(!P().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&s===!1){let b=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),b}return a}compileAndRun(e,t,o,n,s=!1){return o=o||t[0].dtype,this.runWebGLProgram(e,t,o,n,s)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(P().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(t=>{this.gpgpu.deleteProgram(this.binaryCache[t].webGLProgram),delete this.binaryCache[t]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=te(()=>{if(!P().get("WEBGL_RENDER_FLOAT32_ENABLED")){let e=P().getBool("DEBUG");P().set("DEBUG",!1);let t=this.abs(ne(1e-8)).dataSync()[0];if(P().set("DEBUG",e),t>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?HU:jU}uploadToGPU(e){let t=this.texData.get(e),{shape:o,dtype:n,values:s,texture:i,usage:a,isPacked:u}=t;if(i!=null)return;let c=this.activeTimers!=null,l;c&&(l=I.now());let p=t.texShape;if(p==null&&(p=zI(o,u),t.texShape=p),s!=null){let f=zp(o),d,h=p[1],x=p[0],g=s instanceof Uint8Array||s instanceof Uint8ClampedArray;(u||!g)&&([h,x]=Po(p[0],p[1])),u?d=new wd(f,g):d=new Wp(f,g);let b=g?[x,h]:p,C=this.makeTensorInfo(b,n),k=this.texData.get(C.dataId);g?k.usage=Ot.PIXELS:k.usage=Ot.UPLOAD,k.texShape=b,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(C.dataId),h,x,s);let A=[[x,h]],L=this.runWebGLProgram(d,[C],n,A,!0),M=this.texData.get(L.dataId);t.texShape=M.texShape,t.isPacked=M.isPacked,t.usage=M.usage,P().get("ENGINE_COMPILE_ONLY")?this.disposeData(L.dataId):(t.texture=M.texture,t.values=null,this.texData.delete(L.dataId)),this.disposeIntermediateTensorInfo(C),c&&(this.uploadWaitMs+=I.now()-l)}else{let f=this.acquireTexture(p,a,n,u);t.texture=f}}convertAndCacheOnCPU(e,t){let o=this.texData.get(e),{dtype:n}=o;return t!=null&&(o.values=ZU(t,n)),o.values}acquireTexture(e,t,o,n){if(this.numBytesInGPU+=this.computeBytes(e,o),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){let s=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${s} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,n)}computeBytes(e,t){return e[0]*e[1]*I.bytesPerElement(t)}checkCompileCompletion(){for(let[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){let e=[];if(this.gpgpu.parallelCompilationExtension){for(let[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}else{for(let[,t]of Object.entries(this.binaryCache)){let o=new Promise(n=>{try{this.checkCompletion_(t),n(!0)}catch(s){throw s}});e.push(o)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await Rm(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(_1(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(let e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);let{variablesLocations:t,customUniformLocations:o,infLoc:n,nanLoc:s,outShapeLocation:i,outShapeStridesLocation:a,outTexShapeLocation:u}=P1(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=o,e.infLoc=n,e.nanLoc=s,e.outShapeLocation=i,e.outShapeStridesLocation=a,e.outTexShapeLocation=u}}createTensorFromGPUData(e,t,o){e.channels=e.channels||"RGBA";let{texture:n,height:s,width:i,channels:a}=e,u=Or().backend;if(!u.gpgpu.gl.isTexture(n))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");let c=u.writeTexture(n,t,o,s,i,a);return Or().makeTensorFromDataId(c,t,o,u)}};Xp.nextDataId=0;function ZU(r,e){if(e==="float32"||e==="complex64")return r;if(e==="int32"||e==="bool"){let t=e==="int32"?new Int32Array(r.length):new Uint8Array(r.length);for(let o=0;o<t.length;++o)t[o]=Math.round(r[o]);return t}else throw new Error(`Unknown dtype ${e}`)}Ho.isBrowser()&&gx("webgl",()=>new Xp,2);var Sa=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;var pr=class{constructor(e,t,o){this.variableNames=["A","B"],this.outputShape=O.assertAndGetBroadcastShape(t,o),this.enableShapeUniforms=Pe(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}};var kr=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;var $r=class{constructor(e,t,o,n=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=O.assertAndGetBroadcastShape(t,o);let s=this.outputShape.length;this.enableShapeUniforms=Pe(s);let i="";if(n)if(s===0||I.sizeFromShape(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          ${pe(s)} coords = getOutputCoords();
        `,s===1)this.enableShapeUniforms?i+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:i+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{let u=nt("coords",s);this.enableShapeUniforms?i+=`
            bool nextRowOutOfBounds =
              (${u[s-2]} + 1) >= outShape[${s} - 2];
            bool nextColOutOfBounds =
              (${u[s-1]} + 1) >= outShape[${s} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:i+=`
            bool nextRowOutOfBounds =
              (${u[s-2]} + 1) >= ${this.outputShape[s-2]};
            bool nextColOutOfBounds =
              (${u[s-1]} + 1) >= ${this.outputShape[s-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${i}

        setOutput(result);
      }
    `}};function st(r){let{inputs:e,backend:t}=r,{x:o}=e;return t.incRef(o.dataId),{dataId:o.dataId,shape:o.shape,dtype:o.dtype}}var u$={kernelName:xn,backendName:"webgl",kernelFunc:st};function fr(r){let{inputs:e,backend:t}=r,{real:o,imag:n}=e,s=t.makeTensorInfo(o.shape,"complex64"),i=t.texData.get(s.dataId),a=st({inputs:{x:o},backend:t}),u=st({inputs:{x:n},backend:t});return i.complexTensorInfos={real:a,imag:u},s}var c$={kernelName:Ri,backendName:"webgl",kernelFunc:fr};var hb="return (a < 0.) ? b * a : a;",gb=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function QU(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{alpha:s}=o,i=t.makeTensorInfo([],"float32",I.createScalarValue(s,"float32")),a=P().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $r(gb,n.shape,i.shape):new pr(hb,n.shape,i.shape),u=t.runWebGLProgram(a,[n,i],"float32");return t.disposeIntermediateTensorInfo(i),u}var l$={kernelName:vc,backendName:"webgl",kernelFunc:QU};var xb="return (a < 0.) ? b * a : a;",yb=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function JU(r){let{inputs:e,backend:t}=r,{x:o,alpha:n}=e,s=P().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $r(yb,o.shape,n.shape):new pr(xb,o.shape,n.shape);return t.runWebGLProgram(s,[o,n],"float32")}var p$={kernelName:Wc,backendName:"webgl",kernelFunc:JU};var jr="if (isnan(x)) return x;";function re({opSnippet:r,packedOpSnippet:e,cpuKernelImpl:t,dtype:o}){return({inputs:n,backend:s})=>{let{x:i}=n,a=s,u=o||i.dtype;if(a.shouldExecuteOnCPU([i])&&t!=null){let p=a.texData.get(i.dataId),f=t(p.values,u);return a.makeTensorInfo(i.shape,u,f)}let c=P().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null,l;return c?l=new lr(i.shape,e):l=new Et(i.shape,r),a.runWebGLProgram(l,[i],u)}}function Fe({opSnippet:r,packedOpSnippet:e,checkOutOfBounds:t=!1,supportsComplex:o=!1,cpuKernelImpl:n,dtype:s}){return({inputs:i,backend:a})=>{let{a:u,b:c}=i,l=a;if(o&&u.dtype==="complex64"){let h=l.texData.get(u.dataId),x=l.texData.get(c.dataId),[g,b]=[[h.complexTensorInfos.real,x.complexTensorInfos.real],[h.complexTensorInfos.imag,x.complexTensorInfos.imag]].map(k=>{let[A,D]=k,L={dataId:A.dataId,dtype:A.dtype,shape:u.shape},M={dataId:D.dataId,dtype:D.dtype,shape:c.shape},V=new pr(r,u.shape,c.shape);return l.runWebGLProgram(V,[L,M],kt(A.dtype,D.dtype))}),C=fr({inputs:{real:g,imag:b},backend:l});return l.disposeIntermediateTensorInfo(g),l.disposeIntermediateTensorInfo(b),C}let p=s||kt(u.dtype,c.dtype);if((u.dtype==="string"||c.dtype==="string"||l.shouldExecuteOnCPU([u,c]))&&n!=null){let h=l.texData.get(u.dataId).values,x=l.texData.get(c.dataId).values,g=u.dtype==="string"?O.fromUint8ToStringArray(h):h,b=u.dtype==="string"?O.fromUint8ToStringArray(x):x,[C,k]=n(u.shape,c.shape,g,b,p),A=l.makeTensorInfo(k,p),D=l.texData.get(A.dataId);return D.values=C,A}let f=P().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null,d;return f?d=new $r(e,u.shape,c.shape,t):d=new pr(r,u.shape,c.shape),l.runWebGLProgram(d,[u,c],p)}}function sn(r,e=!1){if(r==="linear")return e?o$:ZN;if(r==="relu")return e?s$:JN;if(r==="elu")return e?n$:QN;if(r==="relu6")return e?i$:e$;if(r==="prelu")return e?yb:xb;if(r==="leakyrelu")return e?gb:hb;if(r==="sigmoid")return e?a$:t$;throw new Error(`Activation ${r} has not been implemented for the WebGL backend.`)}var Ta=class{constructor(e,t,o,n=!1,s=!1,i=!1,a=null,u=!1,c=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o,this.enableShapeUniforms=Pe(this.outputShape.length);let l=n?e[1]:e[2],p=Math.ceil(l/2),f=n?"i * 2, rc.y":"rc.y, i * 2",d=s?"rc.z, i * 2":"i * 2, rc.z",h=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],x=s?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],g="",b="";a&&(u?g=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:c?g=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:g=`vec4 activation(vec4 x) {
          ${a}
        }`,b="result = activation(result);");let C=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");let k="rc.x",A="rc.x";e[0]<t[0]?k=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(A=`imod(rc.x, ${t[0]})`),this.userCode=`
      ${g}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${p}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${k};
        int batchB = ${A};
        for (int i = 0; i < ${p}; i++) {
          vec4 a = getMatrixA(batchA, ${f});
          vec4 b = getMatrixB(batchB, ${d});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${h[0]} * ${x[0]});
          result += (${h[1]} * ${x[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${C}

        ${b}

        setOutput(result);
      }
    `}};var bb={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"},Yp=class{constructor(e,t,o){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=O.assertAndGetBroadcastShape(t,o),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}};var f$="return a * b;";function Zp(r){let{inputs:e,backend:t}=r,{a:o,b:n}=e,s=O.upcastType(o.dtype,n.dtype);if(o.dtype==="complex64"){let a=t.texData.get(o.dataId),u=t.texData.get(n.dataId),c=new Yp(bb.REAL,o.shape,n.shape),l=new Yp(bb.IMAG,o.shape,n.shape),p=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:o.shape},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:o.shape},{dataId:u.complexTensorInfos.real.dataId,dtype:u.complexTensorInfos.real.dtype,shape:n.shape},{dataId:u.complexTensorInfos.imag.dataId,dtype:u.complexTensorInfos.imag.dtype,shape:n.shape}],f=t.runWebGLProgram(c,p,"float32"),d=t.runWebGLProgram(l,p,"float32"),h=fr({inputs:{real:f,imag:d},backend:t});return t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(d),h}if(t.shouldExecuteOnCPU([o,n])){let a=t.texData.get(o.dataId),u=t.texData.get(n.dataId),[c,l]=TN(o.shape,n.shape,a.values,u.values,s),p=t.makeTensorInfo(l,s),f=t.texData.get(p.dataId);return f.values=c,p}let i;return P().getBool("WEBGL_PACK_BINARY_OPERATIONS")?i=new $r(f$,o.shape,n.shape):i=new pr(f$,o.shape,n.shape),t.runWebGLProgram(i,[o,n],s)}var m$={kernelName:vs,backendName:"webgl",kernelFunc:Zp};function d$(r,e,t){let o=[Mn(r.shape),...Vn(r.shape)],n={dtype:r.dtype,shape:o,dataId:r.dataId},s=[Mn(e),...Vn(e)],i=new wa(s,o),a=!0,u=[o],c=t.runWebGLProgram(i,[n],r.dtype,u,a);return{dataId:c.dataId,shape:e,dtype:c.dtype}}function j(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{shape:s}=o,i=t,a=I.sizeFromShape(n.shape),u=I.inferFromImplicitShape(s,a),c=I.sizeFromShape(u);I.assert(a===c,()=>`The new shape (${u}) has ${c} elements and the old shape (${n.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`);let l=i.texData.get(n.dataId);return l.isPacked&&!ei(n.shape,u)&&!(l.texture!==null&&ei(l.shape,u))?d$(n,u,i):(i.incRef(n.dataId),{dataId:n.dataId,shape:u,dtype:n.dtype})}var h$={kernelName:Zc,backendName:"webgl",kernelFunc:j};var Qp=class{constructor(e,t){this.variableNames=["x"];let{windowSize:o,batchSize:n,inSize:s,outSize:i}=e;this.outputShape=[n,i];let a=Math.floor(o/4)*4,u=o%4,c="sumValue += dot(values, ones);";if(t!=null){let p=1/t;c=`sumValue += dot(values * ${I.isInt(p)?p.toPrecision(2):p}, ones);`}let l="";s%o>0&&(l=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${l}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${o};

        float sumValue = 0.0;

        for (int i = 0; i < ${a}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${c}
        }

        int inIdx = inOffset + ${a};
        if (${u===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${c}
        } else if (${u===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${c}
        } else if (${u===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${c}
        }
        setOutput(sumValue);
      }
    `}};var _d=class{constructor(e,t){this.variableNames=["x"];let{windowSize:o,batchSize:n,inSize:s,outSize:i}=e;this.outputShape=[n,i];let a="0.0",u="";t==="prod"?a="1.0":t==="min"?(a="1.0 / 1e-20",u="min"):t==="max"&&(a="-1.0 / 1e-20",u="max");let c=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;t==="sum"?c="sumValue":t==="prod"?c="prodValue":t==="all"?c="allValue":t==="any"&&(c="anyValue");let l=Math.floor(o/4)*4,p=o%4,f=`
      if (${t==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${t==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${u}(values, minMaxValue);
        if (${t==="min"} || ${t==="max"}) {
          minMaxValue = ${u}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,d="vec4";t==="all"?(a="1.0",f=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,d="bvec4"):t==="any"&&(a="0.0",f=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,d="bvec4");let h="";s%o>0&&(h=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${a};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${o};

        vec4 minMaxValue = vec4(${a});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${l}; i += 4) {
          int inIdx = inOffset + i;
          ${d} values = ${d}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${f}
        }

        int inIdx = inOffset + ${l};
        if (${p===1}) {
          ${d} values = ${d}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${p===2}) {
          ${d} values = ${d}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${p===3}) {
          ${d} values = ${d}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${f}
        }
        setOutput(${c});
      }
    `}};function tG(r){let e=[];for(;e.length===0||e[e.length-1].outSize!==1;){let t=e.length?e[e.length-1].outSize:r[1],o=O.computeOptimalWindowSize(t);e.push({inSize:t,windowSize:o,outSize:Math.ceil(t/o)})}return e}function Ar(r,e,t,o){let n=tG(r.shape),s=r;for(let i=0;i<n.length;i++){let{inSize:a,windowSize:u,outSize:c}=n[i],l,p;t==="mean"?l=i===0?new Qp({windowSize:u,inSize:a,batchSize:r.shape[0],outSize:c},a):new Qp({windowSize:u,inSize:a,batchSize:r.shape[0],outSize:c}):l=new _d({windowSize:u,inSize:a,batchSize:r.shape[0],outSize:c},t),p=s,s=o.runWebGLProgram(l,[s],e),p.dataId!==r.dataId&&o.disposeIntermediateTensorInfo(p)}return s}var Od=class{constructor(e,t){this.variableNames=["A"];let o=new Array(e.length);for(let i=0;i<o.length;i++)o[i]=e[t[i]];this.outputShape=o,this.rank=o.length;let n=pe(this.rank),s=rG(t);this.userCode=`
    void main() {
      ${n} resRC = getOutputCoords();
      setOutput(getA(${s}));
    }
    `}};function rG(r){let e=r.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);let t=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],o=new Array(e);for(let n=0;n<r.length;n++)o[r[n]]=t[n];return o.join()}var Dd=class{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;let o=new Array(e.length);for(let l=0;l<o.length;l++)o[l]=e[t[l]];if(this.outputShape=o,this.rank=o.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);let n=pe(this.rank),s=mb("rc",this.rank),i=new Array(this.rank);for(let l=0;l<t.length;l++)i[t[l]]=s[l];let a=`vec2(${i.slice(-2).join()})`,u=`++${s[this.rank-1]} < ${o[this.rank-1]}`,c=`getChannel(getA(${i.join()}), ${a})`;this.userCode=`
    void main() {
      ${n} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${c};
      if(${u}) {
        result[1] = ${c};
      }
      --${s[this.rank-1]};
      if(++${s[this.rank-2]} < ${o[this.rank-2]}) {
        result[2] = ${c};
        if(${u}) {
          result[3] = ${c};
        }
      }
      setOutput(result);
    }
    `}};function Un(r,e,t){let o=P().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Dd(r.shape,e):new Od(r.shape,e);return t.runWebGLProgram(o,[r],r.dtype)}function g$(r,e,t,o){let n=e,s=r.shape.length,i=I.parseAxisParam(n,r.shape),a=i,u=O.getAxesPermutation(a,s),c=u!=null,l=r;c&&(l=Un(r,u,o),a=O.getInnerMostAxes(a.length,s)),O.assertAxesAreInnerMostDims("sum",a,s);let[p,f]=O.computeOutAndReduceShapes(l.shape,a),d=p;t&&(d=O.expandShapeToKeepDim(p,i));let h=I.sizeFromShape(f),g=I.sizeFromShape(r.shape)/h,b=j({inputs:{x:l},attrs:{shape:[g,h]},backend:o}),C=vn(r.dtype),k=Ar(b,C,"sum",o),A=j({inputs:{x:k},attrs:{shape:d},backend:o});return o.disposeIntermediateTensorInfo(b),o.disposeIntermediateTensorInfo(k),c&&o.disposeIntermediateTensorInfo(l),A}function ni(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{axis:s,keepDims:i}=o;return g$(n,s,i,t)}var x$={kernelName:fl,backendName:"webgl",kernelFunc:ni};function Ke(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{perm:s}=o,i=t,a=n.shape.length,u=new Array(a);for(let l=0;l<u.length;l++)u[l]=n.shape[s[l]];let c;if(i.shouldExecuteOnCPU([n])){let p=i.texData.get(n.dataId).values,f=oi(p,n.shape,n.dtype,s,u);c=i.makeTensorInfo(u,n.dtype);let d=i.texData.get(c.dataId);d.values=f}else c=Un(n,s,i);return c}var y$={kernelName:ks,backendName:"webgl",kernelFunc:Ke};var vb=1e3;function si({a:r,b:e,transposeA:t,transposeB:o,backend:n,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:u=null}){let c=r.shape.length,l=e.shape.length,p=t?r.shape[c-2]:r.shape[c-1],f=o?e.shape[l-1]:e.shape[l-2],d=t?r.shape[c-1]:r.shape[c-2],h=o?e.shape[l-2]:e.shape[l-1],x=r.shape.slice(0,-2),g=e.shape.slice(0,-2),b=I.sizeFromShape(x),C=I.sizeFromShape(g),A=Qo.assertAndGetBroadcastShape(r.shape.slice(0,-2),e.shape.slice(0,-2)).concat([d,h]);I.assert(p===f,()=>`Error in matMul: inner shapes (${p}) and (${f}) of Tensors with shapes ${r.shape} and ${e.shape} and transposeA=${t} and transposeB=${o} must match.`);let D=t?[b,p,d]:[b,d,p],L=o?[C,h,f]:[C,f,h],M=j({inputs:{x:r},backend:n,attrs:{shape:D}}),V=j({inputs:{x:e},backend:n,attrs:{shape:L}}),z=[M,V],W=Math.max(b,C),H=t?M.shape[1]:M.shape[2],X=s!=null,oe=i!=null,ae=u==="leakyrelu",ce=u!=null?sn(u,!0):null,Se=X||oe||ae||ce!=null,Ie;if((d===1||h===1)&&H>vb&&Se===!1){let Me=M,Te=V;t&&(Me=Ke({inputs:{x:M},backend:n,attrs:{perm:[0,2,1]}}),z.push(Me)),o&&(Te=Ke({inputs:{x:V},backend:n,attrs:{perm:[0,2,1]}}),z.push(Te));let Ve=h!==1,at=h===1,dt=Me;Ve&&(dt=j({inputs:{x:Me},backend:n,attrs:{shape:[W,H,1]}}),z.push(dt));let mr=h===1?2:1,Jt=Te;at&&(Jt=j({inputs:{x:Te},backend:n,attrs:{shape:[W,1,H]}}),z.push(Jt));let er=Zp({inputs:{a:dt,b:Jt},backend:n});Ie=ni({inputs:{x:er},backend:n,attrs:{axis:mr,keepDims:!0}}),z.push(er)}else{let Me=kt(r.dtype,e.dtype),Te=new Ta(D,L,[W,d,h],t,o,X,ce,oe,ae),Ve=[M,V];if(s!=null&&Ve.push(s),oe&&Ve.push(i),ae){let at=n.makeTensorInfo([],"float32",I.createScalarValue(a,"float32"));Ve.push(at),z.push(at)}Ie=n.runWebGLProgram(Te,Ve,Me)}let Oe=j({inputs:{x:Ie},backend:n,attrs:{shape:A}});z.push(Ie);for(let Me of z)n.disposeIntermediateTensorInfo(Me);return Oe}function oG(r){let{inputs:e,backend:t,attrs:o}=r,{a:n,b:s,bias:i,preluActivationWeights:a}=e,{transposeA:u,transposeB:c,activation:l,leakyreluAlpha:p}=o;return si({a:n,b:s,transposeA:u,transposeB:c,backend:t,bias:i,preluActivationWeights:a,leakyreluAlpha:p,activation:l})}var b$={kernelName:Li,backendName:"webgl",kernelFunc:oG};var v$="return abs(x);";function nG(r){let{inputs:e,backend:t}=r,{x:o}=e;if(t.shouldExecuteOnCPU([o])&&o.dtype!=="complex64"){let s=t.texData.get(o.dataId),i=Ed(s.values);return t.makeTensorInfo(o.shape,o.dtype,i)}let n;return P().getBool("WEBGL_PACK_UNARY_OPERATIONS")?n=new lr(o.shape,v$):n=new Et(o.shape,v$),t.runWebGLProgram(n,[o],o.dtype)}var w$={kernelName:Ai,backendName:"webgl",kernelFunc:nG};var sG=pt+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,iG=re({opSnippet:sG}),S$={kernelName:vu,backendName:"webgl",kernelFunc:iG};var aG=pt+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,uG=re({opSnippet:aG}),T$={kernelName:wu,backendName:"webgl",kernelFunc:uG};var C$="return a + b;",cG=Fe({opSnippet:C$,packedOpSnippet:C$,supportsComplex:!0,cpuKernelImpl:rN}),I$={kernelName:Wo,backendName:"webgl",kernelFunc:cG};var Fd=class{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((s,i)=>`T${i}`);let o=[];this.variableNames.forEach(s=>{o.push(`float v${s} = get${s}AtOutCoords();`)});let n=this.variableNames.map(s=>`v${s}`).join(" + ");this.userCode=`
      void main() {
        ${o.join(`
        `)}

        float result = ${n};
        setOutput(result);
      }
    `}};var Pd=class{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((s,i)=>`T${i}`);let o=[];this.variableNames.forEach(s=>{o.push(`vec4 v${s} = get${s}AtOutCoords();`)});let n=this.variableNames.map(s=>`v${s}`).join(" + ");this.userCode=`
      void main() {
        ${o.join(`
        `)}

        vec4 result = ${n};
        setOutput(result);
      }
    `}};function Ld(r){let{inputs:e,backend:t}=r,o=e;if(o.length===1)return st({inputs:{x:o[0]},backend:t});if(o.length>P().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){let u=Math.floor(o.length/2),c=Ld({inputs:o.slice(0,u),backend:t}),l=Ld({inputs:o.slice(u),backend:t});return Ld({inputs:[c,l],backend:t})}let n=o.map(u=>u.dtype).reduce((u,c)=>kt(u,c)),s=o.map(u=>u.shape),a=P().getBool("WEBGL_PACK")?new Pd(o[0].shape,s):new Fd(o[0].shape,s);return t.runWebGLProgram(a,o,n)}var E$={kernelName:Su,backendName:"webgl",kernelFunc:Ld};function lG(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{axis:s,keepDims:i}=o,a=n.shape.length,u=I.parseAxisParam(s,n.shape),c=u,l=O.getAxesPermutation(c,a),p=n;l!=null&&(p=Ke({inputs:{x:n},backend:t,attrs:{perm:l}}),c=O.getInnerMostAxes(c.length,a)),O.assertAxesAreInnerMostDims("all",c,a);let[f,d]=O.computeOutAndReduceShapes(p.shape,c),h=I.sizeFromShape(d),x=j({inputs:{x:p},backend:t,attrs:{shape:[-1,h]}}),g=Ar(x,x.dtype,"all",t),b;if(i){let C=O.expandShapeToKeepDim(f,u);b=j({inputs:{x:g},backend:t,attrs:{shape:C}})}else b=j({inputs:{x:g},backend:t,attrs:{shape:f}});return t.disposeIntermediateTensorInfo(x),t.disposeIntermediateTensorInfo(g),l!=null&&t.disposeIntermediateTensorInfo(p),b}var N$={kernelName:Tu,backendName:"webgl",kernelFunc:lG};function pG(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{axis:s,keepDims:i}=o,a=n.shape.length,u=I.parseAxisParam(s,n.shape),c=u,l=O.getAxesPermutation(c,a),p=n;l!=null&&(p=Ke({inputs:{x:n},backend:t,attrs:{perm:l}}),c=O.getInnerMostAxes(c.length,a)),O.assertAxesAreInnerMostDims("any",c,a);let[f,d]=O.computeOutAndReduceShapes(p.shape,c),h=I.sizeFromShape(d),x=j({inputs:{x:p},backend:t,attrs:{shape:[-1,h]}}),g=Ar(x,x.dtype,"any",t),b;if(i){let C=O.expandShapeToKeepDim(f,u);b=j({inputs:{x:g},backend:t,attrs:{shape:C}})}else b=j({inputs:{x:g},backend:t,attrs:{shape:f}});return t.disposeIntermediateTensorInfo(x),t.disposeIntermediateTensorInfo(g),l!=null&&t.disposeIntermediateTensorInfo(p),b}var $$={kernelName:Cu,backendName:"webgl",kernelFunc:pG};var Bd=class{constructor(e,t,o){this.variableNames=["A"];let{windowSize:n,batchSize:s,outSize:i}=e;o||this.variableNames.push("bestIndicesA"),this.outputShape=[s,i];let a=t==="max"?">":"<",u=o?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${n};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${n}; i++) {
          int inIdx = ${u};
          float candidate = getA(batch, inIdx);
          if (candidate ${a} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}};var Md=class{constructor(e,t,o,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,I.assert(e.length>2,()=>`Packed arg${o.charAt(0).toUpperCase()+o.slice(1)} supports only inputs with rank above 2.`);let s=e[e.length-1],i=Math.ceil(s/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),n||this.variableNames.push("bestIndicesA");let a=this.outputShape,u=a.length,c=pe(u),l=nt("coords",u),p,f;if(i===1){f=u+1;let V=pe(f);p=`
        ${V} sourceLocR = ${V}(${l.join()}, 0);
        ++${l[u-1]};
        ${V} sourceLocG = ${V}(${l.join()}, 0);
        ++${l[u-2]};
        ${V} sourceLocA = ${V}(${l.join()}, 0);
        --${l[u-1]};
        ${V} sourceLocB = ${V}(${l.join()}, 0);
        --${l[u-2]};`}else f=u,p=`
        ${c} sourceLocR = coords;
        ++${l[u-1]};
        ${c} sourceLocG = coords;
        ++${l[u-2]};
        ${c} sourceLocA = coords;
        --${l[u-1]};
        ${c} sourceLocB = coords;
        --${l[u-2]};`;let d=["x","y","z","w","u","v"].slice(0,f),h="."+d[f-1],x=d.map(V=>"int "+V),g=nt("sourceLocR",f-1).concat("inIdx.r"),b=nt("sourceLocG",f-1).concat("inIdx.g"),C=nt("sourceLocB",f-1).concat("inIdx.b"),k=nt("sourceLocA",f-1).concat("inIdx.a"),A=o==="max"?"greaterThan":"lessThan",D=n?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${g.join()}),
                             getBestIndicesAChannel(${b.join()}),
                             getBestIndicesAChannel(${C.join()}),
                             getBestIndicesAChannel(${k.join()})));`,L=`vec4(
            getAChannel(${g.join()}),
            hasNextCol ? getAChannel(${b.join()}) : 0.,
            hasNextRow ? getAChannel(${C.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${k.join()}) : 0.)`,M=n?"":`
      float getBestIndicesAChannel(${x.join()}) {
        return getChannel(getBestIndicesA(${d.join()}),
                                          vec2(${d.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${x.join()}) {
        return getChannel(getA(${d.join()}),
                               vec2(${d.slice(-2).join()}));
      }
      ${M}
      void main() {
        ${c} coords = getOutputCoords();
        bool hasNextCol = ${l[u-1]} < ${a[u-1]-1};
        bool hasNextRow = ${l[u-2]} < ${a[u-2]-1};
        ${p}
        ivec4 srcIdx = ivec4(sourceLocR${h}, sourceLocG${h},
          sourceLocB${h}, sourceLocA${h}) * ${t};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${L};

        for (int i = 0; i < ${t}; i++) {
          inIdx = srcIdx;
          ${D}
          vec4 candidate = ${L};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${A}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}};function k$(r,e,t,o=null){let n=e.shape[0],s=e.shape[1];o!=null&&(n=o.shape[0],s=o.shape[1]);let i=O.computeOptimalWindowSize(s),a={windowSize:i,inSize:s,batchSize:n,outSize:Math.ceil(s/i)},u=new Bd(a,t,o==null),c=[e];o!=null&&c.push(o);let l=r.runWebGLProgram(u,c,"int32");if(l.shape[1]===1)return l;let p=k$(r,e,t,l);return r.disposeIntermediateTensorInfo(l),p}function A$(r,e,t,o=null){let n=o!=null?o.shape:e.shape,s=n[n.length-1],i=O.computeOptimalWindowSize(s),a=new Md(n,i,t,o==null),u=o==null?[e]:[e,o],c=r.runWebGLProgram(a,u,"int32");if(c.shape.length===e.shape.length){let l=A$(r,e,t,c);return r.disposeIntermediateTensorInfo(c),l}return c}function Vd(r,e,t,o){let n=[t];if(O.assertAxesAreInnerMostDims("arg"+o.charAt(0).toUpperCase()+o.slice(1),n,e.shape.length),!P().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){let s=[],i=r.texData.get(e.dataId),a=i!==null&&i.isPacked,u=e;a&&(u=r.unpackTensor(e),s.push(u));let[c,l]=O.computeOutAndReduceShapes(u.shape,n),p=I.sizeFromShape(l),f=j({inputs:{x:u},backend:r,attrs:{shape:[-1,p]}});s.push(f);let d=k$(r,f,o);s.push(d);let h=j({inputs:{x:d},backend:r,attrs:{shape:c}});return s.forEach(x=>r.disposeIntermediateTensorInfo(x)),h}return A$(r,e,o)}function fG(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{axis:s}=o,i=I.parseAxisParam(s,n.shape),a=O.getAxesPermutation(i,n.shape.length),u=n,c=[];a!=null&&(u=Ke({inputs:{x:n},backend:t,attrs:{perm:a}}),c.push(u),i=O.getInnerMostAxes(i.length,u.shape.length)),O.assertAxesAreInnerMostDims("argMax",[i[0]],u.shape.length);let l=Vd(t,u,i[0],"max");return c.forEach(p=>t.disposeIntermediateTensorInfo(p)),l}var R$={kernelName:Iu,backendName:"webgl",kernelFunc:fG};function mG(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{axis:s}=o,i=I.parseAxisParam(s,n.shape),a=O.getAxesPermutation(i,n.shape.length),u=n,c=[];a!=null&&(u=Ke({inputs:{x:n},backend:t,attrs:{perm:a}}),c.push(u),i=O.getInnerMostAxes(i.length,u.shape.length)),O.assertAxesAreInnerMostDims("argMin",[i[0]],u.shape.length);let l=Vd(t,u,i[0],"min");return c.forEach(p=>t.disposeIntermediateTensorInfo(p)),l}var _$={kernelName:Eu,backendName:"webgl",kernelFunc:mG};var dG=pt+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,hG=re({opSnippet:dG}),O$={kernelName:Nu,backendName:"webgl",kernelFunc:hG};var gG=pt+"return log(x + sqrt(x * x + 1.0));",xG=re({opSnippet:gG}),D$={kernelName:$u,backendName:"webgl",kernelFunc:xG};var yG=pt+`
  return atan(x);
`,bG=re({opSnippet:yG}),F$={kernelName:ku,backendName:"webgl",kernelFunc:bG};var vG=Sa+`
  return atan(a, b);
`,wG=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+kr+`
  return result;
`,SG=Fe({opSnippet:vG,packedOpSnippet:wG}),P$={kernelName:Ru,backendName:"webgl",kernelFunc:SG};var TG=pt+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,CG=re({opSnippet:TG}),L$={kernelName:Au,backendName:"webgl",kernelFunc:CG};var po=class{constructor(e,t,o,n=!1,s=!1){if(this.variableNames=["x"],t==="avg"&&o)throw new Error("Cannot compute positions for average pool.");let i=e.filterWidth,a=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,l=e.dilationWidth,p=e.effectiveFilterHeight,f=e.effectiveFilterWidth,d=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;let x=t==="avg",g=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,b=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`,C="0.0";if(x||(C="-1.0 / 1e-20"),o){let V=">=";this.userCode=`
        const ivec2 strides = ivec2(${a}, ${u});
        const ivec2 pads = ivec2(${d}, ${h});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${p};
              wR += ${c}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${f};
                wC += ${l}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${V} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${n?s?g:b:`wR * ${f} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}let k="max",A=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;t==="avg"&&(A="avgValue / max(count, 1.0)");let D=Math.floor(i/4)*4,L=i%4,M=`
      if (${x}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${k}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${a}, ${u});
      const ivec2 pads = ivec2(${d}, ${h});
      const float initializationValue = ${C};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${C});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${p};
            wR += ${c}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${D}; wC += 4) {
            int xC = xCCorner + wC * ${l};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${l}, d),
              getValue(batch, xR, xC + 2 * ${l}, d),
              getValue(batch, xR, xC + 3 * ${l}, d)
            );

            ${M}
          }

          int xC = xCCorner + ${D};
          if (${L===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${M}
          } else if (${L===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${l}, d),
              initializationValue,
              initializationValue
            );

            ${M}
          } else if (${L===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${l}, d),
              getValue(batch, xR, xC + 2 * ${l}, d),
              initializationValue
            );

            ${M}
          }
        }
        setOutput(${A});
      }
    `}},Gn=class{constructor(e,t,o,n=!1,s=!1){if(this.variableNames=["x"],t==="avg"&&o)throw new Error("Cannot compute positions for average pool.");let i=e.filterWidth,a=e.strideDepth,u=e.strideHeight,c=e.strideWidth,l=e.dilationDepth,p=e.dilationHeight,f=e.dilationWidth,d=e.effectiveFilterDepth,h=e.effectiveFilterHeight,x=e.effectiveFilterWidth,g=e.padInfo.front,b=e.padInfo.top,C=e.padInfo.left;this.outputShape=e.outShape;let k=t==="avg",A="0.0";if(k||(A="-1.0 / 1e-20"),o){let W=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${a}, ${u}, ${c});
        const ivec3 pads = ivec3(${g}, ${b}, ${C});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${d};
              wD += ${l}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${h};
                wR += ${p}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${x};
                  wC += ${f}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${W} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${n?s?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${h} * ${x} +
                      wR * ${x} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}let D="max",L=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;t==="avg"&&(L="avgValue / max(count, 1.0)");let M=Math.floor(i/4)*4,V=i%4,z=`
      if (${k}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${D}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${a}, ${u}, ${c});
      const ivec3 pads = ivec3(${g}, ${b}, ${C});
      const float initializationValue = ${A};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${A});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${d};
            wD += ${l}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${h};
            wR += ${p}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${M}; wC += 4) {
              int xC = xCCorner + wC * ${f};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                getValue(batch, xD, xR, xC + 3 * ${f}, ch)
              );

              ${z}
            }

            int xC = xCCorner + ${M};
            if (${V===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${z}
            } else if (${V===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                initializationValue,
                initializationValue
              );

              ${z}
            } else if (${V===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                initializationValue
              );

              ${z}
            }
          }
        }
        setOutput(${L});
      }
    `}};function IG(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e;Lo(n,"avgPool");let{filterSize:s,strides:i,pad:a,dimRoundingMode:u}=o,c=1;I.assert(O.eitherStridesOrDilationsAreOne(i,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`);let l=O.computePool2DInfo(n.shape,s,i,c,a,u);if(l.filterWidth===1&&l.filterHeight===1&&I.arraysEqual(l.inShape,l.outShape))return st({inputs:{x:n},backend:t});let p=new po(l,"avg",!1);return t.runWebGLProgram(p,[n],"float32")}var B$={kernelName:_u,backendName:"webgl",kernelFunc:IG};function EG(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{filterSize:s,strides:i,pad:a,dimRoundingMode:u,dataFormat:c}=o,l=[1,1,1],p=O.computePool3DInfo(n.shape,s,i,l,a,u,c),f=new Gn(p,"avg",!1);return t.runWebGLProgram(f,[n],"float32")}var M$={kernelName:Ou,backendName:"webgl",kernelFunc:EG};var Ud=class{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;let t=e.filterHeight,o=e.filterWidth,n=e.strideHeight,s=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,l=u-1-e.padInfo.top,p=c-1-e.padInfo.left,f=1/(t*o);this.userCode=`
      const ivec2 pads = ivec2(${l}, ${p});
      const float avgMultiplier = float(${f});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${u};
            wR += ${i}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${c};
            wC+= ${a}) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}},Gd=class{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;let t=e.filterDepth,o=e.filterHeight,n=e.filterWidth,s=e.strideDepth,i=e.strideHeight,a=e.strideWidth,u=e.dilationDepth,c=e.dilationHeight,l=e.dilationWidth,p=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=p-1-e.padInfo.front,x=f-1-e.padInfo.top,g=d-1-e.padInfo.left,b=1/(t*o*n);this.userCode=`
      const ivec3 pads = ivec3(${h}, ${x}, ${g});
      const float avgMultiplier = float(${b});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${p};
            wD += ${u}) {
          float dyD = float(dyDCorner + wD) / ${s}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${f};
              wR += ${c}) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${d};
                wC += ${l}) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}};function NG(r){let{inputs:e,backend:t,attrs:o}=r,{dy:n,input:s}=e,i=s,{filterSize:a,strides:u,pad:c,dimRoundingMode:l}=o,p=[1,1,1],f=O.computePool3DInfo(i.shape,a,u,p,c,l),d=new Gd(f);return t.runWebGLProgram(d,[n],i.dtype)}var V$={kernelName:zg,backendName:"webgl",kernelFunc:NG};function $G(r){let{inputs:e,backend:t,attrs:o}=r,{dy:n,input:s}=e,i=s;Lo([n,s],"avgPoolGrad");let{filterSize:a,strides:u,pad:c}=o,l=O.computePool2DInfo(i.shape,a,u,1,c),p=new Ud(l);return t.runWebGLProgram(p,[n],i.dtype)}var U$={kernelName:Gg,backendName:"webgl",kernelFunc:$G};function kG(r){let{inputs:e,backend:t,attrs:o}=r,{a:n,b:s}=e,{transposeA:i,transposeB:a}=o;return si({a:n,b:s,transposeA:i,transposeB:a,backend:t})}var G$={kernelName:Du,backendName:"webgl",kernelFunc:kG};var zd=class{constructor(e,t,o,n,s,i){this.outputShape=[],this.variableNames=["x","mean","variance"],O.assertAndGetBroadcastShape(e,t),O.assertAndGetBroadcastShape(e,o);let a="0.0";n!=null&&(O.assertAndGetBroadcastShape(e,n),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let u="1.0";s!=null&&(O.assertAndGetBroadcastShape(e,s),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${a};
        float scale = ${u};
        float inv = scale * inversesqrt(variance + float(${i}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}};var Wd=class{constructor(e,t,o,n,s,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],O.assertAndGetBroadcastShape(e,t),O.assertAndGetBroadcastShape(e,o);let a="vec4(0.0)";n!=null&&(O.assertAndGetBroadcastShape(e,n),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let u="vec4(1.0)";s!=null&&(O.assertAndGetBroadcastShape(e,s),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${a};
        vec4 scale = ${u};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${i}));

        setOutput((x - mean) * inv + offset);
      }
    `}};var AG=({inputs:r,backend:e,attrs:t})=>{let{x:o,mean:n,variance:s,offset:i,scale:a}=r;I.assert(n.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),I.assert(i==null||n.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),I.assert(a==null||n.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:u}=t;u==null&&(u=.001);let c=[o,n,s],l=null;i!=null&&(l=i.shape,c.push(i));let p=null;a!=null&&(p=a.shape,c.push(a));let f=P().getBool("WEBGL_PACK_NORMALIZATION")?new Wd(o.shape,n.shape,s.shape,l,p,u):new zd(o.shape,n.shape,s.shape,l,p,u);return e.runWebGLProgram(f,c,c[0].dtype)},z$={kernelName:fc,backendName:"webgl",kernelFunc:AG};var Hd=class{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;let t=pe(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];let o=RG(this.rank),n,s=e.map((i,a)=>`sourceLoc.${wb[a]} = start[${a}] + coords.${wb[a]};`);n=`
        ${t} sourceLoc;
        ${t} coords = getOutputCoords();
        ${s.join(`
`)}
      `,this.userCode=`
      void main() {
        ${n}
        setOutput(getSource(${o}));
      }
    `}},wb=["x","y","z","w","u","v"];function RG(r){if(r===1)return"sourceLoc";if(r<=6)return wb.slice(0,r).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${r} is not yet supported`)}var jd=class{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];let t=pe(this.rank),o=nt("coords",this.rank),n=nt("sourceLoc",this.rank),s=this.rank===1?"sourceLoc":`vec2(${n.slice(-2).join()})`,i=`getChannel(getSource(${n.join()}), ${s})`,a=`
      result.x = ${i};
      if (++${o[this.rank-1]} < ${e[this.rank-1]}) {
        ++${n[this.rank-1]};
        result.y = ${i};
        --${n[this.rank-1]};
      }
    `,u=this.rank===1?"":`
      --${o[this.rank-1]};
      if (++${o[this.rank-2]} < ${e[this.rank-2]}) {
        ++${n[this.rank-2]};
        result.z = ${i};
        if (++${o[this.rank-1]} < ${e[this.rank-1]}) {
          ++${n[this.rank-1]};
          result.w = ${i};
        }
      }
    `,c=this.rank<=4?`sourceLoc = coords +
            ${t}(${e.map((l,p)=>`start[${p}]`).join()});`:e.map((l,p)=>`${n[p]} = ${o[p]} + start[${p}];`).join(`
`);this.userCode=`
      void main() {
        ${t} coords = getOutputCoords();
        ${t} sourceLoc;
        ${c}
        vec4 result = vec4(0.);
        ${a}
        ${u}
        setOutput(result);
      }
    `}};function _G(r,e,t,o){let n=o.texData.get(r.dataId),s=o.makeTensorInfo(t,r.dtype),i=o.texData.get(s.dataId);Object.assign(i,n),i.refCount=1,i.shape=t,i.dtype=r.dtype;let a=Yt.computeFlatOffset(e,I.computeStrides(r.shape));n.slice&&(a+=n.slice.flatOffset),i.slice={flatOffset:a,origDataId:n.slice&&n.slice.origDataId||r.dataId};let u=o.dataRefCount.get(i.slice.origDataId)||1;return o.dataRefCount.set(i.slice.origDataId,u+1),s}function fo(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{begin:s,size:i}=o,[a,u]=Yt.parseSliceParams(n,s,i);if(Yt.assertParamsValid(n,a,u),I.sizeFromShape(u)===0)return t.makeTensorInfo(u,n.dtype,[]);if(t.shouldExecuteOnCPU([n])||n.dtype==="string"){let p=t.texData.get(n.dataId),f=DN(p.values,a,u,n.shape,n.dtype);return t.makeTensorInfo(u,n.dtype,f)}let{isPacked:c}=t.texData.get(n.dataId),l=Yt.isSliceContinous(n.shape,a,u);if(c||!l){let p=P().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new jd(u):new Hd(u),f=[a];return t.runWebGLProgram(p,[n],n.dtype,f)}return t.uploadToGPU(n.dataId),_G(n,a,u,t)}var W$={kernelName:Fi,backendName:"webgl",kernelFunc:fo};var OG=r=>{let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{blockShape:s,crops:i}=o;I.assert(n.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");let a=s.reduce((C,k)=>C*k),u=O.getReshaped(n.shape,s,a),c=O.getPermuted(u.length,s.length),l=O.getReshapedPermuted(n.shape,s,a),p=O.getSliceBeginCoords(i,s.length),f=O.getSliceSize(l,i,s.length),d=[],h=j({inputs:{x:n},backend:t,attrs:{shape:u}}),x=Ke({inputs:{x:h},backend:t,attrs:{perm:c}}),g=j({inputs:{x},backend:t,attrs:{shape:l}}),b=fo({inputs:{x:g},backend:t,attrs:{begin:p,size:f}});return d.push(h),d.push(x),d.push(g),d.forEach(C=>t.disposeIntermediateTensorInfo(C)),b},H$={kernelName:Fu,backendName:"webgl",kernelFunc:OG};function DG(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,weights:s}=e,{size:i}=o,a=t.readSync(n.dataId),u=t.readSync(s.dataId),c=Id(a,u,s.dtype,s.shape,i);return t.makeTensorInfo([i],s.dtype,c)}var j$={kernelName:Pu,backendName:"webgl",kernelFunc:DG};var FG=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,PG=`
  return float(int(a.r) & int(b.r));
`;function LG(r){let{inputs:e,backend:t}=r,{a:o,b:n}=e,s=P().getBool("WEBGL_PACK_BINARY_OPERATIONS"),i=P().getNumber("WEBGL_VERSION");if(t.shouldExecuteOnCPU([o,n])||i===1){let u=t.texData.get(o.dataId).values,c=t.texData.get(n.dataId).values,[l,p]=nN(o.shape,n.shape,u,c,o.dtype),f=t.makeTensorInfo(p,o.dtype),d=t.texData.get(f.dataId);return d.values=l,f}let a;return s?a=new $r(FG,o.shape,n.shape,!1):a=new pr(PG,o.shape,n.shape),t.runWebGLProgram(a,[o,n],o.dtype)}var K$={kernelName:is,backendName:"webgl",kernelFunc:LG};function BG(r){let{inputs:e,backend:t}=r,{s0:o,s1:n}=e,s=t.readSync(o.dataId),i=t.readSync(n.dataId),a=O.assertAndGetBroadcastShape(Array.from(s),Array.from(i));return t.makeTensorInfo([a.length],"int32",Int32Array.from(a))}var q$={kernelName:Lu,backendName:"webgl",kernelFunc:BG};var MG="return float(a != b);",Sb=Fe({opSnippet:MG,cpuKernelImpl:IN,dtype:"bool"}),X$={kernelName:ws,backendName:"webgl",kernelFunc:Sb};function an(r){let{inputs:e,backend:t}=r,{input:o}=e,n=t.texData.get(o.dataId);return st({inputs:{x:n.complexTensorInfos.real},backend:t})}var Y$={kernelName:Di,backendName:"webgl",kernelFunc:an};var VG="return float(int(x));";function Z$(r,e){let t=new Et(r.shape,VG),o=e.runWebGLProgram(t,[r],"int32");return{dataId:o.dataId,shape:o.shape,dtype:o.dtype}}function Tb(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{dtype:s}=o;if(s==="complex64"){if(n.dtype==="complex64")return st({inputs:{x:n},backend:t});let i=Fr(n.shape),a=Tb({inputs:{x:n},backend:t,attrs:{dtype:"float32"}}),u=fr({inputs:{real:a,imag:i},backend:t});return i.dispose(),t.disposeIntermediateTensorInfo(a),u}if(n.dtype==="complex64"){let i=an({inputs:{input:n},backend:t}),a=Tb({inputs:{x:i},backend:t,attrs:{dtype:s}});return t.disposeIntermediateTensorInfo(i),a}if(!I.hasEncodingLoss(n.dtype,s)){let i=st({inputs:{x:n},backend:t});return{dataId:i.dataId,shape:i.shape,dtype:s}}if(t.shouldExecuteOnCPU([n])){let i=t.texData.get(n.dataId).values,[a,u,c]=sN(i,n.shape,n.dtype,s);return t.makeTensorInfo(a,u,c)}if(s==="int32")return Z$(n,t);if(s==="bool"){let i=t.makeTensorInfo([],"bool",I.getTypedArrayFromDType("bool",1)),u=Sb({inputs:{a:n,b:i},backend:t});return t.disposeIntermediateTensorInfo(i),u}throw new Error(`Error in Cast: failed to cast ${n.dtype} to ${s}`)}var Q$={kernelName:gn,backendName:"webgl",kernelFunc:Tb};var J$="return ceil(x);",UG=re({opSnippet:J$,packedOpSnippet:J$,cpuKernelImpl:iN}),ek={kernelName:as,backendName:"webgl",kernelFunc:UG};var Kd=class{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}};var qd=class{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}};function GG(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{clipValueMin:s,clipValueMax:i}=o,a;P().getBool("WEBGL_PACK_CLIP")?a=new qd(n.shape):a=new Kd(n.shape);let u=[[s],[i]];return t.runWebGLProgram(a,[n],n.dtype,u)}var tk={kernelName:Bu,backendName:"webgl",kernelFunc:GG};var Xd=class{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}};function rk(r,e){return{dataId:e.dataId,dtype:e.dtype,shape:r.shape}}function zG(r){let{inputs:e,backend:t}=r,{x:o}=e,n=t.texData.get(o.dataId),s=new Xd(o.shape),i=[rk(o,n.complexTensorInfos.real),rk(o,n.complexTensorInfos.imag)];return t.runWebGLProgram(s,i,i[0].dtype)}var ok={kernelName:Mu,backendName:"webgl",kernelFunc:zG};var Yd=class{constructor(e){this.outputShape=[],this.outputShape=O.computeOutShape(e,1),this.variableNames=e.map((i,a)=>`T${a}`);let t=new Array(e.length-1);t[0]=e[0][1];for(let i=1;i<t.length;i++)t[i]=t[i-1]+e[i][1];let o=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let i=1;i<t.length;i++){let a=t[i-1];o.push(`else if (yC < ${t[i]}) setOutput(getT${i}(yR, yC-${a}));`)}let n=t.length,s=t[t.length-1];o.push(`else setOutput(getT${n}(yR, yC-${s}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${o.join(`
        `)}
      }
    `}};var Qd=class{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=O.computeOutShape(e,t);let o=this.outputShape,n=o.length,s=pe(n),i=nt("coords",n),a=["x","y","z","w","u","v"].slice(0,n);this.variableNames=e.map((x,g)=>`T${g}`);let u=new Array(e.length-1);u[0]=e[0][t];for(let x=1;x<u.length;x++)u[x]=u[x-1]+e[x][t];let c=a[t],l=a.slice(-2),p=a.join(),f=`if (${c} < ${u[0]}) {
        return getChannel(
            getT0(${p}), vec2(${l.join()}));
        }`;for(let x=1;x<u.length;x++){let g=u[x-1];f+=`
        if (${c} < ${u[x]}  && ${c} >= ${u[x-1]}) {
          return getChannel(
            getT${x}(${Zd(a,c,g)}),
            vec2(${Zd(l,c,g)}));
        }`}let d=u.length,h=u[u.length-1];f+=`
        return getChannel(
          getT${d}(${Zd(a,c,h)}),
          vec2(${Zd(l,c,h)}));`,this.userCode=`
      float getValue(${a.map(x=>"int "+x)}) {
        ${f}
      }

      void main() {
        ${s} coords = getOutputCoords();
        vec4 result = vec4(getValue(${i}), 0., 0., 0.);

        ${i[n-1]} = ${i[n-1]} + 1;
        if (${i[n-1]} < ${o[n-1]}) {
          result.g = getValue(${i});
        }

        ${i[n-2]} = ${i[n-2]} + 1;
        if (${i[n-2]} < ${o[n-2]}) {
          result.a = getValue(${i});
        }

        ${i[n-1]} = ${i[n-1]} - 1;
        if (${i[n-2]} < ${o[n-2]} &&
            ${i[n-1]} < ${o[n-1]}) {
          result.b = getValue(${i});
        }
        setOutput(result);
      }
    `}};function Zd(r,e,t){let o=r.indexOf(e);return r.map((s,i)=>i===o?`${s} - ${t}`:s).join()}function ii(r){let{inputs:e,backend:t}=r,{input:o}=e,n=t.texData.get(o.dataId);return st({inputs:{x:n.complexTensorInfos.imag},backend:t})}var nk={kernelName:gc,backendName:"webgl",kernelFunc:ii};function Ca(r,e,t){let o=r[0].dtype;if(o==="complex64"){let d=r.map(C=>an({inputs:{input:C},backend:t})),h=r.map(C=>ii({inputs:{input:C},backend:t})),x=Ca(d,e,t),g=Ca(h,e,t),b=fr({inputs:{real:x,imag:g},backend:t});return d.forEach(C=>t.disposeIntermediateTensorInfo(C)),h.forEach(C=>t.disposeIntermediateTensorInfo(C)),t.disposeIntermediateTensorInfo(x),t.disposeIntermediateTensorInfo(g),b}let n=t.shouldExecuteOnCPU(r);if(o==="string"&&(n=!0),n){let d=r.map(A=>{let L=[-1,I.sizeFromShape(A.shape.slice(e))];return j({inputs:{x:A},backend:t,attrs:{shape:L}})}),h=d.map(A=>({vals:t.readSync(A.dataId),shape:A.shape})),x=O.computeOutShape(d.map(A=>A.shape),1),g=d[0].shape[0]===1,b=aN(h,x,o,g),C=O.computeOutShape(r.map(A=>A.shape),e),k=t.makeTensorInfo(C,o,b);return d.forEach(A=>t.disposeIntermediateTensorInfo(A)),k}let s=r.filter(d=>I.sizeFromShape(d.shape)>0),i=P().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&s[0].shape.length>1;if(s.length===1){let d=i?new Et(r[0].shape,Bo):new lr(r[0].shape,Bo);return t.runWebGLProgram(d,r,o)}let a=P().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(s.length>a){let d=[];for(let x=0;x<s.length;x+=a){let g=s.slice(x,x+a);d.push(Ca(g,e,t))}let h=Ca(d,e,t);for(let x of d)t.disposeIntermediateTensorInfo(x);return h}if(i){let d=new Qd(s.map(h=>h.shape),e);return t.runWebGLProgram(d,s,o)}let{tensors2D:u,outShape:c}=WG(s,e,t),l=new Yd(u.map(d=>d.shape)),p=t.runWebGLProgram(l,u,o);u.forEach(d=>t.disposeIntermediateTensorInfo(d));let f=j({inputs:{x:p},attrs:{shape:c},backend:t});return t.disposeIntermediateTensorInfo(p),f}function WG(r,e,t){let o=O.computeOutShape(r.map(s=>s.shape),e);return{tensors2D:r.map(s=>j({inputs:{x:s},attrs:{shape:[-1,I.sizeFromShape(s.shape.slice(e))]},backend:t})),outShape:o}}function Cb(r){let{inputs:e,backend:t,attrs:o}=r,{axis:n}=o,s=I.parseAxisParam(n,e[0].shape)[0],i=e.map(c=>c.shape);O.assertParamsConsistent(i,s);let a=O.computeOutShape(e.map(c=>c.shape),s);if(I.sizeFromShape(a)===0)return t.makeTensorInfo(a,e[0].dtype,[]);let u=e.filter(c=>I.sizeFromShape(c.shape)>0);return u.length===1?st({inputs:{x:u[0]},backend:t}):Ca(u,s,t)}var sk={kernelName:Vu,backendName:"webgl",kernelFunc:Cb};var Ia=class{constructor(e,t=!1,o=null,n=!1,s=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;let i=e.padInfo.top,a=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,p=e.dilationWidth,f=e.filterHeight,d=e.filterWidth,h=Math.floor(e.inChannels/4)*4,x=e.inChannels%4,g=e.dataFormat==="channelsLast",b=g?1:2,C=g?2:3,k=g?3:1,A="",D="";o&&(n?A=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:s?A=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:A=`
          float activation(float x) {
            ${o}
          }
        `,D="result = activation(result);");let L=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${A}

      const ivec2 strides = ivec2(${u}, ${c});
      const ivec2 pads = ivec2(${i}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${k}];

        ivec2 xRCCorner =
            ivec2(coords[${b}], coords[${C}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${f}; wR++) {
          int xR = xRCorner + wR * ${l};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${d}; wC++) {
            int xC = xCCorner + wC * ${p};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${h}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${g}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${x===1}) {

              if (${g}) {
                dotProd +=
                    getX(batch, xR, xC, ${h}) *
                    getW(wR, wC, ${h}, d2);
              } else {
                dotProd +=
                    getX(batch, ${h}, xR, xC) *
                    getW(wR, wC, ${h}, d2);
              }

            } else if (${x===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${h}, d2),
                getW(wR, wC, ${h} + 1, d2)
              );

              if (${g}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${h}),
                  getX(batch, xR, xC, ${h} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${h}, xR, xC),
                  getX(batch, ${h} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${x===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${h}, d2),
                getW(wR, wC, ${h} + 1, d2),
                getW(wR, wC, ${h} + 2, d2)
              );

              if (${g}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${h}),
                  getX(batch, xR, xC, ${h} + 1),
                  getX(batch, xR, xC, ${h} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${h}, xR, xC),
                  getX(batch, ${h} + 1, xR, xC),
                  getX(batch, ${h} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${L}
        ${D}
        setOutput(result);
      }
    `}},Jd=class{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;let t=e.padInfo.front,o=e.padInfo.top,n=e.padInfo.left,s=e.strideDepth,i=e.strideHeight,a=e.strideWidth,u=e.dilationDepth,c=e.dilationHeight,l=e.dilationWidth,p=e.filterDepth,f=e.filterHeight,d=e.filterWidth,h=Math.floor(e.inChannels/4)*4,x=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${s}, ${i}, ${a});
      const ivec3 pads = ivec3(${t}, ${o}, ${n});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${p}; wF++) {
          int xF = xFCorner + wF * ${u};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${f}; wR++) {
            int xR = xRCorner + wR * ${c};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${d}; wC++) {
              int xC = xCCorner + wC * ${l};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${h}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${x===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${h}) *
                  getW(wF, wR, wC, ${h}, d2);
              } else if (${x===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${h}),
                  getX(batch, xF, xR, xC, ${h} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${h}, d2),
                  getW(wF, wR, wC, ${h} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${x===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${h}),
                  getX(batch, xF, xR, xC, ${h} + 1),
                  getX(batch, xF, xR, xC, ${h} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${h}, d2),
                  getW(wF, wR, wC, ${h} + 1, d2),
                  getW(wF, wR, wC, ${h} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}};var Ea=class{constructor(e,t=!1,o=null,n=!1,s=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Pe(this.outputShape.length);let i=e.padInfo.left,a=e.strideWidth,u=e.dilationWidth,c=e.filterHeight,l=e.filterWidth,p=l,f=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let g=0;g<l;g++)f+=`
           vec4 xTexelC${g*2};
           int xTexelC${g*2}Ready;
           vec4 xTexelC${g*2+1};
           int xTexelC${g*2+1}Ready;
           vec4 xC${g};`;f+=`
     for (int r = 0; r < ${c}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let g=0;g<l;g++)f+=`
           xTexelC${g*2} = vec4(0.0);
           xTexelC${g*2}Ready = 0;
           xTexelC${g*2+1} = vec4(0.0);
           xTexelC${g*2+1}Ready = 0;
           xC${g} = vec4(0.0);`;f+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let g=0;g<(p+1)/2;g++){let b=g*2;if(f+=`
           xC = xCCorner + ${b*u};
           `,a===1){if(b<l&&(i%2===1?(f+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                   xTexelC${b} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${b}.zw = vec2(0.0);
                   }
                   xTexelC${b}Ready = 1;
                 }
               `,u===1&&b>0?f+=`
                 xC${b} = vec4(xTexelC${b-2}.zw, xTexelC${b}.xy);
                 `:f+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${b} = vec4(previous.zw, xTexelC${b}.xy);
                   } else {
                     xC${b} = vec4(0.0, 0.0, xTexelC${b}.xy);
                   }
                   `):f+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                   xTexelC${b} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${b}.zw = vec2(0.0);
                   }
                   xTexelC${b}Ready = 1;
                 }

                 xC${b} = xTexelC${b};
                 `,b+1<l)){let C=i%2===0?I.nearestLargerEven(u):u;u%2===0&&i%2===1||u%2!==0&&i%2!==1?(f+=`
                   xCOffset = xC + imod(pads[1], 2) + ${C};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                     xTexelC${b+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${b+1}.zw = vec2(0.0);
                     }
                     xTexelC${b+1}Ready = 1;
                   }
                   `,u>1?f+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${b+1} = vec4(previous.zw, xTexelC${b+1}.xy);
                     } else {
                      xC${b+1} = vec4(0.0, 0.0, xTexelC${b+1}.xy);
                     }
                     `:f+=`
                     xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.xy);
                     `):C===1?f+=`
                     xC${b+1} = xTexelC${b};
                     `:f+=`
                     xCOffset = xC + ${C};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                       xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${b+1}.zw = vec2(0.0);
                       }
                       xTexelC${b+1}Ready = 1;
                     }

                     xC${b+1} = xTexelC${b+1};
                     `}}else b<l&&(i%2===1?(f+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                   xTexelC${b} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${b}.zw = vec2(0.0);
                   }
                   xTexelC${b}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${b+1}Ready == 0) {
                   xTexelC${b+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${b+1}.zw = vec2(0.0);
                   }
                   xTexelC${b+1}Ready = 1;
                 }

                 xC${b} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
               `,b+1<l&&(f+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${b+1} = vec4(xTexelC${b+1}.xy, final.xy);
                 `)):(f+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                   xTexelC${b} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${b}.zw = vec2(0.0);
                   }
                   xTexelC${b}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                   xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${b+1}.zw = vec2(0.);
                   }
                   xTexelC${b+1}Ready = 1;
                 }

                 xC${b} = vec4(
                   xTexelC${b}.xy, xTexelC${b+1}.xy);
               `,b+1<l&&(f+=`
                   xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
                 `)));b<l&&(f+=`
             wTexel = getW(r, ${b}, d1, d2);
             dotProd += xC${b}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${b}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,b+1<l&&(f+=`
               wTexel = getW(r, ${b+1}, d1, d2);
               dotProd += xC${b+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${b+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}f+=`
     }
   `,f+=`
     }
   `,f+=`
     }
   `;let d="",h="";o&&(n?d=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${o}
         }`:s?d=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${o}
         }`:d=`vec4 activation(vec4 x) {
           ${o}
         }`,h="result = activation(result);");let x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${d}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${f}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${x}
         ${h}
         setOutput(result);
       }
     `}};var eh=class{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Pe(this.outputShape.length);let{dataFormat:o}=t,n=Ze(),s=o==="channelsLast",i=s?1:2,a=s?2:3,u=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`,c="";for(let l=0;l<=1;l++)for(let p=0;p<=1;p++)c+=`
          blockIndex = rc.z + ${p};
          pos = rc.y + ${l};

          ${u}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${i}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${a}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${s}) {
                  innerDims = vec2(d1, ch);
                  result[${l*2+p}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${l*2+p}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${c}

        ${n.output} = result;
      }
    `}};function th(r,e){let t=r.length;return t>=3?e?[...r.slice(0,-3),r[t-3]*r[t-2],r[t-1]]:[...r.slice(0,-3),r[t-3],r[t-2]*r[t-1]]:!e&&t===1&&r[0]>1?[r[0],1]:null}function rh({x:r,filter:e,convInfo:t,backend:o,bias:n=null,preluActivationWeights:s=null,leakyreluAlpha:i=0,activation:a=null}){let u=r.shape,c=o.texData.get(r.dataId),l=t.inChannels,p=u[0]*u[1]*u[2],f=t.outChannels,d=t.dataFormat==="channelsLast",h=!1,x=!1,g,b=[];if(s!=null){let A=th(s.shape,d);A!=null&&(s=j({inputs:{x:s},backend:o,attrs:{shape:A}}),b.push(s))}if(n!=null){let A=th(n.shape,d);A!=null&&(n=j({inputs:{x:n},backend:o,attrs:{shape:A}}),b.push(n))}if(!((p===1||f===1)&&l>vb)&&c.isPacked&&d&&c.texture!=null&&u[2]%2!==0&&I.arraysEqual(c.shape.slice(-3),u.slice(-3))){let A=u[0]*u[1]*(u[2]+1),D={dataId:r.dataId,shape:[1,A,t.inChannels],dtype:r.dtype},L=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,I.assert(ei(c.shape,D.shape),()=>`packed reshape ${c.shape} to ${D.shape} isn't free`);let M=j({inputs:{x:e},backend:o,attrs:{shape:[1,t.inChannels,t.outChannels]}});b.push(M);let V=si({a:D,b:M,backend:o,transposeA:h,transposeB:x,bias:n,activation:a,preluActivationWeights:s,leakyreluAlpha:i}),z=o.texData.get(V.dataId);I.assert(z.isPacked,()=>"batchMatMul result is expected to be packed"),c.shape=L,z.shape=t.outShape,g=st({inputs:{x:V},backend:o}),g.shape=t.outShape,b.push(V)}else{let A=t.outHeight*t.outWidth,D=j({inputs:{x:r},backend:o,attrs:{shape:d?[t.batchSize,A,t.inChannels]:[t.batchSize,t.inChannels,A]}}),L=j({inputs:{x:e},backend:o,attrs:{shape:[1,t.inChannels,t.outChannels]}}),M=si({a:d?D:L,b:d?L:D,transposeA:!d,transposeB:x,backend:o,bias:n,activation:a,preluActivationWeights:s,leakyreluAlpha:i});g=j({inputs:{x:M},backend:o,attrs:{shape:t.outShape}}),b.push(D),b.push(L),b.push(M)}for(let A of b)o.disposeIntermediateTensorInfo(A);return g}function oh({x:r,filter:e,convInfo:t,backend:o,bias:n=null,preluActivationWeights:s=null,leakyreluAlpha:i=0,activation:a=null}){let{filterWidth:u,filterHeight:c,inChannels:l,outWidth:p,outHeight:f,dataFormat:d}=t,h=d==="channelsLast",x=u*c*l,g=f*p,b=[t.batchSize,x,g],C=!0,k=!1,A=[];if(s!=null){let Oe=th(s.shape,h);Oe!=null&&(s=j({inputs:{x:s},backend:o,attrs:{shape:Oe}}),A.push(s))}if(n!=null){let Oe=th(n.shape,h);Oe!=null&&(n=j({inputs:{x:n},backend:o,attrs:{shape:Oe}}),A.push(n))}let D=j({inputs:{x:e},backend:o,attrs:{shape:[1,x,I.sizeFromShape(e.shape)/x]}});A.push(D);let L=new eh(b,t),M=[r.shape,[t.padInfo.top,t.padInfo.left],[t.strideHeight,t.strideWidth],[t.dilationHeight,t.dilationWidth],[t.inChannels],[t.filterWidth*t.inChannels],[t.outWidth]],V=o.runWebGLProgram(L,[r],"float32",M),z=j({inputs:{x:V},backend:o,attrs:{shape:b}});A.push(V),A.push(z);let W=n!=null,H=s!=null,X=a==="leakyrelu",oe=a?sn(a,!0):null,ae=new Ta(h?z.shape:D.shape,h?D.shape:z.shape,h?[t.batchSize,g,t.outChannels]:[t.batchSize,t.outChannels,g],C,k,W,oe,H,X),ce=h?[z,D]:[D,z];if(n&&ce.push(n),H&&ce.push(s),X){let Oe=o.makeTensorInfo([],"float32",I.createScalarValue(i,"float32"));ce.push(Oe),A.push(Oe)}let Se=o.runWebGLProgram(ae,ce,"float32"),Ie=j({inputs:{x:Se},backend:o,attrs:{shape:t.outShape}});A.push(Se);for(let Oe of A)o.disposeIntermediateTensorInfo(Oe);return Ie}function HG(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,filter:s}=e,{strides:i,pad:a,dataFormat:u,dilations:c,dimRoundingMode:l}=o,p=O.convertConv2DDataFormat(u),f=O.computeConv2DInfo(n.shape,s.shape,i,c,a,l,!1,p),d;if(f.filterHeight===1&&f.filterWidth===1&&f.dilationHeight===1&&f.dilationWidth===1&&f.strideHeight===1&&f.strideWidth===1&&(f.padInfo.type==="SAME"||f.padInfo.type==="VALID"))d=rh({x:n,filter:s,convInfo:f,backend:t});else if(f.strideWidth<=2&&p==="channelsLast"&&P().getBool("WEBGL_EXP_CONV")){let x=new Ea(f),g=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];d=t.runWebGLProgram(x,[n,s],"float32",g)}else if(P().getBool("WEBGL_CONV_IM2COL"))d=oh({x:n,filter:s,convInfo:f,backend:t});else{let x=new Ia(f);d=t.runWebGLProgram(x,[n,s],"float32")}let h=j({inputs:{x:d},backend:t,attrs:{shape:f.outShape}});return t.disposeIntermediateTensorInfo(d),h}var ik={kernelName:Uu,backendName:"webgl",kernelFunc:HG};var nh=class{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;let t=e.strideHeight,o=e.strideWidth,n=e.padInfo.top,s=e.padInfo.left,i=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${t} - ${n};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${o} - ${s};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${i?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}},sh=class{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;let t=e.filterHeight,o=e.filterWidth,n=e.strideHeight,s=e.strideWidth,i=e.dataFormat==="channelsLast",a=t-1-e.padInfo.top,u=o-1-e.padInfo.left,c=i?1:2,l=i?2:3,p=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${u});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${p}];

        ivec2 dyCorner = ivec2(coords[${c}], coords[${l}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${o}; wC++) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${o} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${i}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}},ih=class{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;let t=e.strideDepth,o=e.strideHeight,n=e.strideWidth,s=e.padInfo.front,i=e.padInfo.top,a=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${t} - ${s};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${o} - ${i};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${n} - ${a};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}},ah=class{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;let t=e.filterDepth,o=e.filterHeight,n=e.filterWidth,s=e.strideDepth,i=e.strideHeight,a=e.strideWidth,u=t-1-e.padInfo.front,c=o-1-e.padInfo.top,l=n-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${u}, ${c}, ${l});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${t}; wF++) {
          float dyF = float(dyFCorner + wF) / ${s}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${t} - 1 - wF;

          for (int wR = 0; wR < ${o}; wR++) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${o} - 1 - wR;

            for (int wC = 0; wC < ${n}; wC++) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${n} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}};function jG(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,dy:s}=e,{strides:i,pad:a,dataFormat:u,dimRoundingMode:c,filterShape:l}=o,p=O.convertConv2DDataFormat(u),f=O.computeConv2DInfo(n.shape,l,i,1,a,c,!1,p),d=new nh(f);return t.runWebGLProgram(d,[n,s],"float32")}var ak={kernelName:Gu,backendName:"webgl",kernelFunc:jG};var uh=class{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=Pe(this.outputShape.length);let t=e.filterHeight,o=e.filterWidth,n=t-1-e.padInfo.top,s=o-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${n}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${o}; wC++) {
            int wCPerm = ${o} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}};function KG(r){let{inputs:e,backend:t,attrs:o}=r,{dy:n,filter:s}=e,{inputShape:i,strides:a,pad:u,dataFormat:c,dimRoundingMode:l}=o,p=O.convertConv2DDataFormat(c),f=O.computeConv2DInfo(i,s.shape,a,1,u,l,!1,p);if(P().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&p==="channelsLast"){let d=[[f.strideHeight,f.strideWidth]],h=new uh(f);return t.runWebGLProgram(h,[n,s],"float32",d)}else{let d=new sh(f);return t.runWebGLProgram(d,[n,s],"float32")}}var uk={kernelName:zu,backendName:"webgl",kernelFunc:KG};function qG(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,filter:s}=e,{strides:i,pad:a,dilations:u}=o,c=O.computeConv3DInfo(n.shape,s.shape,i,u,a),l=new Jd(c);return t.runWebGLProgram(l,[n,s],"float32")}var ck={kernelName:Wu,backendName:"webgl",kernelFunc:qG};function XG(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,dy:s}=e,{strides:i,pad:a,filterShape:u}=o,c=O.computeConv3DInfo(n.shape,u,i,1,a),l=new ih(c);return t.runWebGLProgram(l,[n,s],"float32")}var lk={kernelName:Wg,backendName:"webgl",kernelFunc:XG};function YG(r){let{inputs:e,backend:t,attrs:o}=r,{dy:n,filter:s}=e,{pad:i,strides:a,inputShape:u}=o,c=O.computeConv3DInfo(u,s.shape,a,1,i),l=new ah(c);return t.runWebGLProgram(l,[n,s],"float32")}var pk={kernelName:Hu,backendName:"webgl",kernelFunc:YG};var ZG=jr+`
  return cos(x);
`,QG=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${kr}
  return result;
`,JG=re({opSnippet:ZG,packedOpSnippet:QG}),fk={kernelName:ju,backendName:"webgl",kernelFunc:JG};var ez=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,tz=re({opSnippet:ez}),mk={kernelName:Ku,backendName:"webgl",kernelFunc:tz};var ch=class{constructor(e,t,o,n,s){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];let[i,a,u,c]=e,[l]=t,[p,f]=o;this.outputShape=[l,p,f,c];let d=n==="bilinear"?1:0,[h,x]=[`${a-1}.0`,`${u-1}.0`],[g,b,C]=p>1?[`${(a-1)/(p-1)}`,"(y2-y1) * height_ratio",`y1*${h} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${h}`],[k,A,D]=f>1?[`${(u-1)/(f-1)}`,"(x2-x1) * width_ratio",`x1*${x} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${x}`];this.userCode=`
      const float height_ratio = float(${g});
      const float width_ratio = float(${k});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${i}) {
          return;
        }

        float height_scale = ${b};
        float width_scale = ${A};

        float in_y = ${C};
        if( in_y < 0.0 || in_y > ${h} ) {
          setOutput(float(${s}));
          return;
        }
        float in_x = ${D};
        if( in_x < 0.0 || in_x > ${x} ) {
          setOutput(float(${s}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${d} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}};var rz=r=>{let{inputs:e,backend:t,attrs:o}=r,{image:n,boxes:s,boxInd:i}=e,{cropSize:a,method:u,extrapolationValue:c}=o,l=new ch(n.shape,s.shape,a,u,c);return t.runWebGLProgram(l,[n,s,i],"float32")},dk={kernelName:Yu,backendName:"webgl",kernelFunc:rz};var ai;(function(r){r.Prod="*",r.Sum="+"})(ai||(ai={}));var Jp=class{constructor(e,t,o,n){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];let s=this.outputShape.length,i=this.op===ai.Prod?"1.0":"0.0",a=o?i:`getX(${hk(s,"coords",this.op)})`,u=this.outputShape[this.outputShape.length-1],c="",l="";o?(c=n?`end != ${u-1}`:"end != 0",l=n?"end + 1":"end - 1"):(c=n?`end + pow2 < ${u}`:"end >= pow2",l=n?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${pe(s)} coords = getOutputCoords();
        int end = ${gk(s,"coords",this.op)};
        float val = ${a};
        int pow2 = int(pow(2.0, index));
        if (${c}) {
          int idx = ${l};
          ${gk(s,"coords",this.op)} = idx;
          val ${this.op}= getX(${hk(s,"coords",this.op)});
        }
        setOutput(val);
      }
    `}};function hk(r,e,t){if(r===1)return`${e}`;if(r===2)return`${e}.x, ${e}.y`;if(r===3)return`${e}.x, ${e}.y, ${e}.z`;if(r===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${t} for rank ${r} is not yet supported`)}function gk(r,e,t){if(r===1)return`${e}`;if(r===2)return`${e}.y`;if(r===3)return`${e}.z`;if(r===4)return`${e}.w`;throw new Error(`Cumulative ${t} for rank ${r} is not yet supported`)}function lh(r,e,t,o,n,s){let i=e.shape.length,a=O.getAxesPermutation([o],i),u=e;a!=null&&(u=Ke({inputs:{x:e},backend:t,attrs:{perm:a}}));let c=O.getInnerMostAxes(1,i)[0];if(c!==i-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${o}`);let l=u.shape[c],p=st({inputs:{x:u},backend:t});for(let f=0;f<=Math.ceil(Math.log2(l))-1;f++){let d=new Jp(r,u.shape,!1,s),h=[[f]],x=p;p=t.runWebGLProgram(d,[p],p.dtype,h),t.disposeIntermediateTensorInfo(x)}if(n){let f=new Jp(r,u.shape,n,s),d=p;p=t.runWebGLProgram(f,[p],p.dtype),t.disposeIntermediateTensorInfo(d)}if(a!=null){let f=O.getUndoAxesPermutation(a),d=Ke({inputs:{x:p},backend:t,attrs:{perm:f}});return t.disposeIntermediateTensorInfo(p),t.disposeIntermediateTensorInfo(u),d}return p}function oz(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{axis:s,exclusive:i,reverse:a}=o;return lh(ai.Prod,n,t,s,i,a)}var xk={kernelName:qu,backendName:"webgl",kernelFunc:oz};function nz(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{axis:s,exclusive:i,reverse:a}=o;return lh(ai.Sum,n,t,s,i,a)}var yk={kernelName:Xu,backendName:"webgl",kernelFunc:nz};function sz(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,weights:s}=e,{size:i,binaryOutput:a}=o;if(n.shape.length===1){let u=t.readSync(n.dataId),c=t.readSync(s.dataId),l=Id(u,c,s.dtype,s.shape,i);return t.makeTensorInfo([i],s.dtype,l)}else if(n.shape.length===2){let u=t.bufferSync(n),c=t.bufferSync(s),l=oN(u,c,i,a);return t.makeTensorInfo(l.shape,s.dtype,l.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${n.shape.length}.`)}var bk={kernelName:Zu,backendName:"webgl",kernelFunc:sz};var ph=class{constructor(e,t,o){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=o,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${t};
      int offset_h = imod(h, ${t});
      int in_w = w / ${t};
      int offset_w = imod(w, ${t});
      int offset_d = (offset_h * ${t} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}};function iz(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{blockSize:s,dataFormat:i}=o,a=n.shape[0],u=i==="NHWC"?n.shape[1]:n.shape[2],c=i==="NHWC"?n.shape[2]:n.shape[3],l=i==="NHWC"?n.shape[3]:n.shape[1],p=u*s,f=c*s,d=l/(s*s),h=i==="NHWC"?[a,p,f,d]:[a,d,p,f],x=new ph(h,s,i);return t.runWebGLProgram(x,[n],n.dtype)}var vk={kernelName:Qu,backendName:"webgl",kernelFunc:iz};var Na=class{constructor(e,t=!1,o=null,n=!1,s=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Pe(this.outputShape.length);let i=e.filterHeight,a=e.filterWidth,u=e.outChannels/e.inChannels,c="",l="";o&&(n?c=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:s?c=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:c=`
          float activation(float x) {
            ${o}
          }
        `,l="result = activation(result);");let p=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${c}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${u};
        int q = d2 - d1 * ${u};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${i}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${a}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${p}
        ${l}
        setOutput(result);
      }
    `}};var $a=class{constructor(e,t=!1,o=null,n=!1,s=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Pe(this.outputShape.length);let i=e.outChannels/e.inChannels,a=e.padInfo.left,u=e.strideWidth,c=e.dilationWidth,l=e.filterHeight,p=e.filterWidth,f=p,d=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let b=0;b<p;b++)d+=`
          vec4 xTexelC${b*2};
          int xTexelC${b*2}Ready;
          vec4 xTexelC${b*2+1};
          int xTexelC${b*2+1}Ready;
          vec4 xC${b};`;d+=`
    for (int r = 0; r < ${l}; r++) {
      `;for(let b=0;b<p;b++)d+=`
          xTexelC${b*2} = vec4(0.0);
          xTexelC${b*2}Ready = 0;
          xTexelC${b*2+1} = vec4(0.0);
          xTexelC${b*2+1}Ready = 0;
          xC${b} = vec4(0.0);`;d+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let b=0;b<(f+1)/2;b++){let C=b*2;if(d+=`
          xC = xCCorner + ${C*c};
          `,u===1){if(C<p&&(a%2===1?(d+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${C}Ready == 0) {
                  xTexelC${C} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${C}.zw = vec2(0.0);
                  }
                  xTexelC${C}Ready = 1;
                }
              `,c===1&&C>0?d+=`
                xC${C} = vec4(xTexelC${C-2}.zw, xTexelC${C}.xy);
                `:d+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${C} = vec4(previous.zw, xTexelC${C}.xy);
                  } else {
                    xC${C} = vec4(0.0, 0.0, xTexelC${C}.xy);
                  }
                  `):d+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${C}Ready == 0) {
                  xTexelC${C} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${C}.zw = vec2(0.0);
                  }
                  xTexelC${C}Ready = 1;
                }

                xC${C} = xTexelC${C};
                `,C+1<p)){let k=a%2===0?I.nearestLargerEven(c):c;c%2===0&&a%2===1||c%2!==0&&a%2!==1?(d+=`
                  xCOffset = xC + imod(pads[1], 2) + ${k};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${C+1}Ready == 0) {
                    xTexelC${C+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${C+1}.zw = vec2(0.0);
                    }
                    xTexelC${C+1}Ready = 1;
                  }
                  `,c>1?d+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${C+1} = vec4(previous.zw, xTexelC${C+1}.xy);
                    } else {
                     xC${C+1} = vec4(0.0, 0.0, xTexelC${C+1}.xy);
                    }
                    `:d+=`
                    xC${C+1} = vec4(xTexelC${C}.zw, xTexelC${C+1}.xy);
                    `):k===1?d+=`
                    xC${C+1} = xTexelC${C};
                    `:d+=`
                    xCOffset = xC + ${k};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${C+1}Ready == 0) {
                      xTexelC${C+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${C+1}.zw = vec2(0.0);
                      }
                      xTexelC${C+1}Ready = 1;
                    }

                    xC${C+1} = xTexelC${C+1};
                    `}}else C<p&&(a%2===1?(d+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${C}Ready == 0) {
                  xTexelC${C} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${C}.zw = vec2(0.0);
                  }
                  xTexelC${C}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${C+1}Ready == 0) {
                  xTexelC${C+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${C+1}.zw = vec2(0.0);
                  }
                  xTexelC${C+1}Ready = 1;
                }

                xC${C} = vec4(xTexelC${C}.zw, xTexelC${C+1}.zw);
              `,C+1<p&&(d+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${C+1} = vec4(xTexelC${C+1}.xy, final.xy);
                `)):(d+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${C}Ready == 0) {
                  xTexelC${C} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${C}.zw = vec2(0.0);
                  }
                  xTexelC${C}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${C+1}Ready == 0) {
                  xTexelC${C+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${C+1}.zw = vec2(0.);
                  }
                  xTexelC${C+1}Ready = 1;
                }

                xC${C} = vec4(
                  xTexelC${C}.xy, xTexelC${C+1}.xy);
              `,C+1<p&&(d+=`
                  xC${C+1} = vec4(xTexelC${C}.zw, xTexelC${C+1}.zw);
                `)));C<p&&(d+=`
            wTexel = getW(r, ${C}, d1, q);
            dotProd += xC${C} * vec4(wTexel.xz, wTexel.xz);
          `,C+1<p&&(d+=`
              wTexel = getW(r, ${C+1}, d1, q);
              dotProd += xC${C+1} * vec4(wTexel.xz, wTexel.xz);
            `))}d+=`
    }
  `,d+=`
      }
    `;let h="",x="";o&&(n?h=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:s?h=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:h=`vec4 activation(vec4 x) {
          ${o}
        }`,x="result = activation(result);");let g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${h}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${i};
        int q = d2 - d1 * ${i};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${d}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${g}
        ${x}
        setOutput(result);
      }
    `}};function az(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,filter:s}=e,{strides:i,pad:a,dilations:u,dimRoundingMode:c}=o,l=u;l==null&&(l=[1,1]),I.assert(O.eitherStridesOrDilationsAreOne(i,l),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${l}'`);let p=O.computeConv2DInfo(n.shape,s.shape,i,l,a,c,!0),f;P().getBool("WEBGL_PACK_DEPTHWISECONV")&&p.strideWidth<=2&&p.outChannels/p.inChannels===1?f=new $a(p):f=new Na(p);let d=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];return t.runWebGLProgram(f,[n,s],"float32",d)}var wk={kernelName:Ju,backendName:"webgl",kernelFunc:az};var fh=class{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;let t=e.strideHeight,o=e.strideWidth,n=e.padInfo.top,s=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${i} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${t} - ${n};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${o} - ${s};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}},mh=class{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;let t=e.filterHeight,o=e.filterWidth,n=e.strideHeight,s=e.strideWidth,i=t-1-e.padInfo.top,a=o-1-e.padInfo.left,u=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${i}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${o}; wC++) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${o} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${u}; dm++) {
              int d2 = d1 * ${u} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}};function uz(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,dy:s}=e,{strides:i,dilations:a,pad:u,dimRoundingMode:c,filterShape:l}=o,p=O.computeConv2DInfo(n.shape,l,i,a,u,c,!0),f=new fh(p);return t.runWebGLProgram(f,[n,s],"float32")}var Sk={kernelName:ec,backendName:"webgl",kernelFunc:uz};function cz(r){let{inputs:e,backend:t,attrs:o}=r,{dy:n,filter:s}=e,{strides:i,dilations:a,pad:u,dimRoundingMode:c,inputShape:l}=o,p=O.computeConv2DInfo(l,s.shape,i,a,u,c,!0),f=new mh(p);return t.runWebGLProgram(f,[n,s],"float32")}var Tk={kernelName:tc,backendName:"webgl",kernelFunc:cz};var dh=class{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}};function lz(r){let{inputs:e,backend:t}=r,{x:o}=e,n=[...o.shape,...o.shape],s=I.sizeFromShape(o.shape),i=j({inputs:{x:o},backend:t,attrs:{shape:[s]}}),a=new dh(s),u=t.runWebGLProgram(a,[i],i.dtype),c=j({inputs:{x:u},backend:t,attrs:{shape:n}});return t.disposeIntermediateTensorInfo(i),t.disposeIntermediateTensorInfo(u),c}var Ck={kernelName:rc,backendName:"webgl",kernelFunc:lz};var hh=class{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;let{inHeight:t,inWidth:o,padInfo:n,strideHeight:s,strideWidth:i,filterHeight:a,filterWidth:u,dilationHeight:c,dilationWidth:l}=e,{top:p,left:f}=n;this.userCode=`
      const ivec2 strides = ivec2(${s}, ${i});
      const ivec2 pads = ivec2(${p}, ${f});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${a}; h++) {
          int hIn = hBeg + h * ${c};

          if (hIn >= 0 && hIn < ${t}) {
            for (int w = 0; w < ${u}; w++) {
              int wIn = wBeg + w * ${l};

              if (wIn >= 0 && wIn < ${o}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}};function pz(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,filter:s}=e,{strides:i,pad:a,dilations:u}=o,c=O.computeDilation2DInfo(n.shape,s.shape,i,a,"NHWC",u),l,p=new hh(c);l=t.runWebGLProgram(p,[n,s],"float32");let f=j({inputs:{x:l},backend:t,attrs:{shape:c.outShape}});return t.disposeIntermediateTensorInfo(l),f}var Ik={kernelName:oc,backendName:"webgl",kernelFunc:pz};function fz(r){let{inputs:e,backend:t,attrs:o}=r,{equation:n}=o,s=e,{allDims:i,summedDims:a,idDims:u}=O.decodeEinsumEquation(n,s.length);O.checkEinsumDimSizes(i.length,u,s);let{path:c,steps:l}=O.getEinsumComputePath(a,u),p=l.length,f=null,d=i.length,h=[];for(let x=0;x<p;++x){for(let g of l[x]){let{permutationIndices:b,expandDims:C}=O.getEinsumPermutation(d,u[g]),k;O.isIdentityPermutation(b)?k=s[g]:(k=Ke({inputs:{x:s[g]},backend:t,attrs:{perm:b}}),h.push(k));let A=k.shape.slice();for(let D=0;D<C.length;++D)A.splice(C[D],0,1);I.arraysEqual(k.shape,A)||(k=j({inputs:{x:k},backend:t,attrs:{shape:A}}),h.push(k)),f===null?f=k:(f=Zp({inputs:{a:k,b:f},backend:t}),h.push(f))}x<p-1&&(c[x]>=0&&(f=ni({inputs:{x:f},backend:t,attrs:{axis:c[x]-(i.length-d),keepDims:!1}}),h.push(f)),d--)}for(let x of h)x!==f&&t.disposeIntermediateTensorInfo(x);return f}var Ek={kernelName:sc,backendName:"webgl",kernelFunc:fz};var mz="return (x >= 0.0) ? x : (exp(x) - 1.0);",dz=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,hz=re({opSnippet:mz,packedOpSnippet:dz}),Nk={kernelName:ic,backendName:"webgl",kernelFunc:hz};var gz="return (b >= 0.0) ? a : a * (b + 1.0);",xz=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,yz=r=>{let{inputs:e,backend:t}=r,{dy:o,y:n}=e,s=P().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $r(xz,o.shape,n.shape):new pr(gz,o.shape,n.shape);return t.runWebGLProgram(s,[o,n],o.dtype)},$k={kernelName:Hg,backendName:"webgl",kernelFunc:yz};var bz=`
  return vec4(equal(a, b));
`,vz="return float(a == b);",wz=Fe({opSnippet:vz,packedOpSnippet:bz,dtype:"bool",cpuKernelImpl:uN}),kk={kernelName:us,backendName:"webgl",kernelFunc:wz};var Sz=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${O.ERF_P};
  float a1 = ${O.ERF_A1};
  float a2 = ${O.ERF_A2};
  float a3 = ${O.ERF_A3};
  float a4 = ${O.ERF_A4};
  float a5 = ${O.ERF_A5};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,Tz=re({opSnippet:Sz}),Ak={kernelName:ac,backendName:"webgl",kernelFunc:Tz};var Cz=jr+`
  return exp(x);
`,Iz=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Ib=re({opSnippet:Cz,packedOpSnippet:Iz,cpuKernelImpl:cN,dtype:"float32"}),Rk={kernelName:cs,backendName:"webgl",kernelFunc:Ib};function gh(r){let{inputs:e,attrs:t,backend:o}=r,{dim:n}=t,{input:s}=e,i=s.shape.length,a=s.shape.slice(),u=n;return n<0&&(I.assert(-(i+1)<=n,()=>`Axis must be in the interval [${-(i+1)}, ${i}]`),u=i+n+1),a.splice(u,0,1),j({inputs:{x:s},backend:o,attrs:{shape:a}})}var _k={kernelName:uc,backendName:"webgl",kernelFunc:gh};var Ok="return exp(x) - 1.0;",Ez=re({opSnippet:Ok,packedOpSnippet:Ok,cpuKernelImpl:lN}),Dk={kernelName:ls,backendName:"webgl",kernelFunc:Ez};var ef=class{constructor(e,t,o){this.variableNames=["real","imag"];let n=t[1];this.outputShape=t;let s=o?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,i=o?`${n}.0`:"1.0",a;if(e==="real")a="return real * expR - imag * expI;";else if(e==="imag")a="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${s};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${a}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${n});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${n}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${i};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}};function xh(r,e,t){let o=t.texData.get(r.dataId),n=I.sizeFromShape(r.shape),s=r.shape[r.shape.length-1],i=n/s,a=j({inputs:{x:r},backend:t,attrs:{shape:[i,s]}}),u=a.shape,c=new ef("real",u,e),l=new ef("imag",u,e),p=[{dataId:o.complexTensorInfos.real.dataId,dtype:o.complexTensorInfos.real.dtype,shape:u},{dataId:o.complexTensorInfos.imag.dataId,dtype:o.complexTensorInfos.imag.dtype,shape:u}],f=t.runWebGLProgram(c,p,"float32"),d=t.runWebGLProgram(l,p,"float32"),h=fr({inputs:{real:f,imag:d},backend:t});t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(d);let x=j({inputs:{x:h},backend:t,attrs:{shape:r.shape}});return t.disposeIntermediateTensorInfo(a),t.disposeIntermediateTensorInfo(h),x}function Nz(r){let{inputs:e,backend:t}=r,{input:o}=e;return xh(o,!1,t)}var Fk={kernelName:cc,backendName:"webgl",kernelFunc:Nz};var yh=class{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}};function un(r){let{backend:e,attrs:t}=r,{shape:o,value:n}=t,{dtype:s}=t;if(s=s||I.inferDtype(n),s==="string"){let i=I.getArrayFromDType(s,I.sizeFromShape(o));return i.fill(n),e.makeTensorInfo(o,s,i)}else{let i=new yh(o,n),a=[[n]];return e.runWebGLProgram(i,[],s,a)}}var Pk={kernelName:lc,backendName:"webgl",kernelFunc:un};var bh=class{constructor(e){this.variableNames=["Image"],this.outputShape=[];let t=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${t} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${t}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}};var Lk={kernelName:pc,backendName:"webgl",kernelFunc:({inputs:r,backend:e})=>{let{image:t}=r,o=e,n=new bh(t.shape);return o.runWebGLProgram(n,[t],t.dtype)}};var Bk="return floor(x);",$z=re({opSnippet:Bk,packedOpSnippet:Bk,cpuKernelImpl:pN}),Mk={kernelName:ps,backendName:"webgl",kernelFunc:$z};var kz=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,Az=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,Rz=Fe({opSnippet:kz,packedOpSnippet:Az,dtype:"int32"}),Vk={kernelName:fs,backendName:"webgl",kernelFunc:Rz};var vh=class{constructor(e){this.variableNames=["A"];let t=Ze(),[o,n]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${n}.0, ${o}.0);

        vec4 values = ${t.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}};var wh=class{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;let t=Ze(),[o,n]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${n}.0, ${o}.0);
            vec4 values = ${t.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${t.output} = result;
      }
    `}};var Uk={kernelName:Pi,backendName:"webgl",kernelFunc:_z},ka,Eb=P().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function _z(r){let{inputs:e,backend:t,attrs:o}=r,{pixels:n}=e,{numChannels:s}=o,i=typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement,a=typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement,[u,c]=i?[n.videoWidth,n.videoHeight]:[n.width,n.height],l=[c,u],p=[c,u,s];if(a||i){let x=P().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(ka==null||x!==Eb)&&(Eb=x,ka=document.createElement("canvas").getContext("2d",{willReadFrequently:Eb})),ka.canvas.width=u,ka.canvas.height=c,ka.drawImage(n,0,0,u,c),n=ka.canvas}let f=t.makeTensorInfo(l,"int32");t.texData.get(f.dataId).usage=Ot.PIXELS,t.gpgpu.uploadPixelDataToTexture(t.getTexture(f.dataId),n);let d=P().getBool("WEBGL_PACK")?new wh(p):new vh(p),h=t.runWebGLProgram(d,[f],"int32");return t.disposeData(f.dataId),h}function Oz(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,filter:s,bias:i,preluActivationWeights:a}=e,{strides:u,pad:c,dataFormat:l,dilations:p,dimRoundingMode:f,activation:d,leakyreluAlpha:h}=o,x=O.convertConv2DDataFormat(l),g=O.computeConv2DInfo(n.shape,s.shape,u,p,c,f,!1,x),b,C=[],k=i!=null,A=a!=null,D=d==="leakyrelu",L=()=>{let V=[n,s],z=(W,H)=>{if(H==="NCHW"&&W.shape.length===1&&W.shape[0]!==1){let X=j({inputs:{x:W},backend:t,attrs:{shape:[W.shape[0],1,1]}});return C.push(X),X}return W};if(k&&V.push(z(i,l)),A&&V.push(z(a,l)),D){let W=t.makeTensorInfo([],"float32",I.createScalarValue(h,"float32"));V.push(W),C.push(W)}return V};if(g.filterHeight===1&&g.filterWidth===1&&g.dilationHeight===1&&g.dilationWidth===1&&g.strideHeight===1&&g.strideWidth===1&&(g.padInfo.type==="SAME"||g.padInfo.type==="VALID"))b=rh({x:n,filter:s,convInfo:g,backend:t,bias:i,activation:d,preluActivationWeights:a,leakyreluAlpha:h});else if(g.strideWidth<=2&&x==="channelsLast"&&P().getBool("WEBGL_EXP_CONV")){let V=d?sn(d,!0):null,z=new Ea(g,k,V,A,D),W=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],H=L();b=t.runWebGLProgram(z,H,"float32",W)}else if(P().getBool("WEBGL_CONV_IM2COL"))b=oh({x:n,filter:s,convInfo:g,backend:t,bias:i,activation:d,preluActivationWeights:a,leakyreluAlpha:h});else{let V=d?sn(d,!1):null,z=new Ia(g,k,V,A,D),W=L();b=t.runWebGLProgram(z,W,"float32")}let M=j({inputs:{x:b},backend:t,attrs:{shape:g.outShape}});return C.push(b),C.forEach(V=>t.disposeIntermediateTensorInfo(V)),M}var Gk={kernelName:Bi,backendName:"webgl",kernelFunc:Oz};function Dz(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,filter:s,bias:i,preluActivationWeights:a}=e,{strides:u,pad:c,dilations:l,dimRoundingMode:p,activation:f,leakyreluAlpha:d}=o,h=[],x=l;x==null&&(x=[1,1]),I.assert(O.eitherStridesOrDilationsAreOne(u,x),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${u} and dilations '${x}'`);let g=O.computeConv2DInfo(n.shape,s.shape,u,x,c,p,!0),b=P().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,C=f?sn(f,b):null,k=[n,s],A=i!=null,D=a!=null,L=f==="leakyrelu";if(A&&k.push(i),D&&k.push(a),L){let W=t.makeTensorInfo([],"float32",I.createScalarValue(d,"float32"));k.push(W),h.push(W)}let M;b?M=new $a(g,A,C,D,L):M=new Na(g,A,C,D,L);let V=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],z=t.runWebGLProgram(M,k,"float32",V);return h.forEach(W=>t.disposeIntermediateTensorInfo(W)),z}var zk={kernelName:Mi,backendName:"webgl",kernelFunc:Dz};var Sh=class{constructor(e,t,o,n){this.sliceDim=e,this.strides=t,this.paramsShape=n,this.variableNames=["x","indices"],this.outputShape=o;let s=pe(o.length),i=`
    int index;`;for(let a=0;a<this.sliceDim;a++)i+=`
          index = round(getIndices(coords[0], ${a}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[a]};
          flattenIndex += index * ${this.strides[a]};`;this.userCode=`
         void main() {
          ${s} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${i}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}};function Fz(r){let{inputs:e,backend:t}=r,{params:o,indices:n}=e,s=n.shape,i=s[s.length-1],a=I.sizeFromShape(o.shape),[u,c,l,p]=O.prepareAndValidate(o,n),f=j({inputs:{x:n},backend:t,attrs:{shape:[c,i]}}),d=j({inputs:{x:o},backend:t,attrs:{shape:[I.sizeFromShape(o.shape)/l,l]}});if(t.shouldExecuteOnCPU([o,n])||o.dtype==="string"){let b=t.readSync(n.dataId),C=t.bufferSync(o),k=fN(b,C,o.dtype,c,i,l,p,o.shape,a);return t.makeTensorInfo(u,o.dtype,k.values)}let h=new Sh(i,p,[c,l],o.shape),x=t.runWebGLProgram(h,[d,f],d.dtype),g=j({inputs:{x},backend:t,attrs:{shape:u}});return t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(d),t.disposeIntermediateTensorInfo(x),g}var Wk={kernelName:dc,backendName:"webgl",kernelFunc:Fz};var Th=class{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;let o=pe(this.rank),n=Pz(e,2);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${n}));
      }
    `}};function Pz(r,e){let t=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[];for(let n=0;n<r.length;n++)n===2?o.push("index"):o.push(`${t[n]}`);return o.join()}function Nb(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,indices:s}=e,{axis:i,batchDims:a}=o,u=I.parseAxisParam(i,n.shape)[0];if(P().get("DEBUG")){let C=t.readSync(s.dataId),k=n.shape[u];for(let A=0;A<C.length;++A){let D=C[A];I.assert(D<=k-1&&D>=0,()=>`GatherV2: the index value ${D} is not in [0, ${k-1}]`)}}let c=O.segment_util.collectGatherOpShapeInfo(n,s,u,a),l=I.sizeFromShape(s.shape),p=[],f=j({inputs:{x:n},backend:t,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),d=j({inputs:{x:s},backend:t,attrs:{shape:[c.batchSize,l/c.batchSize]}});p.push(f),p.push(d);let h=[c.batchSize,c.outerSize,l/c.batchSize,c.sliceSize];if(t.shouldExecuteOnCPU([n,s])||n.dtype==="string"){let C=t.bufferSync(d),k=t.bufferSync(f),A=mN(k,C,h);return p.forEach(D=>t.disposeIntermediateTensorInfo(D)),t.makeTensorInfo(c.outputShape,A.dtype,A.values)}let x=new Th(f.shape,h),g=t.runWebGLProgram(x,[f,d],f.dtype);p.push(g);let b=j({inputs:{x:g},backend:t,attrs:{shape:c.outputShape}});return p.forEach(C=>t.disposeIntermediateTensorInfo(C)),b}var Hk={kernelName:mc,backendName:"webgl",kernelFunc:Nb};var Lz="return float(a > b);",Bz=`
  return vec4(greaterThan(a, b));
`,Mz=Fe({opSnippet:Lz,packedOpSnippet:Bz,cpuKernelImpl:dN,dtype:"bool"}),jk={kernelName:ms,backendName:"webgl",kernelFunc:Mz};var Vz="return float(a >= b);",Uz=`
  return vec4(greaterThanEqual(a, b));
`,Gz=Fe({opSnippet:Vz,packedOpSnippet:Uz,dtype:"bool",cpuKernelImpl:hN}),Kk={kernelName:ds,backendName:"webgl",kernelFunc:Gz};function zz(r){let{inputs:e,backend:t}=r,{input:o}=e;return xh(o,!0,t)}var qk={kernelName:hc,backendName:"webgl",kernelFunc:zz};var Wz="return float(!isnan(x) && !isinf(x));",Hz=re({opSnippet:Wz,dtype:"bool"}),Xk={kernelName:xc,backendName:"webgl",kernelFunc:Hz};var jz="return float(isinf(x));",Kz=re({opSnippet:jz,dtype:"bool"}),Yk={kernelName:yc,backendName:"webgl",kernelFunc:Kz};var qz="return float(isnan(x));",Xz=re({opSnippet:qz,dtype:"bool"}),Zk={kernelName:bc,backendName:"webgl",kernelFunc:Xz};var Yz="return float(a < b);",Zz=`
  return vec4(lessThan(a, b));
`,Qz=Fe({opSnippet:Yz,packedOpSnippet:Zz,cpuKernelImpl:gN,dtype:"bool"}),Qk={kernelName:hs,backendName:"webgl",kernelFunc:Qz};var Jz="return float(a <= b);",eW=`
  return vec4(lessThanEqual(a, b));
`,tW=Fe({opSnippet:Jz,packedOpSnippet:eW,cpuKernelImpl:xN,dtype:"bool"}),Jk={kernelName:gs,backendName:"webgl",kernelFunc:tW};function rW(r){let{backend:e,attrs:t}=r,{start:o,stop:n,num:s}=t,i=yN(o,n,s);return e.makeTensorInfo([i.length],"float32",i)}var eA={kernelName:wc,backendName:"webgl",kernelFunc:rW};var oW=jr+`
  return x < 0.0 ? 0./0. : log(x);
`,nW=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,sW=re({opSnippet:oW,packedOpSnippet:nW,cpuKernelImpl:bN}),tA={kernelName:xs,backendName:"webgl",kernelFunc:sW};var iW=jr+`
  return log(1.0 + x);
`,aW=re({opSnippet:iW}),rA={kernelName:Sc,backendName:"webgl",kernelFunc:aW};var uW="return float(a >= 1.0 && b >= 1.0);",cW=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,lW=Fe({opSnippet:uW,packedOpSnippet:cW,dtype:"bool"}),oA={kernelName:Tc,backendName:"webgl",kernelFunc:lW};var pW="return float(!(x >= 1.0));",fW=re({opSnippet:pW}),nA={kernelName:Cc,backendName:"webgl",kernelFunc:fW};var mW="return float(a >= 1.0 || b >= 1.0);",dW=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,hW=Fe({opSnippet:mW,packedOpSnippet:dW,dtype:"bool"}),sA={kernelName:Ic,backendName:"webgl",kernelFunc:hW};var Ch=class{constructor(e,t,o,n,s){this.variableNames=["x"],this.outputShape=[];let i=t,a=e[3]-1;this.outputShape=e;let u,c=`float(${o}) + float(${n}) * sum`;s===.5?u=`inversesqrt(${c})`:s===1?u=`1.0/(${c})`:u=`exp(log(${c}) * float(-${s}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${i}; j <= ${i}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${a}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${u};
        setOutput(val);
      }
    `}};var Ih=class{constructor(e,t,o,n,s){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;let i=t,a=e[3]-1;this.outputShape=e;let u,c=`float(${o}) + float(${n}) * sum`;s===.5?u=`inversesqrt(${c})`:s===1?u=`1.0/(${c})`:u=`exp(log(${c}) * float(-${s}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${i};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${i}; j <= ${i}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${u};
        setOutput(result);
      }
    `}};var gW=r=>{let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{depthRadius:s,bias:i,alpha:a,beta:u}=o,c=P().getBool("WEBGL_PACK_NORMALIZATION")?new Ih(n.shape,s,i,a,u):new Ch(n.shape,s,i,a,u);return t.runWebGLProgram(c,[n],n.dtype)},iA={kernelName:Ec,backendName:"webgl",kernelFunc:gW};var Eh=class{constructor(e,t,o,n,s){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=o,this.alpha=n,this.beta=s,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${t})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${t} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${n}) * norm + float(${o});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${n})
                * float(${s})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${s});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}};var xW=r=>{let{inputs:e,backend:t,attrs:o}=r,{x:n,y:s,dy:i}=e,{depthRadius:a,bias:u,alpha:c,beta:l}=o,p=new Eh(n.shape,a,u,c,l);return t.runWebGLProgram(p,[n,s,i],n.dtype)},aA={kernelName:jg,backendName:"webgl",kernelFunc:xW};function uA(r,e,t,o){let n=I.sizeFromShape(e),i=I.sizeFromShape(r.shape)/n,a=j({inputs:{x:r},attrs:{shape:[i,n]},backend:o}),u=Ar(a,r.dtype,"max",o),c=j({inputs:{x:u},attrs:{shape:t},backend:o});return o.disposeIntermediateTensorInfo(a),o.disposeIntermediateTensorInfo(u),c}function $b(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{reductionIndices:s,keepDims:i}=o,a=n.shape.length,u=I.parseAxisParam(s,n.shape),c=u,l=O.getAxesPermutation(c,a),p=l!=null,f=t.shouldExecuteOnCPU([n]),d=n;if(p){if(f){let k=t.texData.get(d.dataId).values,A=new Array(a);for(let M=0;M<A.length;M++)A[M]=n.shape[l[M]];let D=oi(k,n.shape,n.dtype,l,A);d=t.makeTensorInfo(A,n.dtype);let L=t.texData.get(d.dataId);L.values=D}else d=Un(n,l,t);c=O.getInnerMostAxes(c.length,a)}O.assertAxesAreInnerMostDims("max",c,a);let[h,x]=O.computeOutAndReduceShapes(d.shape,c),g=h;i&&(g=O.expandShapeToKeepDim(h,u));let b;if(f){let k=t.texData.get(d.dataId).values,A=vN(k,I.sizeFromShape(x),g,n.dtype);b=t.makeTensorInfo(g,n.dtype);let D=t.texData.get(b.dataId);D.values=A}else b=uA(d,x,g,t);return p&&t.disposeIntermediateTensorInfo(d),b}var cA={kernelName:Nc,backendName:"webgl",kernelFunc:$b};var yW=Sa+`
  return max(a, b);
`,bW=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+kr+`
  return result;
`,vW=Fe({opSnippet:yW,packedOpSnippet:bW,cpuKernelImpl:wN}),lA={kernelName:ys,backendName:"webgl",kernelFunc:vW};function wW(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e;Lo(n,"maxPool");let{filterSize:s,strides:i,pad:a,dimRoundingMode:u}=o,c=1;I.assert(O.eitherStridesOrDilationsAreOne(i,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`);let l=O.computePool2DInfo(n.shape,s,i,c,a,u);if(l.filterWidth===1&&l.filterHeight===1&&I.arraysEqual(l.inShape,l.outShape))return st({inputs:{x:n},backend:t});let p=new po(l,"max",!1);return t.runWebGLProgram(p,[n],n.dtype)}var pA={kernelName:$c,backendName:"webgl",kernelFunc:wW};function SW(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{filterSize:s,strides:i,pad:a,dataFormat:u,dimRoundingMode:c}=o,l=[1,1,1],p=O.computePool3DInfo(n.shape,s,i,l,a,c,u),f=new Gn(p,"max",!1);return t.runWebGLProgram(f,[n],n.dtype)}var fA={kernelName:kc,backendName:"webgl",kernelFunc:SW};var Nh=class{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;let t=e.strideHeight,o=e.strideWidth,n=e.dilationHeight,s=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=s-1-e.padInfo.top,u=i-1-e.padInfo.left,c=s*i-1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${u});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${s};
          wR += ${n}) {
          float dyR = float(dyRCorner + wR) / ${t}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${i}; wC++) {
            float dyC = float(dyCCorner + wC) / ${o}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${c} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${i} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}},$h=class{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;let t=e.strideDepth,o=e.strideHeight,n=e.strideWidth,s=e.dilationDepth,i=e.dilationHeight,a=e.dilationWidth,u=e.effectiveFilterDepth,c=e.effectiveFilterHeight,l=e.effectiveFilterWidth,p=u-1-e.padInfo.front,f=c-1-e.padInfo.top,d=l-1-e.padInfo.left,h=u*c*l-1;this.userCode=`
      const ivec3 pads = ivec3(${p}, ${f}, ${d});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${u};
           wD += ${s}) {
          float dyD = float(dyDCorner + wD) / ${t}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${c};
              wR += ${i}) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${l};
                wC += ${a}) {
              float dyC = float(dyCCorner + wC) / ${n}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${h} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${c} * ${l} +
                  wR * ${l} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}};function TW(r){let{inputs:e,backend:t,attrs:o}=r,{dy:n,input:s}=e,i=s,{filterSize:a,strides:u,pad:c,dimRoundingMode:l}=o,p=[1,1,1],f=O.computePool3DInfo(i.shape,a,u,p,c,l),d=new Gn(f,"max",!0),h=t.runWebGLProgram(d,[i],i.dtype),x=new $h(f),g=t.runWebGLProgram(x,[n,h],i.dtype);return t.disposeIntermediateTensorInfo(h),g}var mA={kernelName:qg,backendName:"webgl",kernelFunc:TW};function CW(r){let{inputs:e,backend:t,attrs:o}=r,{dy:n,input:s,output:i}=e,a=s;Lo([s,i],"maxPoolGrad");let{filterSize:u,strides:c,pad:l,dimRoundingMode:p}=o,f=O.computePool2DInfo(a.shape,u,c,1,l,p),d=!0,h=new po(f,"max",d),x=t.runWebGLProgram(h,[a],a.dtype),g=new Nh(f),b=t.runWebGLProgram(g,[n,x],a.dtype);return t.disposeIntermediateTensorInfo(x),b}var dA={kernelName:Kg,backendName:"webgl",kernelFunc:CW};function hA(r,e,t,o){let n=new po(t,"max",!1),s=o.runWebGLProgram(n,[r],"float32");n=new po(t,"max",!0,!0,e);let i=o.runWebGLProgram(n,[r],"float32");return[s,i]}var gA={kernelName:Ac,backendName:"webgl",kernelFunc:({inputs:r,attrs:e,backend:t})=>{let{x:o}=r,{filterSize:n,strides:s,pad:i,includeBatchInIndex:a}=e,u=t;I.assert(o.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${o.shape.length}.`);let c=[1,1];I.assert(O.eitherStridesOrDilationsAreOne(s,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${c}'`);let l=O.computePool2DInfo(o.shape,n,s,c,i),[p,f]=hA(o,a,l,u);return[p,f]}};function xA(r,e,t,o){let n=I.sizeFromShape(e),i=I.sizeFromShape(r.shape)/n,a=j({inputs:{x:r},attrs:{shape:[i,n]},backend:o}),u=Ar(a,"float32","mean",o),c=j({inputs:{x:u},attrs:{shape:t},backend:o});return o.disposeIntermediateTensorInfo(a),o.disposeIntermediateTensorInfo(u),c}var yA={kernelName:Rc,backendName:"webgl",kernelFunc:({inputs:r,attrs:e,backend:t})=>{let{x:o}=r,{keepDims:n,axis:s}=e,i=t,a=o.shape.length,u=I.parseAxisParam(s,o.shape),c=u,l=O.getAxesPermutation(c,a),p=l!=null,f=i.shouldExecuteOnCPU([o]),d=[],h=o;if(p){if(f){let A=i.texData.get(h.dataId).values,D=new Array(a);for(let V=0;V<D.length;V++)D[V]=o.shape[l[V]];let L=oi(A,o.shape,o.dtype,l,D);h=i.makeTensorInfo(D,o.dtype);let M=i.texData.get(h.dataId);M.values=L}else h=Un(o,l,i);d.push(h),c=O.getInnerMostAxes(c.length,a)}O.assertAxesAreInnerMostDims("sum",c,a);let[x,g]=O.computeOutAndReduceShapes(h.shape,c),b=x;n&&(b=O.expandShapeToKeepDim(x,u));let C=xA(h,g,b,i);for(let k of d)i.disposeIntermediateTensorInfo(k);return C}};function IW(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{axis:s,keepDims:i}=o,a=n.shape.length,u=I.parseAxisParam(s,n.shape),c=u,l=O.getAxesPermutation(c,a),p=n;l!=null&&(p=Ke({inputs:{x:n},backend:t,attrs:{perm:l}}),c=O.getInnerMostAxes(c.length,n.shape.length)),O.assertAxesAreInnerMostDims("min",c,a);let[f,d]=O.computeOutAndReduceShapes(p.shape,c),h=I.sizeFromShape(d),x=j({inputs:{x:p},backend:t,attrs:{shape:[-1,h]}}),g=Ar(x,x.dtype,"min",t),b;if(i){let C=O.expandShapeToKeepDim(f,u);b=j({inputs:{x:g},backend:t,attrs:{shape:C}})}else b=j({inputs:{x:g},backend:t,attrs:{shape:f}});return t.disposeIntermediateTensorInfo(x),t.disposeIntermediateTensorInfo(g),l!=null&&t.disposeIntermediateTensorInfo(p),b}var bA={kernelName:_c,backendName:"webgl",kernelFunc:IW};var EW=Sa+`
  return min(a, b);
`,NW=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+kr+`
  return result;
`,$W=Fe({opSnippet:EW,packedOpSnippet:NW,cpuKernelImpl:SN}),vA={kernelName:bs,backendName:"webgl",kernelFunc:$W};var kh=class{constructor(e,t,o){this.variableNames=["x"],this.outputShape=t.map((l,p)=>l[0]+e[p]+l[1]);let n=e.length,s=pe(n),i=t.map(l=>l[0]).join(","),a=t.map((l,p)=>l[0]+e[p]).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,n),c=o==="reflect"?0:1;if(n===1){this.userCode=`
        int start = ${i};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${c};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${c};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${s} start = ${s}(${i});
      ${s} end = ${s}(${a});

      void main() {
        ${s} outC = getOutputCoords();
        for (int i = 0; i < ${n}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${c};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${c};
          }
        }
        ${s} coords = outC - start;
        setOutput(getX(${u}));
      }
    `}};var Ah=class{constructor(e,t,o){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((h,x)=>h[0]+e[x]+h[1]);let n=e.length,s=pe(n),i=t.map(h=>h[0]).join(","),a=t.map((h,x)=>h[0]+e[x]).join(","),u=nt("rc",n),c=nt("source",n),l=`${u[n-1]} < ${this.outputShape[n-1]}`,p=n===1?"source":`vec2(${c.slice(-2).join()})`,f=o==="reflect"?0:1,d="";if(n===1){let h=`
        ${s} source = rc;
        if (source < start) {
          source = start * 2 - source - ${f};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${f};
        }
        source -= start;
      `;d=`
        ${s} rc = outputLoc;
        ${h}
        result[0] = getChannel(getX(${c.join()}), ${p});
        ${u[n-1]} += 1;
        if(${l}) {
          ${h}
          result[1] = getChannel(getX(${c.join()}), ${p});
        }
      `}else{let h=`
        ${s} source = rc;
        ${s} lt = ${s}(lessThan(source, start));
        ${s} gte = ${s}(greaterThanEqual(source, end));
        ${s} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${f}) +
                gte * ((end - 1) * 2 - source + ${f});
        source -= start;
      `;d=`
        ${s} rc = outputLoc;
        ${h}
        result[0] = getChannel(getX(${c.join()}), ${p});
        ${u[n-1]} += 1;
        if(${l}) {
          ${h}
          result[1] = getChannel(getX(${c.join()}), ${p});
        }
        rc = outputLoc;
        ${u[n-2]} += 1;
        if(${u[n-2]} < ${this.outputShape[n-2]}) {
          ${h}
          result[2] = getChannel(getX(${c.join()}), ${p});
          ${u[n-1]} += 1;
          if(${l}) {
            ${h}
            result[3] = getChannel(getX(${c.join()}), ${p});
          }
        }
      `}this.userCode=`
      const ${s} start = ${s}(${i});
      const ${s} end = ${s}(${a});

      void main() {
        ${s} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${d}
        setOutput(result);
      }
    `}};var kW=({inputs:r,backend:e,attrs:t})=>{let{x:o}=r,{paddings:n,mode:s}=t,i=P().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ah(o.shape,n,s):new kh(o.shape,n,s);return e.runWebGLProgram(i,[o],o.dtype)},wA={kernelName:Oc,backendName:"webgl",kernelFunc:kW};var AW=`if (b == 0.0) return NAN;
  return mod(a, b);`,RW=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+kr+`
  return result;
`,_W=Fe({opSnippet:AW,packedOpSnippet:RW}),SA={kernelName:Dc,backendName:"webgl",kernelFunc:_W};var Rh=class{constructor(e,t,o){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,o],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${t-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${t-1}));
      }
    `}};var OW=`
if (a == b) {
  return 1.0;
};
return a / b;`,DW=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,kb=Fe({opSnippet:OW,packedOpSnippet:DW,checkOutOfBounds:!0}),TA={kernelName:nc,backendName:"webgl",kernelFunc:kb};var CA="return a - b;",Ab=Fe({opSnippet:CA,packedOpSnippet:CA,supportsComplex:!0,cpuKernelImpl:zN}),IA={kernelName:Ns,backendName:"webgl",kernelFunc:Ab};function Rb(r){let{inputs:e,backend:t,attrs:o}=r,{logits:n}=e,{dim:s}=o,i=I.parseAxisParam([s],n.shape),a=$b({inputs:{x:n},backend:t,attrs:{reductionIndices:i,keepDims:!1}}),u=O.expandShapeToKeepDim(a.shape,i),c=j({inputs:{x:a},backend:t,attrs:{shape:u}}),l=Ab({inputs:{a:n,b:c},backend:t}),p=Ib({inputs:{x:l},backend:t}),f=ni({inputs:{x:p},backend:t,attrs:{axis:i,keepDims:!1}}),d=j({inputs:{x:f},backend:t,attrs:{shape:u}}),h=kb({inputs:{a:p,b:d},backend:t});return t.disposeIntermediateTensorInfo(a),t.disposeIntermediateTensorInfo(c),t.disposeIntermediateTensorInfo(l),t.disposeIntermediateTensorInfo(p),t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(d),h}var EA={kernelName:hl,backendName:"webgl",kernelFunc:Rb};function FW(r){let{inputs:e,backend:t,attrs:o}=r,{logits:n}=e,{numSamples:s,seed:i,normalized:a}=o,u=a?n:Rb({inputs:{logits:n},backend:t,attrs:{dim:n.shape.length-1}}),c=u.shape[0],l=u.shape[1],p=new Rh(c,l,s),f=[[i]],d=t.runWebGLProgram(p,[u],"int32",f);return a||t.disposeIntermediateTensorInfo(u),d}var NA={kernelName:Fc,backendName:"webgl",kernelFunc:FW};var PW=pt+`
  return -x;
`,LW=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function BW(r){let{inputs:e,backend:t}=r,{x:o}=e;if(t.shouldExecuteOnCPU([o])){let s=t.texData.get(o.dataId),[i,a]=CN(s.values,o.shape,o.dtype);return t.makeTensorInfo(a,o.dtype,i)}let n;return P().getBool("WEBGL_PACK_UNARY_OPERATIONS")?n=new lr(o.shape,LW):n=new Et(o.shape,PW),t.runWebGLProgram(n,[o],o.dtype)}var $A={kernelName:_i,backendName:"webgl",kernelFunc:BW};var MW=io.nonMaxSuppressionV3Impl;function VW(r){O.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:e,backend:t,attrs:o}=r,{boxes:n,scores:s}=e,{maxOutputSize:i,iouThreshold:a,scoreThreshold:u}=o,c=t.readSync(n.dataId),l=t.readSync(s.dataId),{selectedIndices:p}=MW(c,l,i,a,u);return t.makeTensorInfo([p.length],"int32",new Int32Array(p))}var kA={kernelName:Pc,backendName:"webgl",kernelFunc:VW};var UW=io.nonMaxSuppressionV4Impl;function GW(r){O.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:e,backend:t,attrs:o}=r,{boxes:n,scores:s}=e,{maxOutputSize:i,iouThreshold:a,scoreThreshold:u,padToMaxOutputSize:c}=o,l=t.readSync(n.dataId),p=t.readSync(s.dataId),{selectedIndices:f,validOutputs:d}=UW(l,p,i,a,u,c);return[t.makeTensorInfo([f.length],"int32",new Int32Array(f)),t.makeTensorInfo([],"int32",new Int32Array([d]))]}var AA={kernelName:Lc,backendName:"webgl",kernelFunc:GW};var zW=io.nonMaxSuppressionV5Impl;function WW(r){O.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:e,backend:t,attrs:o}=r,{boxes:n,scores:s}=e,{maxOutputSize:i,iouThreshold:a,scoreThreshold:u,softNmsSigma:c}=o,l=t.readSync(n.dataId),p=t.readSync(s.dataId),f=i,d=a,h=u,x=c,{selectedIndices:g,selectedScores:b}=zW(l,p,f,d,h,x);return[t.makeTensorInfo([g.length],"int32",new Int32Array(g)),t.makeTensorInfo([b.length],"float32",new Float32Array(b))]}var RA={kernelName:Bc,backendName:"webgl",kernelFunc:WW};var _h=class{constructor(e,t,o,n){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${n}), float(${o}),
                      float(index == coords.y)));
      }
    `}};var HW=r=>{let{inputs:e,backend:t,attrs:o}=r,{indices:n}=e,{dtype:s,depth:i,onValue:a,offValue:u}=o,c=I.sizeFromShape(n.shape),l=new _h(c,i,a,u),p=j({inputs:{x:n},backend:t,attrs:{shape:[c]}}),f=t.runWebGLProgram(l,[p],s);t.disposeIntermediateTensorInfo(p);let d=[...n.shape,i],h=j({inputs:{x:f},backend:t,attrs:{shape:d}});return t.disposeIntermediateTensorInfo(f),h},_A={kernelName:Vc,backendName:"webgl",kernelFunc:HW};function tf(r){let{inputs:e,backend:t}=r,{x:o}=e;if(o.dtype==="complex64"){let n=an({inputs:{input:o},backend:t}),s=tf({inputs:{x:n},backend:t}),i=ii({inputs:{input:o},backend:t}),a=tf({inputs:{x:i},backend:t}),u=fr({inputs:{real:s,imag:a},backend:t});return t.disposeIntermediateTensorInfo(n),t.disposeIntermediateTensorInfo(s),t.disposeIntermediateTensorInfo(i),t.disposeIntermediateTensorInfo(a),u}else return un({attrs:{shape:o.shape,dtype:o.dtype,value:o.dtype==="string"?"":0},backend:t})}var OA={kernelName:_l,backendName:"webgl",kernelFunc:tf};function DA(r){let{inputs:e,backend:t}=r,{x:o}=e;if(o.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(o.dtype==="complex64"){let n=an({inputs:{input:o},backend:t}),s=DA({inputs:{x:n},backend:t}),i=ii({inputs:{input:o},backend:t}),a=tf({inputs:{x:i},backend:t}),u=fr({inputs:{real:s,imag:a},backend:t});return t.disposeIntermediateTensorInfo(n),t.disposeIntermediateTensorInfo(s),t.disposeIntermediateTensorInfo(i),t.disposeIntermediateTensorInfo(a),u}else return un({attrs:{shape:o.shape,dtype:o.dtype,value:1},backend:t})}var FA={kernelName:Mc,backendName:"webgl",kernelFunc:DA};function jW(r){let{inputs:e,backend:t,attrs:o}=r,{axis:n}=o;if(e.length===1)return gh({inputs:{input:e[0]},backend:t,attrs:{dim:n}});let s=e[0].shape,i=e[0].dtype;e.forEach(l=>{I.assertShapesMatch(s,l.shape,"All tensors passed to stack must have matching shapes"),I.assert(i===l.dtype,()=>"All tensors passed to stack must have matching dtypes")});let a=[],u=e.map(l=>{let p=gh({inputs:{input:l},backend:t,attrs:{dim:n}});return a.push(p),p}),c=Cb({inputs:u,backend:t,attrs:{axis:n}});return a.forEach(l=>t.disposeIntermediateTensorInfo(l)),c}var PA={kernelName:Uc,backendName:"webgl",kernelFunc:jW};var Oh=class{constructor(e,t,o){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((c,l)=>c[0]+e[l]+c[1]);let n=e.length,s=pe(n),i=t.map(c=>c[0]).join(","),a=t.map((c,l)=>c[0]+e[l]).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,n);if(n===1){this.userCode=`
        int start = ${i};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${s} start = ${s}(${i});
      ${s} end = ${s}(${a});

      void main() {
        ${s} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${s} coords = outC - start;
          setOutput(getX(${u}));
        }
      }
    `}};var Dh=class{constructor(e,t,o){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((x,g)=>x[0]+e[g]+x[1]);let n=e.length,s=pe(n),i=t.map(x=>x[0]).join(","),a=t.map((x,g)=>x[0]+e[g]).join(","),u=nt("rc",n),c=nt("source",n),l=`${u[n-1]} < ${this.outputShape[n-1]}`,p=n===1?"source":`vec2(${c.slice(-2).join()})`,f=[`${s} rc = outputLoc;`,`${u[n-1]} += 1;
       if(${l}) {
      `,n===1?"":`}
       rc = outputLoc;
       ${u[n-2]} += 1;
       if(${u[n-2]} < ${this.outputShape[n-2]}) {`,n===1?"":`  ${u[n-1]} += 1;
         if(${l}) {`],d=n===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="";for(let x=0,g=n===1?2:4;x<g;x++)h+=`
        ${f[x]}
        if (${d}) {
          result[${x}] = float(value);
        } else {
          ${s} source = rc - start;
          result[${x}] = getChannel(getX(${c.join()}), ${p});
        }
      `;h+=n===1?"} ":"}}",this.userCode=`
      const ${s} start = ${s}(${i});
      const ${s} end = ${s}(${a});

      void main() {
        ${s} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}};var _b=r=>{let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{paddings:s,constantValue:i}=o;if(I.sizeFromShape(n.shape)===0){let c=s.map((l,p)=>l[0]+n.shape[p]+l[1]);return un({backend:t,attrs:{shape:c,value:i,dtype:n.dtype}})}let a=P().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Dh(n.shape,s,i):new Oh(n.shape,s,i),u=[[i]];return t.runWebGLProgram(a,[n],n.dtype,u)},LA={kernelName:Gc,backendName:"webgl",kernelFunc:_b};var KW=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,qW=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+kr+`
  return result;
`,XW=Fe({opSnippet:KW,packedOpSnippet:qW}),BA={kernelName:zc,backendName:"webgl",kernelFunc:XW};function YW(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{axis:s,keepDims:i}=o,a=n.shape.length,u=[],c=I.parseAxisParam(s,n.shape),l=c,p=O.getAxesPermutation(l,a),f=n;p!=null&&(f=Ke({inputs:{x:n},backend:t,attrs:{perm:p}}),l=O.getInnerMostAxes(l.length,a),u.push(f)),O.assertAxesAreInnerMostDims("prod",l,a);let d;if(t.shouldExecuteOnCPU([f])){let h=t.texData.get(f.dataId).values,{outVals:x,outShape:g,outDtype:b}=EN(f.shape,f.dtype,h,l);d=t.makeTensorInfo(g,b,x)}else{let[h,x]=O.computeOutAndReduceShapes(f.shape,l),g=I.sizeFromShape(x),b=j({inputs:{x:f},backend:t,attrs:{shape:[-1,g]}}),C=vn(n.dtype),k=Ar(b,C,"prod",t);d=j({inputs:{x:k},backend:t,attrs:{shape:h}}),u.push(b),u.push(k)}if(i){u.push(d);let h=O.expandShapeToKeepDim(d.shape,c);d=j({inputs:{x:d},backend:t,attrs:{shape:h}})}return u.forEach(h=>t.disposeIntermediateTensorInfo(h)),d}var MA={kernelName:Oi,backendName:"webgl",kernelFunc:YW};function ZW(r){let{inputs:e,backend:t,attrs:o}=r,{paramsNestedSplits:n,paramsDenseValues:s,indices:i}=e,{outputRaggedRank:a}=o,u=n.map(b=>t.readSync(b.dataId)),c=n.map(b=>b.shape),l=t.readSync(s.dataId),p=t.readSync(i.dataId),[f,d,h]=NN(u,c,l,s.shape,s.dtype,p,i.shape,a),x=f.map(b=>t.makeTensorInfo([b.length],"int32",b)),g=t.makeTensorInfo(h,s.dtype,d);return x.concat([g])}var VA={kernelName:Hc,backendName:"webgl",kernelFunc:ZW};function QW(r){let{inputs:e,backend:t}=r,{starts:o,limits:n,deltas:s}=e,i=t.readSync(o.dataId),a=t.readSync(n.dataId),u=t.readSync(s.dataId),[c,l]=$N(i,o.shape,o.dtype,a,n.shape,u,s.shape),p=t.makeTensorInfo([c.length],"int32",c),f=t.makeTensorInfo([l.length],o.dtype,l);return[p,f]}var UA={kernelName:jc,backendName:"webgl",kernelFunc:QW};function JW(r){let{inputs:e,backend:t,attrs:o}=r,{shape:n,values:s,defaultValue:i,rowPartitionTensors:a}=e,{rowPartitionTypes:u}=o,c=t.readSync(n.dataId),l=t.readSync(s.dataId),p=t.readSync(i.dataId),f=a.map(g=>t.readSync(g.dataId)),d=a.map(g=>g.shape),[h,x]=kN(c,n.shape,l,s.shape,s.dtype,p,i.shape,f,d,u);return t.makeTensorInfo(h,s.dtype,x)}var GA={kernelName:Kc,backendName:"webgl",kernelFunc:JW};var Ob=r=>{let{backend:e,attrs:t}=r,{start:o,stop:n,step:s,dtype:i}=t,a=AN(o,n,s,i);return e.makeTensorInfo([a.length],i,a)},zA={kernelName:qc,backendName:"webgl",kernelFunc:Ob};var e6="return 1.0 / x;",t6=re({opSnippet:e6}),WA={kernelName:Xc,backendName:"webgl",kernelFunc:t6};var r6=pt+`
  return (x < 0.0) ? 0.0 : x;
`,o6=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,n6=re({opSnippet:r6,packedOpSnippet:o6}),HA={kernelName:Yc,backendName:"webgl",kernelFunc:n6};var s6=pt+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,i6=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,a6=re({opSnippet:s6,packedOpSnippet:i6}),jA={kernelName:el,backendName:"webgl",kernelFunc:a6};var Fh=class{constructor(e,t,o,n,s){this.variableNames=["A"],this.outputShape=[];let[i,a,u,c]=e;this.outputShape=[i,t,o,c];let l=[n&&t>1?a-1:a,n&&o>1?u-1:u],p=[n&&t>1?t-1:t,n&&o>1?o-1:o],f;s?f="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":f="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${l[0]/p[0]},
          ${l[1]/p[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${u}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}};var Ph=class{constructor(e,t,o,n,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];let[i,a,u,c]=e;this.outputShape=[i,t,o,c];let l=[n&&t>1?a-1:a,n&&o>1?u-1:u],p=[n&&t>1?t-1:t,n&&o>1?o-1:o],f;s?f="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":f="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${l[0]/p[0]},
          ${l[1]/p[1]},
          ${l[1]/p[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${u}.0,
                                     ${u}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${c-1};
        bool hasNextRow = coords.z < ${o-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}};function u6(r){let{inputs:e,backend:t,attrs:o}=r,{images:n}=e,{alignCorners:s,halfPixelCenters:i,size:a}=o,[u,c]=a,l=P().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Ph(n.shape,u,c,s,i):new Fh(n.shape,u,c,s,i);return t.runWebGLProgram(l,[n],"float32")}var KA={kernelName:Jc,backendName:"webgl",kernelFunc:u6};var Lh=class{constructor(e,t,o){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;let[,n,s]=t,[,i,a]=e,u=[o&&i>1?n-1:n,o&&a>1?s-1:s],c=[o&&i>1?i-1:i,o&&a>1?a-1:a],l=u[0]/c[0],p=u[1]/c[1],f=1/l,d=1/p,h=Math.ceil(f)*2+2,x=Math.ceil(d)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${l});
        const float widthScale = float(${p});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${d});

        const int winHeight = int(${h});
        const int winWidth = int(${x});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${n-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${s-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}};function c6(r){let{inputs:e,backend:t,attrs:o}=r,{images:n,dy:s}=e,{alignCorners:i}=o,a=new Lh(s.shape,n.shape,i);return t.runWebGLProgram(a,[s],s.dtype)}var qA={kernelName:Yg,backendName:"webgl",kernelFunc:c6};var Bh=class{constructor(e,t,o,n,s){this.variableNames=["A"],this.outputShape=[];let[i,a,u,c]=e;this.outputShape=[i,t,o,c];let l=[n&&t>1?a-1:a,n&&o>1?u-1:u],p=[n&&t>1?t-1:t,n&&o>1?o-1:o],f=n?"0.5":"0.0",d;s?d="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":d="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${l[0]/p[0]},
          ${l[1]/p[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${u}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${d};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}};var Mh=class{constructor(e,t,o,n,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];let[i,a,u,c]=e;this.outputShape=[i,t,o,c];let l=[n&&t>1?a-1:a,n&&o>1?u-1:u],p=[n&&t>1?t-1:t,n&&o>1?o-1:o],f=n?"0.5":"0.0",d;s?d="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":d="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${l[0]/p[0]},
          ${l[1]/p[1]},
          ${l[1]/p[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${u}.0,
                                     ${u}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${d};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${c-1};
        bool hasNextRow = coords.z < ${o-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}};function l6(r){let{inputs:e,backend:t,attrs:o}=r,{images:n}=e,{alignCorners:s,halfPixelCenters:i,size:a}=o,[u,c]=a,l=P().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Mh(n.shape,u,c,s,i):new Bh(n.shape,u,c,s,i);return t.runWebGLProgram(l,[n],n.dtype)}var XA={kernelName:Qc,backendName:"webgl",kernelFunc:l6};var Vh=class{constructor(e,t,o){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;let[,n,s]=t,[,i,a]=e,u=[o&&i>1?n-1:n,o&&a>1?s-1:s],c=[o&&i>1?i-1:i,o&&a>1?a-1:a],l=u[0]/c[0],p=u[1]/c[1],f=1/l,d=1/p,h=Math.ceil(f)*2+2,x=Math.ceil(d)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${l});
        const float widthScale = float(${p});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${d});

        const int winHeight = int(${h});
        const int winWidth = int(${x});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float sourceFracRow =
              float(${u[0]}) *
                (float(dyR) / float(${c[0]}));

            float sourceFracCol =
                float(${u[1]}) *
                  (float(dyC) / float(${c[1]}));

            int sourceNearestRow = int(min(
                float(int(${n}) - 1),
                ${o} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${s}) - 1),
                ${o} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}};function p6(r){let{inputs:e,backend:t,attrs:o}=r,{images:n,dy:s}=e,{alignCorners:i}=o,a=new Vh(s.shape,n.shape,i);return t.runWebGLProgram(a,[s],s.dtype)}var YA={kernelName:Xg,backendName:"webgl",kernelFunc:p6};var Uh=class{constructor(e,t){this.variableNames=["x"];let o=e.length;if(o>4)throw new Error(`WebGL backend: Reverse of rank-${o} tensor is not yet supported`);if(this.outputShape=e,o===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}let n=a=>t.indexOf(a)!==-1&&e[a]!==1?`${e[a]} - coords[${a}] - 1`:`coords[${a}]`,s=e.map((a,u)=>n(u)).join(","),i=pe(o);this.userCode=`
      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${s}));
      }
    `}};var Gh=class{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;let o=e.length;if(o>4)throw new Error(`WebGL backend: Reverse of rank-${o} tensor is not yet supported`);this.outputShape=e;let n=nt("rc",o),s=`${n[o-1]} + 1 < ${this.outputShape[o-1]}`,i=`${n[o-2]} + 1 < ${this.outputShape[o-2]}`,a=pe(o);o===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${s}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${a} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${u(n.slice())};
          if(${s}){
            result.g = ${c(n.slice())};
          }
          if(${i}) {
            result.b = ${l(n.slice())};
            if(${s}) {
              result.a = ${p(n.slice())};
            }
          }
          setOutput(result);
        }
    `;function u(h){return f(h)}function c(h){return h[o-1]="("+h[o-1]+" + 1)",f(h)}function l(h){return h[o-2]="("+h[o-2]+" + 1)",f(h)}function p(h){return h[o-1]="("+h[o-1]+" + 1)",h[o-2]="("+h[o-2]+" + 1)",f(h)}function f(h){let x=e.map((C,k)=>d(k,h)),g=x.join(","),b=x.slice(-2).join(",");return`getChannel(getX(${g}), vec2(${b}))`}function d(h,x){return t.indexOf(h)!==-1&&e[h]!==1?`${e[h]} - ${x[h]} - 1`:`${x[h]}`}}};function f6(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{dims:s}=o,i=n.shape.length,a=I.parseAxisParam(s,n.shape);if(i===0)return st({inputs:{x:n},backend:t});let u=P().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Gh(n.shape,a):new Uh(n.shape,a);return t.runWebGLProgram(u,[n],n.dtype)}var ZA={kernelName:tl,backendName:"webgl",kernelFunc:f6};var zh=class{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];let o=e[1],n=e[2];this.outputShape=e;let s="";typeof t=="number"?s=`float outputValue = ${t.toFixed(2)};`:s=`
        vec3 fill = vec3(${t.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${s}
          if(coordX >= 0 && coordX < ${n} && coordY >= 0 && coordY < ${o}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}};var QA={kernelName:Dl,backendName:"webgl",kernelFunc:({inputs:r,attrs:e,backend:t})=>{let{image:o}=r,{radians:n,fillValue:s,center:i}=e,a=t,u=new zh(o.shape,s),[c,l]=O.getImageCenter(i,o.shape[1],o.shape[2]),p=[[c,l,Math.sin(n),Math.cos(n)]];return a.runWebGLProgram(u,[o],o.dtype,p)}};var m6=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,d6=re({opSnippet:m6}),JA={kernelName:rl,backendName:"webgl",kernelFunc:d6};var h6="return inversesqrt(x);",g6=re({opSnippet:h6,cpuKernelImpl:RN}),eR={kernelName:Ss,backendName:"webgl",kernelFunc:g6};var zn=class{constructor(e,t,o,n,s,i,a=!0,u=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;let c=pe(s.length),l=pe(i.length),p="";o===1?p="i":o===2&&(p="i, j");let f=`getIndices(${p})`,d="";n===1?d="i":n===2&&(d="i, coords[1]");let h=`getUpdates(${d})`,x="";u&&(x="coords[0], coords[1]");let g=`getDefaultValue(${x})`,b=t>1?"strides[j]":"strides";this.userCode=`
        ${c} strides = ${c}(${s});

        void main() {
          ${l} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${t}; j++) {
              int index = round(${f});
              flattenedIndex += index * ${b};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${h};
              found = true;
            }
          }
          setOutput(mix(${g}, sum, float(found)));
        }
      `}};var Wh=class{constructor(e,t,o,n,s,i,a=!0,u=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;let c=pe(s.length),l=pe(i.length),p="";o===1?p="i":o===2&&(p="i, j");let f=`getIndices(${p})`,d="";n===1?d="i":n===2&&(d="i, coords[1]");let h=`getUpdates(${d})`,x="";u&&(x="coords[0], coords[1]");let g=`getDefaultValue(${x})`,b=t>1?"strides[j]":"strides",C=t>1?"strides[j + 1]":"strides";this.userCode=`
        ${c} strides = ${c}(${s});

        void main() {
          ${l} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${t}; j+=2) {
              ivec4 index = round(${f});
              flattenedIndex += index.xz * ${b};
              if (j + 1 < ${t}) {
                flattenedIndex += index.yw * ${C};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${h};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${g}, sum, found));
        }
      `}};function x6(r){let{inputs:e,backend:t,attrs:o}=r,{indices:n,updates:s}=e,{shape:i}=o,{sliceRank:a,numUpdates:u,sliceSize:c,strides:l,outputSize:p}=O.calculateShapes(s,n,i),f=[p/c,c];if(p===0)return t.makeTensorInfo(i,n.dtype);let d=j({inputs:{x:n},backend:t,attrs:{shape:[u,a]}}),h=j({inputs:{x:s},backend:t,attrs:{shape:[u,c]}}),x=t.makeTensorInfo([],"float32",new Float32Array([0])),g;P().getBool("WEBGL_PACK")?g=new Wh(u,a,d.shape.length,h.shape.length,l,f):g=new zn(u,a,d.shape.length,h.shape.length,l,f);let b=t.runWebGLProgram(g,[h,d,x],h.dtype),C=j({inputs:{x:b},backend:t,attrs:{shape:i}});return t.disposeIntermediateTensorInfo(d),t.disposeIntermediateTensorInfo(h),t.disposeIntermediateTensorInfo(b),t.disposeIntermediateTensorInfo(x),C}var tR={kernelName:ol,backendName:"webgl",kernelFunc:x6};var Hh=class{constructor(e,t,o,n){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,o];let s="while (left < right) {",i=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,a=P().getNumber("WEBGL_VERSION")===2?s:i,u=n==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${a}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${u} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}};function y6(r){let{inputs:e,backend:t,attrs:o}=r,{sortedSequence:n,values:s}=e,{side:i}=o,a=new Hh(n.shape[0],n.shape[1],s.shape[1],i),u=[[n.shape[1]]];return t.runWebGLProgram(a,[n,s],"int32",u)}var rR={kernelName:sl,backendName:"webgl",kernelFunc:y6};var jh=class{constructor(e,t,o){this.variableNames=["c","a","b"],this.outputShape=t;let n,s;if(o>4)throw Error(`Where for rank ${o} is not yet supported`);if(o===1)s="resRC",n="resRC";else{let a=["resRC.x","resRC.y","resRC.z","resRC.w"],u=[],c=[];for(let l=0;l<t.length;l++)c.push(`${a[l]}`),l<e&&u.push(`${a[l]}`);n=u.join(),s=c.join()}let i=pe(o);this.userCode=`
      void main() {
        ${i} resRC = getOutputCoords();
        float cVal = getC(${n});
        if (cVal >= 1.0) {
          setOutput(getA(${s}));
        } else {
          setOutput(getB(${s}));
        }
      }
    `}};function b6(r){let{inputs:e,backend:t}=r,{condition:o,t:n,e:s}=e,i=new jh(o.shape.length,n.shape,n.shape.length);return t.runWebGLProgram(i,[o,n,s],kt(n.dtype,s.dtype))}var oR={kernelName:il,backendName:"webgl",kernelFunc:b6};var v6=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${O.SELU_SCALEALPHA};
  float scale = ${O.SELU_SCALE};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,w6=re({opSnippet:v6}),nR={kernelName:al,backendName:"webgl",kernelFunc:w6};var S6=jr+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,T6=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,C6=re({opSnippet:S6,packedOpSnippet:T6,cpuKernelImpl:ON}),sR={kernelName:Ts,backendName:"webgl",kernelFunc:C6};var I6=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,E6=re({opSnippet:I6}),iR={kernelName:ll,backendName:"webgl",kernelFunc:E6};var N6=jr+`
  return sin(x);
`,$6=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${kr}
  return result;
`,k6=re({opSnippet:N6,packedOpSnippet:$6}),aR={kernelName:ul,backendName:"webgl",kernelFunc:k6};var A6=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,R6=re({opSnippet:A6}),uR={kernelName:cl,backendName:"webgl",kernelFunc:R6};var _6=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,O6=re({opSnippet:_6}),cR={kernelName:pl,backendName:"webgl",kernelFunc:O6};var D6=r=>{let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{blockShape:s,paddings:i}=o;I.assert(n.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");let a=s.reduce((b,C)=>b*C),u=[[0,0]];u.push(...i);for(let b=1+s.length;b<n.shape.length;++b)u.push([0,0]);let c=[],l=_b({inputs:{x:n},backend:t,attrs:{paddings:u,constantValue:0}}),p=O.getReshaped(l.shape,s,a,!1),f=O.getPermuted(p.length,s.length,!1),d=O.getReshapedPermuted(l.shape,s,a,!1),h=j({inputs:{x:l},backend:t,attrs:{shape:p}}),x=Ke({inputs:{x:h},backend:t,attrs:{perm:f}}),g=j({inputs:{x},backend:t,attrs:{shape:d}});return c.push(l),c.push(h),c.push(x),c.forEach(b=>t.disposeIntermediateTensorInfo(b)),g},lR={kernelName:ml,backendName:"webgl",kernelFunc:D6};function F6(r){let{inputs:e,backend:t}=r,{indices:o,values:n,denseShape:s,defaultValue:i}=e;if(s.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${s.shape}`);if(o.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${o.shape}`);if(n.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${n.shape}`);if(i.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${i.shape}`);let a=t.readSync(o.dataId),u=t.readSync(n.dataId),c=t.readSync(s.dataId),l=t.readSync(i.dataId)[0],[p,f,d,h,x]=FN(a,o.shape,o.dtype,u,n.dtype,c,l);return[t.makeTensorInfo(f,o.dtype,p),t.makeTensorInfo([f[0]],n.dtype,d),t.makeTensorInfo([h.length],"bool",new Uint8Array(h.map(g=>Number(g)))),t.makeTensorInfo([x.length],o.dtype,new Int32Array(x))]}var pR={kernelName:gl,backendName:"webgl",kernelFunc:F6};function P6(r){let{inputs:e,backend:t}=r,{inputIndices:o,inputShape:n,newShape:s}=e;if(o.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${o.shape}`);if(n.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${n.shape}`);if(s.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${s.shape}`);let i=Array.from(t.readSync(n.dataId)),a=t.readSync(o.dataId),u=Array.from(t.readSync(s.dataId)),[c,l,p]=PN(a,o.shape,o.dtype,i,u);return[t.makeTensorInfo(l,o.dtype,c),t.makeTensorInfo([p.length],s.dtype,new Int32Array(p))]}var fR={kernelName:xl,backendName:"webgl",kernelFunc:P6};function L6(r){let{inputs:e,backend:t}=r,{data:o,indices:n,segmentIds:s}=e;if(o.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(n.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${n.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${s.shape}`);let i=t.readSync(o.dataId),a=t.readSync(n.dataId),u=t.readSync(s.dataId),[c,l]=Nd(i,o.shape,o.dtype,a,u,!0);return t.makeTensorInfo(l,o.dtype,c)}var mR={kernelName:yl,backendName:"webgl",kernelFunc:L6};function B6(r){let{inputs:e,backend:t}=r,{data:o,indices:n,segmentIds:s}=e;if(o.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(n.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${n.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${s.shape}`);let i=t.readSync(o.dataId),a=t.readSync(n.dataId),u=t.readSync(s.dataId),[c,l]=Nd(i,o.shape,o.dtype,a,u);return t.makeTensorInfo(l,o.dtype,c)}var dR={kernelName:bl,backendName:"webgl",kernelFunc:B6};function M6(r){let{inputs:e,backend:t,attrs:o}=r,{sparseIndices:n,sparseValues:s,defaultValue:i}=e,{outputShape:a}=o,{sliceRank:u,numUpdates:c,sliceSize:l,strides:p,outputSize:f}=O.calculateShapes(s,n,a),d=!1;if(s.dtype==="string"){let b=t.bufferSync(n),C=t.bufferSync(s),k=I.decodeString(t.readSync(i.dataId)[0]),A=_N(b,C,a,f,l,c,u,p,k,d);return t.makeTensorInfo(a,A.dtype,A.values)}let h=new zn(c,u,n.shape.length,s.shape.length,p,[f,1],d),x=t.runWebGLProgram(h,[s,n,i],s.dtype),g=j({inputs:{x},backend:t,attrs:{shape:a}});return t.disposeIntermediateTensorInfo(x),g}var hR={kernelName:vl,backendName:"webgl",kernelFunc:M6};function V6(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{numOrSizeSplits:s,axis:i}=o,a=I.parseAxisParam(i,n.shape)[0],u=O.prepareSplitSize(n,s,a),c=n.shape.length,l=new Array(c).fill(0),p=n.shape.slice();return u.map(f=>{let d=[...p];d[a]=f;let h=fo({inputs:{x:n},backend:t,attrs:{begin:l,size:d}});return l[a]+=f,h})}var gR={kernelName:dl,backendName:"webgl",kernelFunc:V6};var xR="return sqrt(x);",U6=re({opSnippet:xR,packedOpSnippet:xR,cpuKernelImpl:LN}),yR={kernelName:Cs,backendName:"webgl",kernelFunc:U6};var G6="return x * x;",z6=re({opSnippet:G6}),bR={kernelName:Zg,backendName:"webgl",kernelFunc:z6};var vR="return (a - b) * (a - b);",W6=Fe({opSnippet:vR,packedOpSnippet:vR}),wR={kernelName:Is,backendName:"webgl",kernelFunc:W6};function H6(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e;if(n.dtype!=="string")throw new Error("Input must be of datatype string");let s=t.readSync(n.dataId),i=O.fromUint8ToStringArray(s),a=BN(i,"string",o);return t.makeTensorInfo(n.shape,"string",a)}var SR={kernelName:Es,backendName:"webgl",kernelFunc:H6};function j6({inputs:r,attrs:e,backend:t}){let{x:o}=r,n=pt+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,s=new Et(o.shape,n);return t.runWebGLProgram(s,[o],o.dtype)}var TR={kernelName:Ol,backendName:"webgl",kernelFunc:j6};var Kh=class{constructor(e,t,o){this.variableNames=["x"],this.outputShape=o;let n=o.length,s=pe(o.length),i=pe(o.length),a="";if(n===1)a="coords * strides + begin";else{let u=0;a=o.map((c,l)=>(u++,o.length===1?`coords * strides[${l}] + begin[${l}]`:`coords[${u-1}] * strides[${l}] + begin[${l}]`)).join(",")}this.userCode=`
      ${s} begin = ${s}(${e});
      ${s} strides = ${s}(${t});

      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${a}));
      }
    `}};function K6(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{begin:s,end:i,strides:a,beginMask:u,endMask:c,ellipsisMask:l,newAxisMask:p,shrinkAxisMask:f}=o,{finalShapeSparse:d,finalShape:h,isIdentity:x,sliceDim0:g,isSimpleSlice:b,begin:C,end:k,strides:A}=Yt.sliceInfo(n.shape,s,i,a,u,c,l,p,f),D;if(x)D=j({inputs:{x:n},backend:t,attrs:{shape:h}});else if(g||b){I.assert(n.shape.length>=1,()=>`Input must have rank at least 1, got: ${n.shape.length}`);let M=Yt.computeOutShape(C,k,A),V=fo({inputs:{x:n},backend:t,attrs:{begin:C,size:M}});D=j({inputs:{x:V},backend:t,attrs:{shape:h}}),t.disposeIntermediateTensorInfo(V)}else if(t.shouldExecuteOnCPU([n])){let V=t.readSync(n.dataId),z=xe(n.shape,n.dtype,V),W=MN(d,z,A,C);D=t.makeTensorInfo(h,n.dtype,W.values)}else{let V=new Kh(C,A,d);D=t.runWebGLProgram(V,[n],n.dtype)}let L=j({inputs:{x:D},backend:t,attrs:{shape:h}});return t.disposeIntermediateTensorInfo(D),L}var CR={kernelName:wl,backendName:"webgl",kernelFunc:K6};function q6(r){let{inputs:e,backend:t,attrs:o}=r,{separator:n,nGramWidths:s,leftPad:i,rightPad:a,padWidth:u,preserveShortSequences:c}=o,{data:l,dataSplits:p}=e,f=t.readSync(l.dataId),d=t.readSync(p.dataId),[h,x]=VN(f,d,n,s,i,a,u,c);return[t.makeTensorInfo([h.length],"string",h),t.makeTensorInfo(p.shape,"int32",x)]}var IR={kernelName:Sl,backendName:"webgl",kernelFunc:q6};function X6(r){let{inputs:e,backend:t,attrs:o}=r,{skipEmpty:n}=o,{input:s,delimiter:i}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(s.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${s.shape}`);if(i.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);let a=t.readSync(s.dataId),u=t.readSync(i.dataId)[0],[c,l,p]=UN(a,u,n),f=l.length;return[t.makeTensorInfo([f,2],"int32",c),t.makeTensorInfo([f],"string",l),t.makeTensorInfo([2],"int32",new Int32Array(p))]}var ER={kernelName:Tl,backendName:"webgl",kernelFunc:X6};function Y6(r){let{inputs:e,backend:t,attrs:o}=r,{numBuckets:n}=o,{input:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(n<=0)throw new Error("Number of buckets must be at least 1");let i=t.readSync(s.dataId),a=GN(i,n);return t.makeTensorInfo(s.shape,"int32",a)}var NR={kernelName:Cl,backendName:"webgl",kernelFunc:Y6};var Z6="return tan(x);",Q6=re({opSnippet:Z6}),$R={kernelName:Il,backendName:"webgl",kernelFunc:Q6};var J6=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,e7=re({opSnippet:J6}),kR={kernelName:El,backendName:"webgl",kernelFunc:e7};function t7(r){let{inputs:e,backend:t,attrs:o}=r,{tensor:n,indices:s,updates:i}=e,{}=o,{sliceRank:a,numUpdates:u,sliceSize:c,strides:l,outputSize:p}=O.calculateShapes(i,s,n.shape),f=[p/c,c];if(p===0)return t.makeTensorInfo(n.shape,s.dtype);let d=j({inputs:{x:s},backend:t,attrs:{shape:[u,a]}}),h=j({inputs:{x:i},backend:t,attrs:{shape:[u,c]}}),x=j({inputs:{x:n},backend:t,attrs:{shape:f}}),g=new zn(u,a,d.shape.length,h.shape.length,l,f,!1,!0),b=t.runWebGLProgram(g,[h,d,x],x.dtype),C=j({inputs:{x:b},backend:t,attrs:{shape:n.shape}});return t.disposeIntermediateTensorInfo(d),t.disposeIntermediateTensorInfo(h),t.disposeIntermediateTensorInfo(x),t.disposeIntermediateTensorInfo(b),C}var AR={kernelName:nl,backendName:"webgl",kernelFunc:t7};var qh=class{constructor(e,t){this.variableNames=["A"];let o=new Array(e.length);for(let i=0;i<o.length;i++)o[i]=e[i]*t[i];this.outputShape=o,this.rank=o.length;let n=pe(this.rank),s=r7(e);this.userCode=`
      void main() {
        ${n} resRC = getOutputCoords();
        setOutput(getA(${s}));
      }
    `}};function r7(r){let e=r.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${r[0]})`;let t=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],o=[];for(let n=0;n<r.length;n++)o.push(`imod(${t[n]}, ${r[n]})`);return o.join()}function Db(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{reps:s}=o;if(n.dtype==="string"||n.shape.length>5){let u=t.readSync(n.dataId),c=n.dtype==="string"?u.map(f=>I.decodeString(f)):u,l=xe(n.shape,n.dtype,c),p=WN(l,s);return t.makeTensorInfo(p.shape,p.dtype,p.values)}let i=new qh(n.shape,s);return t.runWebGLProgram(i,[n],n.dtype)}var RR={kernelName:$s,backendName:"webgl",kernelFunc:Db};var Xh=class{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}},Yh=class{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}};function ui(r,e){e!==null&&r.disposeIntermediateTensorInfo(e)}function _R(r){let e=1;for(;e<r;)e*=2;return e}function o7(r){let{inputs:e,backend:t,attrs:o}=r,{x:n}=e,{k:s,sorted:i}=o,a=P().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),u=P().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=n.shape,l=c[c.length-1];if(t.shouldExecuteOnCPU([n])||l<a||s>u){let W=t.readSync(n.dataId),[H,X]=HN(W,c,n.dtype,s,i);return[t.makeTensorInfo(H.shape,H.dtype,H.values),t.makeTensorInfo(X.shape,X.dtype,X.values)]}if(s===0)return c[c.length-1]=0,[t.makeTensorInfo(c,n.dtype,[]),t.makeTensorInfo(c,"int32",[])];if(l===1)return[n,un({attrs:{shape:c,dtype:"int32",value:0},backend:t})];let p=t.texData.get(n.dataId),f=p!==null&&p.isPacked,d=f?t.unpackTensor(n):n,x=I.sizeFromShape(c)/l,g=j({inputs:{x:d},attrs:{shape:[x,l]},backend:t});f&&ui(t,d);let b=_R(s),C=_R(l),k=null,A=()=>k===null?[g,g]:[g,k],D=(W,H,X)=>{let oe=A(),ae=new Xh(X),Se=[[l],[k===null?1:0],[Number.NEGATIVE_INFINITY],[W],[H]],Ie=k;k=t.runWebGLProgram(ae,oe,"int32",Se),ui(t,Ie)};for(let W=1;W<b;W*=2){let H=W*2;for(let X=W;X>=1;X/=2)D(H,X,[x,C])}for(let W=C;W>b;W/=2){let H=A(),X=new Yh([x,W/2]),ae=[[l],[k===null?1:0],[b]],ce=k;k=t.runWebGLProgram(X,H,"int32",ae),ui(t,ce);let Se=b/2,Ie=Se*2;for(let Oe=Se;Oe>=1;Oe/=2)D(Ie,Oe,k.shape)}let L=k;k=fo({inputs:{x:k},backend:t,attrs:{begin:0,size:[x,s]}}),ui(t,L);let M=Nb({inputs:{x:g,indices:k},backend:t,attrs:{axis:1,batchDims:1}});ui(t,g);let V=c.slice(0,-1);V.push(s),L=k,k=j({inputs:{x:k},attrs:{shape:V},backend:t}),ui(t,L);let z=M;return M=j({inputs:{x:M},attrs:{shape:V},backend:t}),ui(t,z),[M,k]}var OR={kernelName:Nl,backendName:"webgl",kernelFunc:o7};var Zh=class{constructor(e,t,o,n,s,i){this.variableNames=["Image","Transforms"],this.outputShape=i;let a=o==="nearest"?1:2,u;switch(n){case"constant":u=1;break;case"reflect":u=2;break;case"wrap":u=3;break;case"nearest":u=4;break;default:u=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${u} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${u} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${u} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${s});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${s});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${t}));
                float mapY = mapCoord(inY, float(${e}));

                if (${a} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}};function n7(r){let{inputs:e,backend:t,attrs:o}=r,{image:n,transforms:s}=e,{interpolation:i,fillMode:a,fillValue:u,outputShape:c}=o,[l,p,f,d]=n.shape,[h,x]=c??[p,f],g=[l,h,x,d],b=new Zh(p,f,i,a,u,g);return t.runWebGLProgram(b,[n,s],"float32")}var DR={kernelName:$l,backendName:"webgl",kernelFunc:n7};function s7(r){let{inputs:e,attrs:t,backend:o}=r,{axis:n}=t,{x:s}=e;Lo(s,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");let i=o.readSync(s.dataId),{outputValues:a,outputShape:u,indices:c}=jN(i,n,s.shape,s.dtype);return[o.makeTensorInfo(u,s.dtype,a),o.makeTensorInfo([c.length],"int32",c)]}var FR={kernelName:kl,backendName:"webgl",kernelFunc:s7};function i7(r){let{inputs:e,backend:t,attrs:o}=r,{value:n}=e,{axis:s}=o;s<0&&(s+=n.shape.length);let i=n,a=i.shape.length,u=n.shape[s],c=new Array(a-1),l=0;for(let x=0;x<a;x++)x!==s&&(c[l++]=i.shape[x]);let p=[],f=new Array(a).fill(0),d=i.shape.slice();d[s]=1;let h=new Array(u);for(let x=0;x<h.length;x++){f[s]=x;let g=fo({inputs:{x:i},backend:t,attrs:{begin:f,size:d}}),b=j({inputs:{x:g},backend:t,attrs:{shape:c}});h[x]=b,p.push(g)}return p.forEach(x=>t.disposeIntermediateTensorInfo(x)),h}var PR={kernelName:Al,backendName:"webgl",kernelFunc:i7};var Qh=class{constructor(e,t){this.variableNames=["x","segmentIds"];let o=e.windowSize,n=e.batchSize,s=e.inSize,i=e.numSegments,a=i*Math.ceil(s/o);this.outputShape=[n,a];let u="0.0",c="sumValue",l=Math.floor(o/4)*4,p=o%4,f=`
        sumValue += dot(values, segFilter);
    `,d="";s%o>0&&(d=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return initializationValue;
        }
      `);let h="";s%o>0&&(h=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${u};

      float getValue(int batch, int inIdx) {
        ${d}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${h}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${i})) * float(${o}));
        int currentSeg = int(mod(float(outIdx), float(${i})));

        float sumValue = 0.0;

        for (int i = 0; i < ${l}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${f}
        }

        int inIdx = inOffset + ${l};
        if (${p===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${f}
        } else if (${p===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${f}
        } else if (${p===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${f}
        }
        setOutput(${c});
      }
    `}};function a7(r){let{inputs:e,backend:t,attrs:o}=r,{x:n,segmentIds:s}=e,{numSegments:i}=o,a=n.shape.length,u=[],c=0,l=O.getAxesPermutation([c],a),p=n;l!=null&&(p=Ke({inputs:{x:n},backend:t,attrs:{perm:l}}),u.push(p),c=O.getInnerMostAxes(1,a)[0]);let f=O.segment_util.computeOutShape(p.shape,c,i),d=I.sizeFromShape([p.shape[c]]),h=j({inputs:{x:p},backend:t,attrs:{shape:[-1,d]}});u.push(h);let x=vn(n.dtype),g=(A,D,L,M,V)=>{let z=A.shape[0],W=A.shape[1],H=O.segment_util.segOpComputeOptimalWindowSize(W,V),X={windowSize:H,inSize:W,batchSize:z,numSegments:V},oe=new Qh(X,D),ae=t.compileAndRun(oe,[A,L],M);if(u.push(ae),ae.shape[1]===V)return ae;let ce=Ob({backend:t,attrs:{start:0,stop:V,step:1,dtype:"float32"}}),Se=Db({inputs:{x:ce},backend:t,attrs:{reps:[W/H]}});return u.push(ce),u.push(Se),g(ae,D,Se,M,V)},b=g(h,"unsortedSegmentSum",s,x,i),C=j({inputs:{x:b},backend:t,attrs:{shape:f}}),k=C;if(l!=null){u.push(C);let A=O.getUndoAxesPermutation(l);k=Ke({inputs:{x:k},backend:t,attrs:{perm:A}})}return u.forEach(A=>t.disposeIntermediateTensorInfo(A)),k}var LR={kernelName:Rl,backendName:"webgl",kernelFunc:a7};var u7=[b$,w$,S$,T$,I$,E$,N$,$$,R$,_$,O$,D$,F$,P$,L$,B$,M$,V$,U$,G$,z$,H$,j$,K$,q$,Q$,ek,tk,c$,ok,sk,ik,ak,uk,ck,lk,pk,fk,mk,dk,xk,yk,bk,vk,wk,Sk,Tk,Ck,Ik,Ek,Nk,$k,kk,Ak,Rk,_k,Dk,Fk,Pk,Lk,Mk,Vk,Uk,Gk,zk,Wk,Hk,jk,Kk,u$,qk,nk,Xk,Yk,Zk,l$,Qk,Jk,eA,tA,rA,oA,nA,sA,iA,aA,cA,lA,pA,fA,mA,dA,gA,yA,bA,vA,wA,SA,NA,m$,$A,kA,AA,RA,X$,_A,FA,PA,LA,BA,p$,MA,VA,UA,GA,zA,Y$,TA,WA,HA,jA,h$,KA,qA,XA,YA,ZA,QA,JA,eR,tR,rR,oR,nR,sR,iR,aR,uR,W$,EA,cR,lR,pR,fR,mR,dR,hR,gR,yR,bR,wR,SR,TR,CR,IR,ER,NR,IA,x$,$R,kR,AR,RR,OR,DR,y$,FR,PR,LR,OA];for(let r of u7)Kf(r);async function Fb(r){let e=await SI(la.MediaPipeSelfieSegmentation,{runtime:"mediapipe",modelType:"general",solutionPath:"https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation"}),{height:t=0,width:o=0}=r.getSettings(),n=document.createElement("video");n.height=t,n.width=o,n.muted=!0,n.setAttribute("playsinline","");let s=new Promise(d=>n.addEventListener("loadedmetadata",d,{once:!0})),i=new MediaStream;i.addTrack(r),n.srcObject=i,n.play(),await s;let a=document.createElement("canvas"),u=a.getContext("2d");a.height=t,a.width=o;async function c(){let d=await e.segmentPeople(n);await EI(a,n,d,.6,12,3,!1)}let l=a.captureStream().getVideoTracks()[0],p=-1;async function f(){await c(),p=window.setTimeout(f,1e3/30)}return await c(),f(),l.stop=()=>{clearTimeout(p),MediaStreamTrack.prototype.stop.call(r)},r.addEventListener("ended",d=>{l.stop(),l.dispatchEvent(d)}),l.getSettings=()=>r.getSettings(),l}function Lb(r){let e=new MediaStream;e.addTrack(r);let t=new Pb,n=t.startEffect(e).getAudioTracks()[0];return n.stop=()=>{t.stopEffect(),MediaStreamTrack.prototype.stop.call(r)},n.getSettings=()=>r.getSettings(),n}var Pb=class{startEffect(e){return this._audioContext=new AudioContext,this._originalMediaTrack=e.getAudioTracks()[0],this._audioSource=this._audioContext.createMediaStreamSource(e),this._audioDestination=this._audioContext.createMediaStreamDestination(),this._outputMediaTrack=this._audioDestination.stream.getAudioTracks()[0],this._audioContext.audioWorklet.addModule("/noise/noise-suppressor-worklet.esm.js").then(()=>{Lt(this._audioContext),this._noiseSuppressorNode=new AudioWorkletNode(this._audioContext,"NoiseSuppressorWorklet"),Lt(this._audioSource),Lt(this._audioDestination),this._audioSource.connect(this._noiseSuppressorNode).connect(this._audioDestination)}).catch(o=>{console.error(o)}),this._outputMediaTrack.enabled=this._originalMediaTrack.enabled,this._originalMediaTrack.enabled=!0,this._audioDestination.stream}stopEffect(){Lt(this._originalMediaTrack),Lt(this._outputMediaTrack),this._originalMediaTrack.enabled=this._outputMediaTrack.enabled,this._noiseSuppressorNode?.port?.close(),this._audioDestination?.disconnect(),this._noiseSuppressorNode?.disconnect(),this._audioSource?.disconnect(),this._audioContext?.close()}};var BR=r=>(e,t)=>{let{prioritizeList:o=[],deprioritizeList:n=[]}=r,s=o.findIndex(c=>c.label===e.label&&c.kind===e.kind),i=o.findIndex(c=>c.label===t.label&&c.kind===t.kind);if(s!==-1&&i!==-1)return s-i;if(s!==-1)return-1;if(i!==-1)return 1;if(t.label.toLowerCase().includes("virtual")||t.label.toLowerCase().includes("iphone microphone"))return-1;let a=n.some(c=>c.label===e.label&&c.kind===e.kind),u=n.some(c=>c.label===t.label&&c.kind===t.kind);return a&&!u?1:!a&&u?-1:0},Mb="PRIORITIZED_DEVICE_LIST",MR="DEPRIORITIZED_DEVICE_LIST";function rf(){let r=localStorage.getItem(Mb);return r===null?[]:JSON.parse(r)}function Vb(r){c7(r),l7(r),localStorage.setItem(Mb,JSON.stringify([r,...rf()])),Ub.next(rf())}function c7(r){localStorage.setItem(Mb,JSON.stringify(rf().filter(e=>!(e.label===r.label&&e.kind===r.kind)))),Ub.next(rf())}function Bb(){let r=localStorage.getItem(MR);return r===null?[]:JSON.parse(r)}function l7(r){localStorage.setItem(MR,JSON.stringify(Bb().filter(e=>!(e.label===r.label&&e.kind===r.kind)))),VR.next(Bb())}var Ub=new wi([]),VR=new wi([]);function UR(){return Ti(Ub,Mr(rf()))}function GR(){return Ti(VR,Mr(Bb()))}function zR({contentHint:r}){return new Ne(e=>{let t=()=>{},o=setTimeout(()=>{navigator.mediaDevices.getDisplayMedia().then(n=>{t=()=>{n.getTracks().forEach(s=>s.stop())},n.getVideoTracks().forEach(s=>{r&&"contentHint"in s&&(s.contentHint=r)}),e.next(n),n.getVideoTracks()[0].addEventListener("ended",()=>{e.complete()})}).catch(n=>{if(Lt(n instanceof Error),n.name==="NotAllowedError"){e.next(void 0);return}throw n})});return()=>{clearTimeout(o),t()}}).pipe(nr({refCount:!0,bufferSize:1}))}var p7=class extends EventTarget{entries=[];limit;constructor(r=Number.POSITIVE_INFINITY){super(),this.limit=Math.max(1,r)}addEventListener(r,e,t){super.addEventListener(r,e,t)}removeEventListener(r,e,t){super.removeEventListener(r,e,t)}log(r){this.entries.length>=this.limit&&this.entries.shift(),this.entries.push(r),this.dispatchEvent(new CustomEvent("logentry"))}},Mo=["none","error","warn","info","debug"],Aa={current:"warn"},eZe=r=>{Aa.current=r},ft={error:(...r)=>{Mo.indexOf(Aa.current)>=Mo.indexOf("error")&&console.error(...r)},warn:(...r)=>{Mo.indexOf(Aa.current)>=Mo.indexOf("warn")&&console.warn(...r)},info:(...r)=>{Mo.indexOf(Aa.current)>=Mo.indexOf("info")&&console.info(...r)},log:(...r)=>{Mo.indexOf(Aa.current)>=Mo.indexOf("info")&&console.log(...r)},debug:(...r)=>{Mo.indexOf(Aa.current)>=Mo.indexOf("debug")&&console.debug(...r)}},f7=64,m7=class{#e;constructor(){this.#e=Promise.resolve()}schedule(r){return new Promise((e,t)=>{this.#e=this.#e.then(async()=>{try{e(await r())}catch(o){t(o)}})})}},Gb=class{#e;#t;#r;constructor(r=f7){this.#e=[],this.#t=null,this.#r=r}doBulkRequest(r,e){if(this.#e.length>=this.#r&&(this.#e=[],this.#t=null),this.#e.push(r),this.#t!=null)return this.#t;let t=this.#e;return this.#t=new Promise((o,n)=>{setTimeout(()=>{this.#t=null;let s=t.splice(0,t.length);e(s).then(a=>{o(a)}).catch(a=>{n(a)})},0)}),this.#t}},tZe=class{history;peerConnection$;session$;#e=new Si;sender$=this.#e.asObservable();#t=new Si;receiver$=this.#t.asObservable();sessionError$;peerConnectionState$;config;constructor(r={}){this.config={prefix:"/partytracks",maxApiHistory:100,...r},this.history=new p7(r.maxApiHistory),this.peerConnection$=new Ne(e=>{let t,o=()=>{t?.close(),t=new RTCPeerConnection({iceServers:r.iceServers??[{urls:["stun:stun.cloudflare.com:3478"]}],bundlePolicy:"max-bundle"}),t.addEventListener("connectionstatechange",()=>{(t.connectionState==="failed"||t.connectionState==="closed")&&(ft.debug(`\u{1F4A5} Peer connectionState is ${t.connectionState}`),e.next(o()))});let n=-1;return t.addEventListener("iceconnectionstatechange",()=>{clearTimeout(n),t.iceConnectionState==="failed"||t.iceConnectionState==="closed"?(ft.debug(`\u{1F4A5} Peer iceConnectionState is ${t.iceConnectionState}`),e.next(o())):t.iceConnectionState==="disconnected"&&(n=window.setTimeout(()=>{t.iceConnectionState!=="connected"&&(ft.debug(`\u{1F4A5} Peer iceConnectionState was ${t.iceConnectionState} for more than 7 seconds`),e.next(o()))},7e3))}),t};return e.next(o()),()=>{t.close()}}).pipe(nr({bufferSize:1,refCount:!0})),this.session$=this.peerConnection$.pipe(yr(e=>xr(this.createSession(e))),nr({bufferSize:1,refCount:!0})),this.sessionError$=this.session$.pipe(Vf(e=>Mr(e instanceof Error?e.message:"Caught non-error")),Ag(e=>typeof e=="string")),this.peerConnectionState$=this.peerConnection$.pipe(yr(e=>ts(e,"connectionstatechange",()=>e.connectionState)),du())}taskScheduler=new m7;pushTrackDispatcher=new Gb(32);pullTrackDispatcher=new Gb(32);closeTrackDispatcher=new Gb(32);async createSession(r){ft.debug("\u{1F195} creating new session");let e=await this.fetchWithRecordedHistory(`${this.config.prefix}/sessions/new?CreatingSession&${this.config.apiExtraParams}`,{method:"POST"});if(e.status>400)throw new Error("Error creating Calls session");try{let{sessionId:t}=await e.clone().json();return{peerConnection:r,sessionId:t}}catch{throw new Error(`${e.status}: ${await e.text()}`)}}async fetchWithRecordedHistory(r,e){this.history.log({endpoint:r,method:e?.method??"get",type:"request",body:typeof e?.body=="string"?JSON.parse(e.body):void 0});let t=new Headers(e?.headers),o=this.config.headers;o&&o.forEach((i,a)=>{t.append(a,i)});let n=await fetch(r,{...e,headers:t,redirect:"manual"});n.status===0&&(alert("Access session is expired, reloading page."),location.reload());let s=await n.clone().json();return this.history.log({endpoint:r,type:"response",body:s}),n}#r(r,e,t,o){return new Ne(n=>{let s,i=setTimeout(()=>{ft.debug("\u{1F4E4} pushing track ",o),s=this.pushTrackDispatcher.doBulkRequest({trackName:o,transceiver:e},a=>this.taskScheduler.schedule(async()=>{let u=await r.createOffer();u.sdp=u.sdp?.replace("useinbandfec=1","usedtx=1;useinbandfec=1"),await r.setLocalDescription(u);let c={sessionDescription:{sdp:u.sdp,type:"offer"},tracks:a.map(({trackName:p,transceiver:f})=>({trackName:p,mid:f.mid,location:"local"}))},l=await this.fetchWithRecordedHistory(`${this.config.prefix}/sessions/${t}/tracks/new?PushingTrack&${this.config.apiExtraParams}`,{method:"POST",body:JSON.stringify(c)}).then(p=>p.json());return Lt(l.tracks!==void 0),l.errorCode||(await r.setRemoteDescription(new RTCSessionDescription(l.sessionDescription)),await WR(r)),{tracks:l.tracks}})).then(({tracks:a})=>{let u=a.find(c=>c.mid===e.mid);u?n.next({...u,sessionId:t,location:"remote"}):n.error(new Error("Missing TrackData"))}).catch(a=>n.error(a))});return()=>{clearTimeout(i),s?.then(()=>{this.taskScheduler.schedule(async()=>(ft.debug("\u{1F51A} Closing pushed track ",o),this.closeTrack(r,e.mid,t)))})}}).pipe(Uf(2))}push(r,e=Mr([])){let t=r.pipe(_g(1),or(()=>crypto.randomUUID())),o=yo([t,this.session$]).pipe(hu(r),or(([[s,i],a])=>{let u=i.peerConnection.addTransceiver(a,{direction:"sendonly"});return ft.debug("\u{1F331} creating transceiver!"),this.#e.next(u.sender),{transceiver:u,stableId:s,session:i}}),nr({refCount:!0,bufferSize:1})),n=o.pipe(yr(({session:{peerConnection:s,sessionId:i},transceiver:a,stableId:u})=>this.#r(s,a,i,u)));return yo([n,o,r,e]).pipe(rs(([s,{transceiver:i},a,u])=>{let c=i.sender.getParameters();u.forEach((l,p)=>{let f=c.encodings[p];c.encodings[p]={...f,...l}}),i.sender.setParameters(c),i.sender.transport!==null&&(ft.debug("\u267B\uFE0E replacing track"),i.sender.replaceTrack(a))}),or(([s])=>{let i={...s};return delete i.mid,i}),nr({refCount:!0,bufferSize:1}))}#o(r,e,t){let o="";return new Ne(n=>{let s,i=setTimeout(()=>{ft.debug("\u{1F4E5} pulling track ",t.trackName),s=this.pullTrackDispatcher.doBulkRequest(t,a=>this.taskScheduler.schedule(async()=>{let u=await this.fetchWithRecordedHistory(`${this.config.prefix}/sessions/${e}/tracks/new?PullingTrack&${this.config.apiExtraParams}`,{method:"POST",body:JSON.stringify({tracks:a})}).then(l=>l.json());if(u.errorCode)throw new Error(u.errorDescription);Lt(u.tracks);let c=a.reduce((l,p)=>{let f=u.tracks?.find(d=>d.trackName===p.trackName&&d.sessionId===p.sessionId);return f?.mid&&l.set(p,{mid:f.mid,resolvedTrack:d7(r,d=>d.mid===f.mid).then(d=>(this.#t.next(d.receiver),d.receiver.track))}),l},new Map);if(u.requiresImmediateRenegotiation){await r.setRemoteDescription(new RTCSessionDescription(u.sessionDescription));let l=await r.createAnswer();await r.setLocalDescription(l);let p=await this.fetchWithRecordedHistory(`${this.config.prefix}/sessions/${e}/renegotiate?${this.config.apiExtraParams}`,{method:"PUT",body:JSON.stringify({sessionDescription:{type:"answer",sdp:r.currentLocalDescription?.sdp}})}).then(f=>f.json());if(p.errorCode)throw new Error(p.errorDescription);await WR(r)}return{trackMap:c}})).then(({trackMap:a})=>{let u=a.get(t);return u?u.resolvedTrack.then(c=>{o=u.mid,n.next(c)}).catch(c=>n.error(c)):n.error(new Error("Missing Track Info")),t.trackName})});return()=>{clearTimeout(i),s?.then(a=>{o&&(ft.debug("\u{1F51A} Closing pulled track ",a),this.taskScheduler.schedule(async()=>this.closeTrack(r,o,e)))})}}).pipe(Uf(2))}pull(r){return yo([this.session$,r.pipe(mu((e,t)=>JSON.stringify(e)===JSON.stringify(t)))]).pipe(yr(([{peerConnection:e,sessionId:t},o])=>this.#o(e,t,o)),nr({refCount:!0,bufferSize:1}))}async closeTrack(r,e,t){let o=r.getTransceivers().find(a=>a.mid===e);if(r.connectionState!=="connected"||o===void 0)return;let n=await r.createOffer();n.sdp=n.sdp?.replace("useinbandfec=1","usedtx=1;useinbandfec=1"),await r.setLocalDescription(n);let s={tracks:[{mid:o.mid}],sessionDescription:{sdp:r.localDescription?.sdp,type:"offer"},force:!1},i=await this.fetchWithRecordedHistory(`${this.config.prefix}/sessions/${t}/tracks/close?${this.config.apiExtraParams}`,{method:"PUT",body:JSON.stringify(s)}).then(a=>a.json());await r.setRemoteDescription(new RTCSessionDescription(i.sessionDescription))}};async function d7(r,e,t=5e3){return new Promise((o,n)=>{setTimeout(n,t);let s=()=>{let i=r.getTransceivers().find(e);i&&(o(i),r.removeEventListener("track",s))};r.addEventListener("track",s)})}async function WR(r){r.connectionState!=="connected"&&await new Promise((t,o)=>{let n=setTimeout(()=>{r.removeEventListener("connectionstatechange",s),o()},5e3),s=()=>{r.connectionState==="connected"&&(r.removeEventListener("connectionstatechange",s),clearTimeout(n),t(void 0))};r.addEventListener("connectionstatechange",s)})}async function HR(r){ft.info("\u{1F469}\u{1F3FB}\u200D\u2695\uFE0F Checking track health..."),r.enabled;let t=localStorage.getItem("flags.randomTrackFailuresEnabled")==="true"&&Math.random()<.2;t&&ft.info("\u{1F3B2} Random track failure!");let o=!r.muted&&r.readyState==="live"&&!t;try{if(!o){let s=(await navigator.mediaDevices.enumerateDevices()).find(i=>i.deviceId===r.getSettings().deviceId);ft.info(`\u{1F469}\u{1F3FB}\u200D\u2695\uFE0F Track from ${s?.label??"unkonwn device (enumerateDevices didn't find a matching device id)"} is unhealthy!`),ft.info(`\u{1F469}\u{1F3FB}\u200D\u2695\uFE0F track.readyState: ${r.readyState} and track.muted: ${r.muted}`,r)}}catch(n){ft.error("Error getting device info for unhealthy track",n,r)}return ft.info(`\u{1F469}\u{1F3FB}\u200D\u2695\uFE0F track is ${o?"healthy":"unhealthy"}!`),o}var h7=class extends Error{constructor(r){super(r),this.name=this.constructor.name}},zb=kg(()=>Ti(xr(navigator.mediaDevices.enumerateDevices()),ts(navigator.mediaDevices,"devicechange").pipe(Rg(1500),yr(()=>navigator.mediaDevices.enumerateDevices())))),jR=({kind:r,constraints:e={},devicePriority$:t=zb,onDeviceFailure:o=()=>{}})=>t.pipe(or(n=>n.filter(s=>s.kind===r)),mu((n,s)=>JSON.stringify(n)===JSON.stringify(s))).pipe(yr(n=>$g(...n.map(s=>new Ne(i=>{let a={current:()=>{}};return KR(i,s,e,a,o),()=>{a.current()}})),new Ne(s=>s.error(new h7)))),nr({refCount:!0,bufferSize:1}));function KR(r,e,t,o,n){let{deviceId:s,groupId:i,label:a}=e;ft.log(`\u{1F64F}\u{1F3FB} Requesting ${a}`),navigator.mediaDevices.getUserMedia(e.kind==="videoinput"?{video:{...t,deviceId:s,groupId:i}}:{audio:{...t,deviceId:s,groupId:i}}).then(async u=>{let c=e.kind==="videoinput"?u.getVideoTracks()[0]:u.getAudioTracks()[0];if(await HR(c)){let l=()=>{ft.log("\u{1F6D1} Stopping track"),c.stop(),document.removeEventListener("visibilitychange",p)},p=async()=>{document.visibilityState==="visible"&&(ft.log("Tab is foregrounded, checking health..."),!await HR(c)&&(ft.log("Reacquiring track"),l(),KR(r,e,t,o,n)))};document.addEventListener("visibilitychange",p),o.current=l,r.next(c)}else ft.log("\u2620\uFE0F track is not healthy, stopping"),n(e),c.stop(),r.complete();c.addEventListener("ended",()=>{ft.log("\u{1F50C} Track ended abrubptly"),r.complete()})}).catch(u=>{u instanceof Error&&(u.name==="NotFoundError"||u.name==="NotReadableError")?r.complete():r.error(u)})}function qR(){return yo([zb,UR()]).pipe(hu(GR()),or(([[r,e],t])=>r.sort(BR({prioritizeList:e,deprioritizeList:t}))))}function Wb(r){return jR({kind:r,devicePriority$:qR()})}var XR=new Ne(r=>{let e=new window.AudioContext,o=e.createMediaStreamDestination().stream.getAudioTracks()[0];return r.next(o),()=>{o.stop(),e.close()}});var YR={NotAllowedError:"Permission was denied. Grant permission and reload to enable.",NotFoundError:"No device was found.",NotReadableError:"Device is already in use.",OverconstrainedError:"No device was found that meets constraints.",DevicesExhaustedError:"All devices failed to initialize.",UnknownError:"An unknown error occurred."};function g7(){let[r,e]=vg("blur-video",!1),[t,o]=vg("suppress-noise",!1),[n,s]=(0,Dt.useState)(!0),[i,a]=(0,Dt.useState)(!0),[u,c]=(0,Dt.useState)(!1),[l,p]=(0,Dt.useState)(),[f,d]=(0,Dt.useState)(),h=(0,Dt.useCallback)(()=>s(!1),[]),x=(0,Dt.useCallback)(()=>s(!0),[]),g=(0,Dt.useCallback)(()=>a(!0),[]),b=(0,Dt.useCallback)(()=>a(!1),[]),C=(0,Dt.useCallback)(()=>c(!0),[]),k=(0,Dt.useCallback)(()=>c(!1),[]),A=xu(r),D=xu(i),L=(0,Dt.useMemo)(()=>yo([D.pipe(yr(Te=>Te?Wb("videoinput").pipe(rs({error:Ve=>{Lt(Ve instanceof Error);let at=Ve.name in YR?Ve.name:"UnknownError";at==="UnknownError"&&console.error("Unknown error getting video track: ",Ve),p(at),a(!1)}})):Mr(Hw()))),A]).pipe(yr(([Te,Ve])=>Ve&&Te?Fb(Te):Mr(Te)),nr({refCount:!0,bufferSize:1})),[D,A]),M=gu(L),V=M?.getSettings().deviceId,z=xu(t),W=(0,Dt.useMemo)(()=>yo([Wb("audioinput").pipe(rs({error:Te=>{Lt(Te instanceof Error);let Ve=Te.name in YR?Te.name:"UnknownError";Ve==="UnknownError"&&console.error("Unknown error getting audio track: ",Te),d(Ve),s(!1)}})),z]).pipe(yr(([Te,Ve])=>Mr(Ve&&Te?Lb(Te):Te)),nr({refCount:!0,bufferSize:1})),[z]),H=gu(W),X=H?.getSettings().deviceId,oe=xu(n),ae=(0,Dt.useMemo)(()=>oe.pipe(yr(Te=>Te?W:XR),nr({refCount:!0,bufferSize:1})),[oe,W]),ce=gu(ae),Se=(0,Dt.useMemo)(()=>u?zR({contentHint:"text"}).pipe(rs({next:Te=>{Te===void 0&&c(!1)},finalize:()=>c(!1)}),or(Te=>Te?.getVideoTracks()[0])):Mr(void 0),[u]),Ie=gu(Se);return{turnMicOn:x,turnMicOff:h,audioStreamTrack:ce,audioMonitorStreamTrack:H,audioEnabled:n,audioUnavailableReason:f,publicAudioTrack$:ae,privateAudioTrack$:W,audioDeviceId:X,setAudioDeviceId:Te=>navigator.mediaDevices.enumerateDevices().then(Ve=>{let at=Ve.find(dt=>dt.deviceId===Te);at&&Vb(at)}),setVideoDeviceId:Te=>navigator.mediaDevices.enumerateDevices().then(Ve=>{let at=Ve.find(dt=>dt.deviceId===Te);at&&Vb(at)}),videoDeviceId:V,turnCameraOn:g,turnCameraOff:b,videoEnabled:i,videoUnavailableReason:l,blurVideo:r,setBlurVideo:e,suppressNoise:t,setSuppressNoise:o,videoTrack$:L,videoStreamTrack:M,startScreenShare:C,endScreenShare:k,screenShareVideoTrack:Ie,screenShareEnabled:u,screenShareVideoTrack$:Se}}var Ra=De(ze(),1);function x7({title:r,titleId:e,...t},o){return Ra.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Ra.createElement("title",{id:e},r):null,Ra.createElement("path",{d:"M13.75 7h-3v5.296l1.943-2.048a.75.75 0 0 1 1.114 1.004l-3.25 3.5a.75.75 0 0 1-1.114 0l-3.25-3.5a.75.75 0 1 1 1.114-1.004l1.943 2.048V7h1.5V1.75a.75.75 0 0 0-1.5 0V7h-3A2.25 2.25 0 0 0 4 9.25v7.5A2.25 2.25 0 0 0 6.25 19h7.5A2.25 2.25 0 0 0 16 16.75v-7.5A2.25 2.25 0 0 0 13.75 7Z"}))}var y7=Ra.forwardRef(x7),Hb=y7;var _a=De(ze(),1);function b7({title:r,titleId:e,...t},o){return _a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?_a.createElement("title",{id:e},r):null,_a.createElement("path",{fillRule:"evenodd",d:"M13.75 7h-3V3.66l1.95 2.1a.75.75 0 1 0 1.1-1.02l-3.25-3.5a.75.75 0 0 0-1.1 0L6.2 4.74a.75.75 0 0 0 1.1 1.02l1.95-2.1V7h-3A2.25 2.25 0 0 0 4 9.25v7.5A2.25 2.25 0 0 0 6.25 19h7.5A2.25 2.25 0 0 0 16 16.75v-7.5A2.25 2.25 0 0 0 13.75 7Zm-3 0h-1.5v5.25a.75.75 0 0 0 1.5 0V7Z",clipRule:"evenodd"}))}var v7=_a.forwardRef(b7),jb=v7;var Oa=De(ze(),1);function w7({title:r,titleId:e,...t},o){return Oa.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Oa.createElement("title",{id:e},r):null,Oa.createElement("path",{d:"M3.28 2.22a.75.75 0 0 0-1.06 1.06L5.44 6.5H2.75a.75.75 0 0 0 0 1.5h4.5A.75.75 0 0 0 8 7.25v-4.5a.75.75 0 0 0-1.5 0v2.69L3.28 2.22ZM13.5 2.75a.75.75 0 0 0-1.5 0v4.5c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-2.69l3.22-3.22a.75.75 0 0 0-1.06-1.06L13.5 5.44V2.75ZM3.28 17.78l3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.69l-3.22 3.22a.75.75 0 1 0 1.06 1.06ZM13.5 14.56l3.22 3.22a.75.75 0 1 0 1.06-1.06l-3.22-3.22h2.69a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-2.69Z"}))}var S7=Oa.forwardRef(w7),Kb=S7;var Da=De(ze(),1);function T7({title:r,titleId:e,...t},o){return Da.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Da.createElement("title",{id:e},r):null,Da.createElement("path",{d:"m13.28 7.78 3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.69l-3.22 3.22a.75.75 0 0 0 1.06 1.06ZM2 17.25v-4.5a.75.75 0 0 1 1.5 0v2.69l3.22-3.22a.75.75 0 0 1 1.06 1.06L4.56 16.5h2.69a.75.75 0 0 1 0 1.5h-4.5a.747.747 0 0 1-.75-.75ZM12.22 13.28l3.22 3.22h-2.69a.75.75 0 0 0 0 1.5h4.5a.747.747 0 0 0 .75-.75v-4.5a.75.75 0 0 0-1.5 0v2.69l-3.22-3.22a.75.75 0 1 0-1.06 1.06ZM3.5 4.56l3.22 3.22a.75.75 0 0 0 1.06-1.06L4.56 3.5h2.69a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0V4.56Z"}))}var C7=Da.forwardRef(T7),qb=C7;var Fa=De(ze(),1);function I7({title:r,titleId:e,...t},o){return Fa.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Fa.createElement("title",{id:e},r):null,Fa.createElement("path",{fillRule:"evenodd",d:"M6.56 1.14a.75.75 0 0 1 .177 1.045 3.989 3.989 0 0 0-.464.86c.185.17.382.329.59.473A3.993 3.993 0 0 1 10 2c1.272 0 2.405.594 3.137 1.518.208-.144.405-.302.59-.473a3.989 3.989 0 0 0-.464-.86.75.75 0 0 1 1.222-.869c.369.519.65 1.105.822 1.736a.75.75 0 0 1-.174.707 7.03 7.03 0 0 1-1.299 1.098A4 4 0 0 1 14 6c0 .52-.301.963-.723 1.187a6.961 6.961 0 0 1-1.158.486c.13.208.231.436.296.679 1.413-.174 2.779-.5 4.081-.96a19.655 19.655 0 0 0-.09-2.319.75.75 0 1 1 1.493-.146 21.239 21.239 0 0 1 .08 3.028.75.75 0 0 1-.482.667 20.873 20.873 0 0 1-5.153 1.249 2.521 2.521 0 0 1-.107.247 20.945 20.945 0 0 1 5.252 1.257.75.75 0 0 1 .482.74 20.945 20.945 0 0 1-.908 5.107.75.75 0 0 1-1.433-.444c.415-1.34.69-2.743.806-4.191-.495-.173-1-.327-1.512-.46.05.284.076.575.076.873 0 1.814-.517 3.312-1.426 4.37A4.639 4.639 0 0 1 10 19a4.639 4.639 0 0 1-3.574-1.63C5.516 16.311 5 14.813 5 13c0-.298.026-.59.076-.873-.513.133-1.017.287-1.512.46.116 1.448.39 2.85.806 4.191a.75.75 0 1 1-1.433.444 20.94 20.94 0 0 1-.908-5.107.75.75 0 0 1 .482-.74 20.838 20.838 0 0 1 5.252-1.257 2.493 2.493 0 0 1-.107-.247 20.874 20.874 0 0 1-5.153-1.249.75.75 0 0 1-.482-.667 21.342 21.342 0 0 1 .08-3.028.75.75 0 1 1 1.493.146 19.745 19.745 0 0 0-.09 2.319c1.302.46 2.668.786 4.08.96.066-.243.166-.471.297-.679a6.962 6.962 0 0 1-1.158-.486A1.348 1.348 0 0 1 6 6a4 4 0 0 1 .166-1.143 7.032 7.032 0 0 1-1.3-1.098.75.75 0 0 1-.173-.707 5.48 5.48 0 0 1 .822-1.736.75.75 0 0 1 1.046-.177Z",clipRule:"evenodd"}))}var E7=Fa.forwardRef(I7),Xb=E7;var Pa=De(ze(),1);function N7({title:r,titleId:e,...t},o){return Pa.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Pa.createElement("title",{id:e},r):null,Pa.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}var $7=Pa.forwardRef(N7),Yb=$7;var La=De(ze(),1);function k7({title:r,titleId:e,...t},o){return La.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?La.createElement("title",{id:e},r):null,La.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}var A7=La.forwardRef(k7),Zb=A7;var Ba=De(ze(),1);function R7({title:r,titleId:e,...t},o){return Ba.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Ba.createElement("title",{id:e},r):null,Ba.createElement("path",{fillRule:"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z",clipRule:"evenodd"}))}var _7=Ba.forwardRef(R7),Qb=_7;var ci=De(ze(),1);function O7({title:r,titleId:e,...t},o){return ci.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?ci.createElement("title",{id:e},r):null,ci.createElement("path",{fillRule:"evenodd",d:"M18 5.25a2.25 2.25 0 0 0-2.012-2.238A2.25 2.25 0 0 0 13.75 1h-1.5a2.25 2.25 0 0 0-2.238 2.012c-.875.092-1.6.686-1.884 1.488H11A2.5 2.5 0 0 1 13.5 7v7h2.25A2.25 2.25 0 0 0 18 11.75v-6.5ZM12.25 2.5a.75.75 0 0 0-.75.75v.25h3v-.25a.75.75 0 0 0-.75-.75h-1.5Z",clipRule:"evenodd"}),ci.createElement("path",{fillRule:"evenodd",d:"M3 6a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm6.874 4.166a.75.75 0 1 0-1.248-.832l-2.493 3.739-.853-.853a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.154-.114l3-4.5Z",clipRule:"evenodd"}))}var D7=ci.forwardRef(O7),Jb=D7;var li=De(ze(),1);function F7({title:r,titleId:e,...t},o){return li.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?li.createElement("title",{id:e},r):null,li.createElement("path",{fillRule:"evenodd",d:"M15.988 3.012A2.25 2.25 0 0 1 18 5.25v6.5A2.25 2.25 0 0 1 15.75 14H13.5v-3.379a3 3 0 0 0-.879-2.121l-3.12-3.121a3 3 0 0 0-1.402-.791 2.252 2.252 0 0 1 1.913-1.576A2.25 2.25 0 0 1 12.25 1h1.5a2.25 2.25 0 0 1 2.238 2.012ZM11.5 3.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v.25h-3v-.25Z",clipRule:"evenodd"}),li.createElement("path",{d:"M3.5 6A1.5 1.5 0 0 0 2 7.5v9A1.5 1.5 0 0 0 3.5 18h7a1.5 1.5 0 0 0 1.5-1.5v-5.879a1.5 1.5 0 0 0-.44-1.06L8.44 6.439A1.5 1.5 0 0 0 7.378 6H3.5Z"}))}var P7=li.forwardRef(F7),ev=P7;var Ma=De(ze(),1);function L7({title:r,titleId:e,...t},o){return Ma.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Ma.createElement("title",{id:e},r):null,Ma.createElement("path",{fillRule:"evenodd",d:"M7.84 1.804A1 1 0 0 1 8.82 1h2.36a1 1 0 0 1 .98.804l.331 1.652a6.993 6.993 0 0 1 1.929 1.115l1.598-.54a1 1 0 0 1 1.186.447l1.18 2.044a1 1 0 0 1-.205 1.251l-1.267 1.113a7.047 7.047 0 0 1 0 2.228l1.267 1.113a1 1 0 0 1 .206 1.25l-1.18 2.045a1 1 0 0 1-1.187.447l-1.598-.54a6.993 6.993 0 0 1-1.929 1.115l-.33 1.652a1 1 0 0 1-.98.804H8.82a1 1 0 0 1-.98-.804l-.331-1.652a6.993 6.993 0 0 1-1.929-1.115l-1.598.54a1 1 0 0 1-1.186-.447l-1.18-2.044a1 1 0 0 1 .205-1.251l1.267-1.114a7.05 7.05 0 0 1 0-2.227L1.821 7.773a1 1 0 0 1-.206-1.25l1.18-2.045a1 1 0 0 1 1.187-.447l1.598.54A6.992 6.992 0 0 1 7.51 3.456l.33-1.652ZM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"}))}var B7=Ma.forwardRef(L7),tv=B7;var Va=De(ze(),1);function M7({title:r,titleId:e,...t},o){return Va.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Va.createElement("title",{id:e},r):null,Va.createElement("path",{fillRule:"evenodd",d:"M2 4.25A2.25 2.25 0 0 1 4.25 2h11.5A2.25 2.25 0 0 1 18 4.25v8.5A2.25 2.25 0 0 1 15.75 15h-3.105a3.501 3.501 0 0 0 1.1 1.677A.75.75 0 0 1 13.26 18H6.74a.75.75 0 0 1-.484-1.323A3.501 3.501 0 0 0 7.355 15H4.25A2.25 2.25 0 0 1 2 12.75v-8.5Zm1.5 0a.75.75 0 0 1 .75-.75h11.5a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-.75.75H4.25a.75.75 0 0 1-.75-.75v-7.5Z",clipRule:"evenodd"}))}var V7=Va.forwardRef(M7),rv=V7;var Ua=De(ze(),1);function U7({title:r,titleId:e,...t},o){return Ua.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Ua.createElement("title",{id:e},r):null,Ua.createElement("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}))}var G7=Ua.forwardRef(U7),ov=G7;var Ga=De(ze(),1);function z7({title:r,titleId:e,...t},o){return Ga.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Ga.createElement("title",{id:e},r):null,Ga.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-8-5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5A.75.75 0 0 1 10 5Zm0 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}var W7=Ga.forwardRef(z7),nv=W7;var za=De(ze(),1);function H7({title:r,titleId:e,...t},o){return za.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?za.createElement("title",{id:e},r):null,za.createElement("path",{fillRule:"evenodd",d:"M11 2a1 1 0 1 0-2 0v6.5a.5.5 0 0 1-1 0V3a1 1 0 1 0-2 0v5.5a.5.5 0 0 1-1 0V5a1 1 0 1 0-2 0v7a7 7 0 1 0 14 0V8a1 1 0 1 0-2 0v3.5a.5.5 0 0 1-1 0V3a1 1 0 1 0-2 0v5.5a.5.5 0 0 1-1 0V2Z",clipRule:"evenodd"}))}var j7=za.forwardRef(H7),sv=j7;var pi=De(ze(),1);function K7({title:r,titleId:e,...t},o){return pi.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?pi.createElement("title",{id:e},r):null,pi.createElement("path",{d:"M7 4a3 3 0 0 1 6 0v6a3 3 0 1 1-6 0V4Z"}),pi.createElement("path",{d:"M5.5 9.643a.75.75 0 0 0-1.5 0V10c0 3.06 2.29 5.585 5.25 5.954V17.5h-1.5a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-1.5v-1.546A6.001 6.001 0 0 0 16 10v-.357a.75.75 0 0 0-1.5 0V10a4.5 4.5 0 0 1-9 0v-.357Z"}))}var q7=pi.forwardRef(K7),iv=q7;var Wa=De(ze(),1);function X7({title:r,titleId:e,...t},o){return Wa.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Wa.createElement("title",{id:e},r):null,Wa.createElement("path",{fillRule:"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z",clipRule:"evenodd"}))}var Y7=Wa.forwardRef(X7),av=Y7;var Ha=De(ze(),1);function Z7({title:r,titleId:e,...t},o){return Ha.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Ha.createElement("title",{id:e},r):null,Ha.createElement("path",{fillRule:"evenodd",d:"M3.5 2A1.5 1.5 0 0 0 2 3.5V5c0 1.149.15 2.263.43 3.326a13.022 13.022 0 0 0 9.244 9.244c1.063.28 2.177.43 3.326.43h1.5a1.5 1.5 0 0 0 1.5-1.5v-1.148a1.5 1.5 0 0 0-1.175-1.465l-3.223-.716a1.5 1.5 0 0 0-1.767 1.052l-.267.933c-.117.41-.555.643-.95.48a11.542 11.542 0 0 1-6.254-6.254c-.163-.395.07-.833.48-.95l.933-.267a1.5 1.5 0 0 0 1.052-1.767l-.716-3.223A1.5 1.5 0 0 0 4.648 2H3.5Zm9.78.22a.75.75 0 1 0-1.06 1.06L13.94 5l-1.72 1.72a.75.75 0 0 0 1.06 1.06L15 6.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L16.06 5l1.72-1.72a.75.75 0 0 0-1.06-1.06L15 3.94l-1.72-1.72Z",clipRule:"evenodd"}))}var Q7=Ha.forwardRef(Z7),uv=Q7;var ja=De(ze(),1);function J7({title:r,titleId:e,...t},o){return ja.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?ja.createElement("title",{id:e},r):null,ja.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}var eH=ja.forwardRef(J7),cv=eH;var fi=De(ze(),1);function tH({title:r,titleId:e,...t},o){return fi.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?fi.createElement("title",{id:e},r):null,fi.createElement("path",{d:"M4.464 3.162A2 2 0 0 1 6.28 2h7.44a2 2 0 0 1 1.816 1.162l1.154 2.5c.067.145.115.291.145.438A3.508 3.508 0 0 0 16 6H4c-.288 0-.568.035-.835.1.03-.147.078-.293.145-.438l1.154-2.5Z"}),fi.createElement("path",{fillRule:"evenodd",d:"M2 9.5a2 2 0 0 1 2-2h12a2 2 0 1 1 0 4H4a2 2 0 0 1-2-2Zm13.24 0a.75.75 0 0 1 .75-.75H16a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75h-.01a.75.75 0 0 1-.75-.75V9.5Zm-2.25-.75a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75H13a.75.75 0 0 0 .75-.75V9.5a.75.75 0 0 0-.75-.75h-.01ZM2 15a2 2 0 0 1 2-2h12a2 2 0 1 1 0 4H4a2 2 0 0 1-2-2Zm13.24 0a.75.75 0 0 1 .75-.75H16a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75h-.01a.75.75 0 0 1-.75-.75V15Zm-2.25-.75a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75H13a.75.75 0 0 0 .75-.75V15a.75.75 0 0 0-.75-.75h-.01Z",clipRule:"evenodd"}))}var rH=fi.forwardRef(tH),lv=rH;var Ka=De(ze(),1);function oH({title:r,titleId:e,...t},o){return Ka.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Ka.createElement("title",{id:e},r):null,Ka.createElement("path",{d:"M2.22 2.22a.75.75 0 0 1 1.06 0l6.783 6.782a1 1 0 0 1 .935.935l6.782 6.783a.75.75 0 1 1-1.06 1.06l-6.783-6.782a1 1 0 0 1-.935-.935L2.22 3.28a.75.75 0 0 1 0-1.06ZM3.636 16.364a9.004 9.004 0 0 1-1.39-10.936L3.349 6.53a7.503 7.503 0 0 0 1.348 8.773.75.75 0 0 1-1.061 1.061ZM6.464 13.536a5 5 0 0 1-1.213-5.103l1.262 1.262a3.493 3.493 0 0 0 1.012 2.78.75.75 0 0 1-1.06 1.06ZM16.364 3.636a9.004 9.004 0 0 1 1.39 10.937l-1.103-1.104a7.503 7.503 0 0 0-1.348-8.772.75.75 0 1 1 1.061-1.061ZM13.536 6.464a5 5 0 0 1 1.213 5.103l-1.262-1.262a3.493 3.493 0 0 0-1.012-2.78.75.75 0 0 1 1.06-1.06Z"}))}var nH=Ka.forwardRef(oH),pv=nH;var mi=De(ze(),1);function sH({title:r,titleId:e,...t},o){return mi.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?mi.createElement("title",{id:e},r):null,mi.createElement("path",{d:"M16.364 3.636a.75.75 0 0 0-1.06 1.06 7.5 7.5 0 0 1 0 10.607.75.75 0 0 0 1.06 1.061 9 9 0 0 0 0-12.728ZM4.697 4.697a.75.75 0 0 0-1.061-1.061 9 9 0 0 0 0 12.728.75.75 0 1 0 1.06-1.06 7.5 7.5 0 0 1 0-10.607Z"}),mi.createElement("path",{d:"M12.475 6.464a.75.75 0 0 1 1.06 0 5 5 0 0 1 0 7.072.75.75 0 0 1-1.06-1.061 3.5 3.5 0 0 0 0-4.95.75.75 0 0 1 0-1.06ZM7.525 6.464a.75.75 0 0 1 0 1.061 3.5 3.5 0 0 0 0 4.95.75.75 0 0 1-1.06 1.06 5 5 0 0 1 0-7.07.75.75 0 0 1 1.06 0ZM11 10a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}))}var iH=mi.forwardRef(sH),fv=iH;var qa=De(ze(),1);function aH({title:r,titleId:e,...t},o){return qa.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?qa.createElement("title",{id:e},r):null,qa.createElement("path",{d:"M10 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM6 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM1.49 15.326a.78.78 0 0 1-.358-.442 3 3 0 0 1 4.308-3.516 6.484 6.484 0 0 0-1.905 3.959c-.023.222-.014.442.025.654a4.97 4.97 0 0 1-2.07-.655ZM16.44 15.98a4.97 4.97 0 0 0 2.07-.654.78.78 0 0 0 .357-.442 3 3 0 0 0-4.308-3.517 6.484 6.484 0 0 1 1.907 3.96 2.32 2.32 0 0 1-.026.654ZM18 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM5.304 16.19a.844.844 0 0 1-.277-.71 5 5 0 0 1 9.947 0 .843.843 0 0 1-.277.71A6.975 6.975 0 0 1 10 18a6.974 6.974 0 0 1-4.696-1.81Z"}))}var uH=qa.forwardRef(aH),mv=uH;var Xa=De(ze(),1);function cH({title:r,titleId:e,...t},o){return Xa.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Xa.createElement("title",{id:e},r):null,Xa.createElement("path",{d:"M1 13.75V7.182L9.818 16H3.25A2.25 2.25 0 0 1 1 13.75ZM13 6.25v6.568L4.182 4h6.568A2.25 2.25 0 0 1 13 6.25ZM19 4.75a.75.75 0 0 0-1.28-.53l-3 3a.75.75 0 0 0-.22.53v4.5c0 .199.079.39.22.53l3 3a.75.75 0 0 0 1.28-.53V4.75ZM2.28 4.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06L2.28 4.22Z"}))}var lH=Xa.forwardRef(cH),dv=lH;var Ya=De(ze(),1);function pH({title:r,titleId:e,...t},o){return Ya.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Ya.createElement("title",{id:e},r):null,Ya.createElement("path",{d:"M3.25 4A2.25 2.25 0 0 0 1 6.25v7.5A2.25 2.25 0 0 0 3.25 16h7.5A2.25 2.25 0 0 0 13 13.75v-7.5A2.25 2.25 0 0 0 10.75 4h-7.5ZM19 4.75a.75.75 0 0 0-1.28-.53l-3 3a.75.75 0 0 0-.22.53v4.5c0 .199.079.39.22.53l3 3a.75.75 0 0 0 1.28-.53V4.75Z"}))}var fH=Ya.forwardRef(pH),hv=fH;var Za=De(ze(),1);function mH({title:r,titleId:e,...t},o){return Za.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Za.createElement("title",{id:e},r):null,Za.createElement("path",{fillRule:"evenodd",d:"M.676 6.941A12.964 12.964 0 0 1 10 3c3.657 0 6.963 1.511 9.324 3.941a.75.75 0 0 1-.008 1.053l-.353.354a.75.75 0 0 1-1.069-.008C15.894 6.28 13.097 5 10 5 6.903 5 4.106 6.28 2.106 8.34a.75.75 0 0 1-1.069.008l-.353-.354a.75.75 0 0 1-.008-1.053Zm2.825 2.833A8.976 8.976 0 0 1 10 7a8.976 8.976 0 0 1 6.499 2.774.75.75 0 0 1-.011 1.049l-.354.354a.75.75 0 0 1-1.072-.012A6.978 6.978 0 0 0 10 9c-1.99 0-3.786.83-5.061 2.165a.75.75 0 0 1-1.073.012l-.354-.354a.75.75 0 0 1-.01-1.05Zm2.82 2.84A4.989 4.989 0 0 1 10 11c1.456 0 2.767.623 3.68 1.614a.75.75 0 0 1-.022 1.039l-.354.354a.75.75 0 0 1-1.085-.026A2.99 2.99 0 0 0 10 13c-.88 0-1.67.377-2.22.981a.75.75 0 0 1-1.084.026l-.354-.354a.75.75 0 0 1-.021-1.039Zm2.795 2.752a1.248 1.248 0 0 1 1.768 0 .75.75 0 0 1 0 1.06l-.354.354a.75.75 0 0 1-1.06 0l-.354-.353a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}var dH=Za.forwardRef(mH),gv=dH;var Qa=De(ze(),1);function hH({title:r,titleId:e,...t},o){return Qa.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},t),r?Qa.createElement("title",{id:e},r):null,Qa.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM8.28 7.22a.75.75 0 0 0-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 1 0 1.06 1.06L10 11.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L11.06 10l1.72-1.72a.75.75 0 0 0-1.06-1.06L10 8.94 8.28 7.22Z",clipRule:"evenodd"}))}var gH=Qa.forwardRef(hH),xv=gH;var yv=De(gf()),ZR=r=>(0,yv.jsx)("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...r,children:(0,yv.jsx)("path",{d:"M18.75 12.75C18.75 13.571 18.6004 14.3778 18.3153 15.1333L17.115 13.933C17.204 13.5481 17.25 13.1514 17.25 12.75V11.25C17.25 11.0511 17.329 10.8603 17.4697 10.7197C17.6103 10.579 17.8011 10.5 18 10.5C18.1989 10.5 18.3897 10.579 18.5303 10.7197C18.671 10.8603 18.75 11.0511 18.75 11.25V12.75ZM15.75 4.5V12.568L8.25 5.06802V4.5C8.25 3.50544 8.64509 2.55161 9.34835 1.84835C10.0516 1.14509 11.0054 0.75 12 0.75C12.9946 0.75 13.9484 1.14509 14.6517 1.84835C15.3549 2.55161 15.75 3.50544 15.75 4.5ZM13.1404 16.3224L8.25 11.432V12.75C8.25 13.7446 8.64509 14.6984 9.34835 15.4017C10.0516 16.1049 11.0054 16.5 12 16.5C12.3907 16.5 12.775 16.439 13.1404 16.3224ZM15.3998 18.5818L14.2915 17.4735C13.5839 17.8168 12.8014 18 12 18C10.6076 18 9.27225 17.4469 8.28769 16.4623C7.30312 15.4777 6.75 14.1424 6.75 12.75V11.25C6.75 11.0511 6.67098 10.8603 6.53033 10.7197C6.38968 10.579 6.19891 10.5 6 10.5C5.80109 10.5 5.61032 10.579 5.46967 10.7197C5.32902 10.8603 5.25 11.0511 5.25 11.25V12.75C5.25002 14.4104 5.86196 16.0126 6.96884 17.2503C8.07571 18.4879 9.59988 19.2743 11.25 19.459V21.75H8.25C8.05109 21.75 7.86032 21.829 7.71967 21.9697C7.57902 22.1103 7.5 22.3011 7.5 22.5C7.5 22.6989 7.57902 22.8897 7.71967 23.0303C7.86032 23.171 8.05109 23.25 8.25 23.25H15.75C15.9489 23.25 16.1397 23.171 16.2803 23.0303C16.421 22.8897 16.5 22.6989 16.5 22.5C16.5 22.3011 16.421 22.1103 16.2803 21.9697C16.1397 21.829 15.9489 21.75 15.75 21.75H12.75V19.459C13.6924 19.3535 14.5938 19.0518 15.3998 18.5818ZM3.53033 2.46967C3.23744 2.17678 2.76256 2.17678 2.46967 2.46967C2.17678 2.76256 2.17678 3.23744 2.46967 3.53033L20.4697 21.5303C20.7626 21.8232 21.2374 21.8232 21.5303 21.5303C21.8232 21.2374 21.8232 20.7626 21.5303 20.4697L3.53033 2.46967Z"})});var QR=De(gf()),xH={micOn:iv,micOff:ZR,videoOn:hv,videoOff:dv,screenshare:rv,arrowsOut:qb,arrowsIn:Kb,cog:tv,xCircle:xv,bug:Xb,phoneXMark:uv,handRaised:sv,userGroup:mv,PlusIcon:cv,MinusIcon:av,CheckIcon:Yb,ChevronUpIcon:Qb,ChevronDownIcon:Zb,EllipsisVerticalIcon:ov,ClipboardDocumentCheckIcon:Jb,ClipboardDocumentIcon:ev,SignalIcon:fv,SignalSlashIcon:pv,ExclamationCircleIcon:nv,ServerStackIcon:lv,ArrowDownOnSquareIcon:Hb,ArrowUpOnSquareIcon:jb,WifiIcon:gv},PQe=({type:r,className:e,...t})=>{let o=xH[r];return(0,QR.jsx)(o,{className:mw("h-[1em]",e),...t})};export{Ne as a,xr as b,Mr as c,or as d,yo as e,ts as f,wO as g,TO as h,yr as i,gu as j,xu as k,eZe as l,tZe as m,qR as n,YR as o,g7 as p,PQe as q};
/*! Bundled license information:

@tensorflow/tfjs-core/dist/backends/backend.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/util_base.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/environment.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/global_util.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/log.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/kernel_registry.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/platforms/is_typed_array_browser.js:
  (**
   * @license
   * Copyright 2023 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/hash_util.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/util.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/profiler.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/tape.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/tensor_format.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/tensor.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/types.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/tensor_util.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/engine.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/device_util.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/flags.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/tensor_util_env.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/operation.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/complex.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/tensor_ops_util.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/tensor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/io/types.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/globals.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/io/io_utils.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/io/router_registry.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/io/indexed_db.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/io/local_storage.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/io/model_management.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/platforms/platform_browser.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/platforms/platform_node.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/buffer.js:
  (**
   * @license
   * Copyright 2020 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/cast.js:
  (**
   * @license
   * Copyright 2020 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/clone.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/print.js:
  (**
   * @license
   * Copyright 2020 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/base_side_effects.js:
  (**
   * @license
   * Copyright 2020 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/add.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/floorDiv.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/div.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/mul.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/abs.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/acos.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/acosh.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/add_n.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/all.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/any.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/arg_max.js:
  (**
   * @license
   * Copyright 2020 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/arg_min.js:
  (**
   * @license
   * Copyright 2020 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/asin.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/asinh.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/atan.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/atan2.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/atanh.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/conv_util.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/reshape.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/avg_pool.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/avg_pool_3d.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/concat.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/mat_mul.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sigmoid.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/slice.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/tanh.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/basic_lstm_cell.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/batch_to_space_nd.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/batchnorm.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/bincount.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/bitwise_and.js:
  (**
   * @license
   * Copyright 2023 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/broadcast_args.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/broadcast_to.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/ceil.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/fill.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/clip_by_value.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/conv2d.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/conv2d_backprop_input.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/conv3d.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/conv3d_backprop_input.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/cos.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/cosh.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/cumprod.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the 'License');
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an 'AS IS' BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/cumsum.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/dense_bincount.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/depth_to_space.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/depthwise_conv2d.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/diag.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/dilation2d.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/broadcast_util.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/equal.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/where.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/zeros_like.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/div_no_nan.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/dot.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/einsum.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/elu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/ensure_shape.js:
  (**
   * @license
   * Copyright 2023 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/erf.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/axis_util.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/max.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/min.js:
  (**
   * @license
   * Copyright 2020 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/pow.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/scalar.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sqrt.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/square.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sum.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/norm.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/euclidean_norm.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/exp.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/expand_dims.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/expm1.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/tile.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/eye.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/floor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/gather.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/greater.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/greater_equal.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/imag.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/is_finite.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/is_inf.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/is_nan.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/leaky_relu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/less.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/less_equal.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/linspace.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/local_response_normalization.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/log.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/log1p.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/gradients.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/neg.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/softplus.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/log_sigmoid.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sub.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/log_softmax.js:
  (**
   * @license
   * Copyright 2020 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/log_sum_exp.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/logical_and.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/logical_not.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/logical_or.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/logical_xor.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/search_sorted.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/lower_bound.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/max_pool.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/max_pool_3d.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/max_pool_with_argmax.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/maximum.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/mean.js:
  (**
   * @license
   * Copyright 2020 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/zeros.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/ones.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/meshgrid.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/minimum.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/mirror_pad.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/mod.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/moments.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/multinomial.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/not_equal.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/one_hot.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/ones_like.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/pad.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/space_to_batch_nd.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/pool.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/prelu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/prod.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/ragged_gather.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/ragged_range.js:
  (**
   * @license
   * Copyright 2022 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/ragged_tensor_to_tensor.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/rand.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/test_util.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/rand_util.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/random_gamma.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/random_normal.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/random_standard_normal.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/random_uniform.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/random_uniform_int.js:
  (**
   * @license
   * Copyright 2023 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/range.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/real.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/reciprocal.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/relu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/relu6.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/reverse.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/reverse_1d.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/reverse_2d.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/reverse_3d.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/reverse_4d.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/round.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/rsqrt.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/selu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/setdiff1d_async.js:
  (**
   * @license
   * Copyright 2020 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sign.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sin.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sinh.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/slice1d.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/slice2d.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/slice3d.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/slice4d.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/softmax.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/spectral/fft.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/spectral/ifft.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/spectral/irfft.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/split.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/spectral/rfft.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/squared_difference.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/squeeze.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/stack.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/step.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/strided_slice.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/tan.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/tensor1d.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/tensor2d.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/tensor3d.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/tensor4d.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/tensor5d.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/tensor6d.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/tensor_scatter_update.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/topk.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/truncated_normal.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/unique.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/unsorted_segment_sum.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/unstack.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/upper_bound.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/variable.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/backends/where_impl.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/where_async.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/boolean_mask.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/transpose.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/moving_average.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/scatter_nd.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sparse_to_dense.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/gather_nd.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/dropout_util.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/dropout.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/signal_ops_util.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/in_top_k.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/conv2d_backprop_filter.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/fused_util.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/fused/conv2d.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/depthwise_conv2d_native_backprop_filter.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/depthwise_conv2d_native_backprop_input.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/fused/mat_mul.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/fused_ops.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/signal/hamming_window.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/signal/hann_window.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/signal/frame.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/signal/stft.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/crop_and_resize.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/flip_left_right.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/grayscale_to_rgb.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/rgb_to_grayscale.js:
  (**
   * @license
   * Copyright 2023 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/rotate_with_offset.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/nonmax_util.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/non_max_suppression.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/backends/non_max_suppression_util.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/backends/non_max_suppression_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/non_max_suppression_async.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/non_max_suppression_with_score.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/non_max_suppression_with_score_async.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/non_max_suppression_padded.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/non_max_suppression_padded_async.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/resize_bilinear.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/resize_nearest_neighbor.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/threshold.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * https://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/image/transform.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/linalg/band_part.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/linalg/gram_schmidt.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/linalg/qr.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/loss_ops_utils.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/losses/absolute_difference.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/losses/huber_loss.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/losses/log_loss.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/losses/mean_squared_error.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/losses/sigmoid_cross_entropy.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/losses/softmax_cross_entropy.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sparse/sparse_fill_empty_rows.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sparse/sparse_reshape.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sparse/sparse_segment_mean.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sparse/sparse_segment_sum.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/string/string_n_grams.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/string/string_split.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/string/string_to_hash_bucket_fast.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/string/static_regex_replace.js:
  (**
   * @license
   * Copyright 2023 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/ops.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/serialization.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/optimizers/optimizer.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/optimizers/adadelta_optimizer.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/optimizers/adagrad_optimizer.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/optimizers/adam_optimizer.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/optimizers/adamax_optimizer.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/optimizers/sgd_optimizer.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/optimizers/momentum_optimizer.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/optimizers/rmsprop_optimizer.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/optimizers/register_optimizers.js:
  (**
   * @license
   * Copyright 2022 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/io/browser_files.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/io/progress.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/io/weights_loader.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/io/http.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/io/passthrough.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/io/io.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/confusion_matrix.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/math.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/browser.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/slice_util.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/version.js:
  (** @license See the LICENSE file. *)

@tensorflow/tfjs-core/dist/optimizers/optimizer_constructors.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/train.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/browser_util.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/concat_util.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/ragged_to_dense_util.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/reduce_util.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/rotate_util.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/array_ops_util.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/selu_util.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/erf_util.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/backends/complex_util.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/backends/einsum_util.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sparse/sparse_fill_empty_rows_util.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sparse/sparse_reshape_util.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/sparse/sparse_segment_reduction_util.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/segment_util.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/backends/backend_util.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/backends/kernel_impls.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/base.js:
  (**
   * @license
   * Copyright 2020 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/index.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/flags.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/data/compiled_api.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/custom_op/register.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/utils.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/arithmetic.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/basic_math.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/control.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/convolution.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/creation.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/dynamic.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/evaluation.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/graph.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/hash_table.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/image.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/logical.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/matrices.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/normalization.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/reduction.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/slice_join.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/sparse.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/spectral.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/string.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/op_list/transformation.js:
  (**
   * @license
   * Copyright 2023 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/operation_mapper.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/custom_op/node_value_impl.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-core/dist/ops/ops_for_converter.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/arithmetic_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/basic_math_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/executor/tensor_utils.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/executor/tensor_array.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/executor/tensor_list.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/control_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/convolution_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/creation_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/dynamic_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/evaluation_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/graph_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/executor/hash_table.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/hash_table_executor.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/image_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/logical_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/matrices_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/normalization_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/ragged_executor.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/reduction_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/slice_join_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/sparse_executor.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/spectral_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/string_executor.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/executors/transformation_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/operations/operation_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/executor/model_analysis.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/executor/graph_executor.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/executor/graph_model.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-converter/dist/version.js:
  (** @license See the LICENSE file. *)

@tensorflow/tfjs-converter/dist/index.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow-models/body-segmentation/dist/body-segmentation.esm.js:
  (**
      * @license
      * Copyright 2023 Google LLC. All Rights Reserved.
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      * http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
      * =============================================================================
      *)

@tensorflow/tfjs-backend-webgl/dist/canvas_util.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/tex_util.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/webgl_util.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/flags_webgl.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/glsl_version.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/shader_compiler_util.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/shader_compiler.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/gpgpu_math.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/decode_matrix_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/decode_matrix_packed_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/encode_float_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/encode_float_packed_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/encode_matrix_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/encode_matrix_packed_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/gpgpu_util.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/gpgpu_context.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/cpu_util.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Abs.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the License);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an AS IS BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/utils/binary_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Complex.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/utils/zeros_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Identity.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Real.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Cast.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/utils/binary_utils.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Add.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Bincount_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/BitwiseAnd.js:
  (**
   * @license
   * Copyright 2023 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/utils/unary_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/utils/unary_utils.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Ceil.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the License);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an AS IS BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Concat_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Equal.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Exp.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the License);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an AS IS BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Expm1.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the License);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an AS IS BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Floor.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the License);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an AS IS BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/FloorDiv.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/GatherNd_Impl.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/GatherV2_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Greater.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/GreaterEqual.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Less.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/LessEqual.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/LinSpace_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Log.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the License);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an AS IS BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Max_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Maximum.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Minimum.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Multiply.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Neg.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/NotEqual.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Transpose_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Prod.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/RaggedGather_impl.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/RaggedRange_impl.js:
  (**
   * @license
   * Copyright 2022 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/RaggedTensorToTensor_impl.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Range_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Rsqrt.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the License);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an AS IS BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Scatter_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Sigmoid.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the License);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an AS IS BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Slice.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/SparseFillEmptyRows_impl.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/SparseReshape_impl.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/SparseSegmentReduction_impl.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Sqrt.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the License);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an AS IS BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/SquaredDifference.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/StaticRegexReplace.js:
  (**
   * @license
   * Copyright 2023 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/StridedSlice_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/StringNGrams_impl.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/StringSplit_impl.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/StringToHashBucketFast_impl.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Sub.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Tile_impl.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/TopK_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/kernels/Unique_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-cpu/dist/shared.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernel_utils/shared.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/packing_util.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/pack_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/reshape_packed_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/texture_manager.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/unaryop_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/unaryop_packed_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/unpack_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/backend_webgl.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/base.js:
  (**
   * @license
   * Copyright 2020 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/binaryop_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/binaryop_packed_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Identity.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Complex.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/LeakyRelu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Prelu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernel_utils/kernel_funcs_utils.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/mulmat_packed_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/binaryop_complex_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Multiply.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernel_utils/reshape.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Reshape.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/mean_gpu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/reduce_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernel_utils/reduce.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/transpose_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/transpose_packed_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Transpose_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Sum_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Sum.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Transpose.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/BatchMatMul_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/_FusedMatMul.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the License);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an AS IS BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Abs.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Acos.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Acosh.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Add.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/addn_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/addn_packed_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/AddN.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/All.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Any.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/argminmax_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/argminmax_packed_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernel_utils/arg_min_max.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/ArgMax.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/ArgMin.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Asin.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Asinh.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Atan.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Atan2.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Atanh.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/pool_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/AvgPool.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/AvgPool3D.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/avg_pool_backprop_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/AvgPool3DGrad.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/AvgPoolGrad.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/BatchMatMul.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/batchnorm_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/batchnorm_packed_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/BatchNorm.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/slice_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/slice_packed_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Slice.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/BatchToSpaceND.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Bincount.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/BitwiseAnd.js:
  (**
   * @license
   * Copyright 2023 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/BroadcastArgs.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/NotEqual.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Real.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernel_utils/int.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Cast.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Ceil.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/clip_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/clip_packed_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/ClipByValue.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/complex_abs_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/ComplexAbs.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/concat_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/concat_packed_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Imag.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Concat_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Concat.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/conv_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/conv_packed_gpu.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/im2col_packed_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Conv2D_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Conv2D.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/conv_backprop_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Conv2DBackpropFilter.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/conv_backprop_packed_gpu.js:
  (**
   * @license
   * Copyright 2023 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Conv2DBackpropInput.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Conv3D.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Conv3DBackpropFilterV2.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Conv3DBackpropInputV2.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Cos.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Cosh.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/crop_and_resize_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/CropAndResize.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Cum_impl.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Cumprod.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Cumsum.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/DenseBincount.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/depth_to_space_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/DepthToSpace.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/conv_gpu_depthwise.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/conv_packed_gpu_depthwise.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/DepthwiseConv2dNative.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/conv_backprop_gpu_depthwise.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/DepthwiseConv2dNativeBackpropFilter.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/DepthwiseConv2dNativeBackpropInput.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/diag_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Diag.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/dilation_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Dilation2D.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Einsum.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Elu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/EluGrad.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Equal.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Erf.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Exp.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/ExpandDims.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the License);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an AS IS BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Expm1.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/fft_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/FFT_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/FFT.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/fill_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Fill.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/flip_left_right_gpu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/FlipLeftRight.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Floor.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/FloorDiv.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/FromPixels_utils/from_pixels_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/FromPixels_utils/from_pixels_packed_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/FromPixels.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/FusedConv2D.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/FusedDepthwiseConv2D.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/GatherNd.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/gather_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/GatherV2.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Greater.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/GreaterEqual.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/IFFT.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/IsFinite.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/IsInf.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/IsNaN.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Less.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/LessEqual.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/LinSpace.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Log.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Log1p.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/LogicalAnd.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/LogicalNot.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/LogicalOr.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/lrn_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/lrn_packed_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/LRN.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/lrn_grad_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/LRNGrad.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Max_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Max.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Maximum.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/MaxPool.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/MaxPool3D.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/max_pool_backprop_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/MaxPool3DGrad.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/MaxPoolGrad.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/MaxPoolWithArgmax_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/MaxPoolWithArgmax.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Mean_impl.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Mean.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Min.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Minimum.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/mirror_pad_gpu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/mirror_pad_packed_gpu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/MirrorPad.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Mod.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/multinomial_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/RealDiv.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Sub.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Softmax.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Multinomial.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Neg.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/NonMaxSuppressionV3.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/NonMaxSuppressionV4.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/NonMaxSuppressionV5.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/onehot_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/OneHot.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/ZerosLike.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/OnesLike.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Pack.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/pad_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/pad_packed_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/PadV2.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Pow.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Prod.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/RaggedGather.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/RaggedRange.js:
  (**
   * @license
   * Copyright 2022 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/RaggedTensorToTensor.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Range.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Reciprocal.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Relu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Relu6.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/resize_bilinear_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/resize_bilinear_packed_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/ResizeBilinear.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/resize_bilinear_backprop_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/ResizeBilinearGrad.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/resize_nearest_neighbor_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/resize_nearest_neighbor_packed_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/ResizeNearestNeighbor.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/resize_nearest_neighbor_backprop_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/ResizeNearestNeighborGrad.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/reverse_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/reverse_packed_gpu.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Reverse.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/rotate_gpu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/RotateWithOffset.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Round.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Rsqrt.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/scatter_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/scatter_packed_gpu.js:
  (**
   * @license
   * Copyright 2023 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/ScatterNd.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/search_sorted_gpu.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/SearchSorted.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/select_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Select.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Selu.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Sigmoid.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Sign.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Sin.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Sinh.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Softplus.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/SpaceToBatchND.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/SparseFillEmptyRows.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/SparseReshape.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/SparseSegmentMean.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/SparseSegmentSum.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/SparseToDense.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/SplitV.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Sqrt.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Square.js:
  (**
   * @license
   * Copyright 2019 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/SquaredDifference.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/StaticRegexReplace.js:
  (**
   * @license
   * Copyright 2023 Google LLC.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Step.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/strided_slice_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/StridedSlice.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/StringNGrams.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/StringSplit.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/StringToHashBucketFast.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Tan.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Tanh.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/TensorScatterUpdate.js:
  (**
   * @license
   * Copyright 2022 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/tile_gpu.js:
  (**
   * @license
   * Copyright 2017 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Tile.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/TopK.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/transform_gpu.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Transform.js:
  (**
   * @license
   * Copyright 2021 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Unique.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the License);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an AS IS BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/Unpack.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/segment_gpu.js:
  (**
   * @license
   * Copyright 2018 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/kernels/UnsortedSegmentSum.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/register_all_kernels.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)

@tensorflow/tfjs-backend-webgl/dist/index.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)
*/
